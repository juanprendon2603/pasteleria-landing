(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function MA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nw={exports:{}},uc={},rw={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),LA=Symbol.for("react.portal"),OA=Symbol.for("react.fragment"),jA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),UA=Symbol.for("react.provider"),BA=Symbol.for("react.context"),$A=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),HA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),ay=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=ay&&t[ay]||t["@@iterator"],typeof t=="function"?t:null)}var iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sw=Object.assign,ow={};function qs(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||iw}qs.prototype.isReactComponent={};qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aw(){}aw.prototype=qs.prototype;function Xf(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||iw}var Jf=Xf.prototype=new aw;Jf.constructor=Xf;sw(Jf,qs.prototype);Jf.isPureReactComponent=!0;var ly=Array.isArray,lw=Object.prototype.hasOwnProperty,Zf={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function cw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)lw.call(e,r)&&!uw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fa,type:t,key:s,ref:o,props:i,_owner:Zf.current}}function KA(t,e){return{$$typeof:Fa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fa}function GA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uy=/\/+/g;function uh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GA(""+t.key):e.toString(36)}function ql(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fa:case LA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uh(o,0):r,ly(i)?(n="",t!=null&&(n=t.replace(uy,"$&/")+"/"),ql(i,e,n,"",function(c){return c})):i!=null&&(ep(i)&&(i=KA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",ly(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+uh(s,a);o+=ql(s,e,n,u,i)}else if(u=qA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+uh(s,a++),o+=ql(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ml(t,e,n){if(t==null)return t;var r=[],i=0;return ql(t,r,"","",function(s){return e.call(n,s,i++)}),r}function QA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Kl={transition:null},YA={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Zf};function hw(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ml,forEach:function(t,e,n){ml(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ml(t,function(){e++}),e},toArray:function(t){return ml(t,function(e){return e})||[]},only:function(t){if(!ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=qs;ie.Fragment=OA;ie.Profiler=FA;ie.PureComponent=Xf;ie.StrictMode=jA;ie.Suspense=zA;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;ie.act=hw;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)lw.call(e,u)&&!uw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fa,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:BA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UA,_context:t},t.Consumer=t};ie.createElement=cw;ie.createFactory=function(t){var e=cw.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:$A,render:t}};ie.isValidElement=ep;ie.lazy=function(t){return{$$typeof:WA,_payload:{_status:-1,_result:t},_init:QA}};ie.memo=function(t,e){return{$$typeof:HA,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Kl.transition;Kl.transition={};try{t()}finally{Kl.transition=e}};ie.unstable_act=hw;ie.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ie.useContext=function(t){return Mt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ie.useId=function(){return Mt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ie.useRef=function(t){return Mt.current.useRef(t)};ie.useState=function(t){return Mt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Mt.current.useTransition()};ie.version="18.3.1";rw.exports=ie;var A=rw.exports;const XA=MA(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=A,ZA=Symbol.for("react.element"),eC=Symbol.for("react.fragment"),tC=Object.prototype.hasOwnProperty,nC=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rC={key:!0,ref:!0,__self:!0,__source:!0};function dw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tC.call(e,r)&&!rC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZA,type:t,key:s,ref:o,props:i,_owner:nC.current}}uc.Fragment=eC;uc.jsx=dw;uc.jsxs=dw;nw.exports=uc;var g=nw.exports,cd={},fw={exports:{}},tn={},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,G){var Y=z.length;z.push(G);e:for(;0<Y;){var pe=Y-1>>>1,Ae=z[pe];if(0<i(Ae,G))z[pe]=G,z[Y]=Ae,Y=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var G=z[0],Y=z.pop();if(Y!==G){z[0]=Y;e:for(var pe=0,Ae=z.length,qt=Ae>>>1;pe<qt;){var yt=2*(pe+1)-1,Ct=z[yt],It=yt+1,Pt=z[It];if(0>i(Ct,Y))It<Ae&&0>i(Pt,Ct)?(z[pe]=Pt,z[It]=Y,pe=It):(z[pe]=Ct,z[yt]=Y,pe=yt);else if(It<Ae&&0>i(Pt,Y))z[pe]=Pt,z[It]=Y,pe=It;else break e}}return G}function i(z,G){var Y=z.sortIndex-G.sortIndex;return Y!==0?Y:z.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,y=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=z)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function V(z){if(I=!1,w(z),!C)if(n(u)!==null)C=!0,Wt(D);else{var G=n(c);G!==null&&ge(V,G.startTime-z)}}function D(z,G){C=!1,I&&(I=!1,E(v),v=-1),y=!0;var Y=p;try{for(w(G),f=n(u);f!==null&&(!(f.expirationTime>G)||z&&!b());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var Ae=pe(f.expirationTime<=G);G=t.unstable_now(),typeof Ae=="function"?f.callback=Ae:f===n(u)&&r(u),w(G)}else r(u);f=n(u)}if(f!==null)var qt=!0;else{var yt=n(c);yt!==null&&ge(V,yt.startTime-G),qt=!1}return qt}finally{f=null,p=Y,y=!1}}var O=!1,x=null,v=-1,S=5,P=-1;function b(){return!(t.unstable_now()-P<S)}function N(){if(x!==null){var z=t.unstable_now();P=z;var G=!0;try{G=x(!0,z)}finally{G?R():(O=!1,x=null)}}else O=!1}var R;if(typeof _=="function")R=function(){_(N)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,nt=Se.port2;Se.port1.onmessage=N,R=function(){nt.postMessage(null)}}else R=function(){k(N,0)};function Wt(z){x=z,O||(O=!0,R())}function ge(z,G){v=k(function(){z(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,Wt(D))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var Y=p;p=G;try{return z()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=p;p=z;try{return G()}finally{p=Y}},t.unstable_scheduleCallback=function(z,G,Y){var pe=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?pe+Y:pe):Y=pe,z){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=Y+Ae,z={id:h++,callback:G,priorityLevel:z,startTime:Y,expirationTime:Ae,sortIndex:-1},Y>pe?(z.sortIndex=Y,e(c,z),n(u)===null&&z===n(c)&&(I?(E(v),v=-1):I=!0,ge(V,Y-pe))):(z.sortIndex=Ae,e(u,z),C||y||(C=!0,Wt(D))),z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(z){var G=p;return function(){var Y=p;p=G;try{return z.apply(this,arguments)}finally{p=Y}}}})(mw);pw.exports=mw;var iC=pw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=A,en=iC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gw=new Set,sa={};function zi(t,e){ks(t,e),ks(t+"Capture",e)}function ks(t,e){for(sa[t]=e,t=0;t<e.length;t++)gw.add(e[t])}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cy={},hy={};function aC(t){return hd.call(hy,t)?!0:hd.call(cy,t)?!1:oC.test(t)?hy[t]=!0:(cy[t]=!0,!1)}function lC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uC(t,e,n,r){if(e===null||typeof e>"u"||lC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function np(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tp,np);mt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tp,np);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tp,np);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function rp(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uC(e,n,i,r)&&(n=null),r||i===null?aC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gl=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),ip=Symbol.for("react.strict_mode"),dd=Symbol.for("react.profiler"),yw=Symbol.for("react.provider"),vw=Symbol.for("react.context"),sp=Symbol.for("react.forward_ref"),fd=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),kr=Symbol.for("react.lazy"),_w=Symbol.for("react.offscreen"),dy=Symbol.iterator;function Eo(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,ch;function bo(t){if(ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ch=e&&e[1]||""}return`
`+ch+t}var hh=!1;function dh(t,e){if(!t||hh)return"";hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bo(t):""}function cC(t){switch(t.tag){case 5:return bo(t.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return t=dh(t.type,!1),t;case 11:return t=dh(t.type.render,!1),t;case 1:return t=dh(t.type,!0),t;default:return""}}function md(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case dd:return"Profiler";case ip:return"StrictMode";case fd:return"Suspense";case pd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vw:return(t.displayName||"Context")+".Consumer";case yw:return(t._context.displayName||"Context")+".Provider";case sp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:md(t.type)||"Memo";case kr:e=t._payload,t=t._init;try{return md(t(e))}catch{}}return null}function hC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return md(e);case 8:return e===ip?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ww(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dC(t){var e=ww(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yl(t){t._valueTracker||(t._valueTracker=dC(t))}function Ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ww(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gd(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tw(t,e){e=e.checked,e!=null&&rp(t,"checked",e,!1)}function yd(t,e){Tw(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vd(t,e.type,n):e.hasOwnProperty("defaultValue")&&vd(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vd(t,e,n){(e!=="number"||gu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vo=Array.isArray;function ws(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _d(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function my(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Vo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function xw(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vl,Aw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function oa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fC=["Webkit","ms","Moz","O"];Object.keys(Uo).forEach(function(t){fC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uo[e]=Uo[t]})});function Cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uo.hasOwnProperty(t)&&Uo[t]?(""+e).trim():e+"px"}function Iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pC=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(t,e){if(e){if(pC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Td(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=null;function ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Es=null,Ts=null;function yy(t){if(t=$a(t)){if(typeof Sd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=pc(e),Sd(t.stateNode,t.type,e))}}function Pw(t){Es?Ts?Ts.push(t):Ts=[t]:Es=t}function Rw(){if(Es){var t=Es,e=Ts;if(Ts=Es=null,yy(t),e)for(t=0;t<e.length;t++)yy(e[t])}}function kw(t,e){return t(e)}function bw(){}var fh=!1;function Vw(t,e,n){if(fh)return t(e,n);fh=!0;try{return kw(t,e,n)}finally{fh=!1,(Es!==null||Ts!==null)&&(bw(),Rw())}}function aa(t,e){var n=t.stateNode;if(n===null)return null;var r=pc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Ad=!1;if(cr)try{var To={};Object.defineProperty(To,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Ad=!1}function mC(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Bo=!1,yu=null,vu=!1,Cd=null,gC={onError:function(t){Bo=!0,yu=t}};function yC(t,e,n,r,i,s,o,a,u){Bo=!1,yu=null,mC.apply(gC,arguments)}function vC(t,e,n,r,i,s,o,a,u){if(yC.apply(this,arguments),Bo){if(Bo){var c=yu;Bo=!1,yu=null}else throw Error(B(198));vu||(vu=!0,Cd=c)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vy(t){if(Hi(t)!==t)throw Error(B(188))}function _C(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vy(i),t;if(s===r)return vy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Dw(t){return t=_C(t),t!==null?Mw(t):null}function Mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mw(t);if(e!==null)return e;t=t.sibling}return null}var Lw=en.unstable_scheduleCallback,_y=en.unstable_cancelCallback,wC=en.unstable_shouldYield,EC=en.unstable_requestPaint,He=en.unstable_now,TC=en.unstable_getCurrentPriorityLevel,lp=en.unstable_ImmediatePriority,Ow=en.unstable_UserBlockingPriority,_u=en.unstable_NormalPriority,xC=en.unstable_LowPriority,jw=en.unstable_IdlePriority,cc=null,Un=null;function SC(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(cc,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:IC,AC=Math.log,CC=Math.LN2;function IC(t){return t>>>=0,t===0?32:31-(AC(t)/CC|0)|0}var _l=64,wl=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=No(a):(s&=o,s!==0&&(r=No(s)))}else o=n&~i,o!==0?r=No(o):s!==0&&(r=No(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function PC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=PC(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fw(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function ph(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ua(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function kC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function Uw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bw,cp,$w,zw,Hw,Pd=!1,El=[],Or=null,jr=null,Fr=null,la=new Map,ua=new Map,Vr=[],bC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wy(t,e){switch(t){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":la.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ua.delete(e.pointerId)}}function xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=$a(e),e!==null&&cp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VC(t,e,n,r,i){switch(e){case"focusin":return Or=xo(Or,t,e,n,r,i),!0;case"dragenter":return jr=xo(jr,t,e,n,r,i),!0;case"mouseover":return Fr=xo(Fr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return la.set(s,xo(la.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ua.set(s,xo(ua.get(s)||null,t,e,n,r,i)),!0}return!1}function Ww(t){var e=Si(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Nw(n),e!==null){t.blockedOn=e,Hw(t.priority,function(){$w(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xd=r,n.target.dispatchEvent(r),xd=null}else return e=$a(n),e!==null&&cp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ey(t,e,n){Gl(t)&&n.delete(e)}function NC(){Pd=!1,Or!==null&&Gl(Or)&&(Or=null),jr!==null&&Gl(jr)&&(jr=null),Fr!==null&&Gl(Fr)&&(Fr=null),la.forEach(Ey),ua.forEach(Ey)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,Pd||(Pd=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,NC)))}function ca(t){function e(i){return So(i,t)}if(0<El.length){So(El[0],t);for(var n=1;n<El.length;n++){var r=El[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Or!==null&&So(Or,t),jr!==null&&So(jr,t),Fr!==null&&So(Fr,t),la.forEach(e),ua.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)Ww(n),n.blockedOn===null&&Vr.shift()}var xs=wr.ReactCurrentBatchConfig,Eu=!0;function DC(t,e,n,r){var i=ye,s=xs.transition;xs.transition=null;try{ye=1,hp(t,e,n,r)}finally{ye=i,xs.transition=s}}function MC(t,e,n,r){var i=ye,s=xs.transition;xs.transition=null;try{ye=4,hp(t,e,n,r)}finally{ye=i,xs.transition=s}}function hp(t,e,n,r){if(Eu){var i=Rd(t,e,n,r);if(i===null)Sh(t,e,r,Tu,n),wy(t,r);else if(VC(i,t,e,n,r))r.stopPropagation();else if(wy(t,r),e&4&&-1<bC.indexOf(t)){for(;i!==null;){var s=$a(i);if(s!==null&&Bw(s),s=Rd(t,e,n,r),s===null&&Sh(t,e,r,Tu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sh(t,e,r,null,n)}}var Tu=null;function Rd(t,e,n,r){if(Tu=null,t=ap(r),t=Si(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function qw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TC()){case lp:return 1;case Ow:return 4;case _u:case xC:return 16;case jw:return 536870912;default:return 16}default:return 16}}var Dr=null,dp=null,Ql=null;function Kw(){if(Ql)return Ql;var t,e=dp,n=e.length,r,i="value"in Dr?Dr.value:Dr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ql=i.slice(t,1<r?1-r:void 0)}function Yl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function Ty(){return!1}function nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tl:Ty,this.isPropagationStopped=Ty,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=nn(Ks),Ba=Oe({},Ks,{view:0,detail:0}),LC=nn(Ba),mh,gh,Ao,hc=Oe({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(mh=t.screenX-Ao.screenX,gh=t.screenY-Ao.screenY):gh=mh=0,Ao=t),mh)},movementY:function(t){return"movementY"in t?t.movementY:gh}}),xy=nn(hc),OC=Oe({},hc,{dataTransfer:0}),jC=nn(OC),FC=Oe({},Ba,{relatedTarget:0}),yh=nn(FC),UC=Oe({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),BC=nn(UC),$C=Oe({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zC=nn($C),HC=Oe({},Ks,{data:0}),Sy=nn(HC),WC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KC[t])?!!e[t]:!1}function pp(){return GC}var QC=Oe({},Ba,{key:function(t){if(t.key){var e=WC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(t){return t.type==="keypress"?Yl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YC=nn(QC),XC=Oe({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ay=nn(XC),JC=Oe({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),ZC=nn(JC),eI=Oe({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=nn(eI),nI=Oe({},hc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rI=nn(nI),iI=[9,13,27,32],mp=cr&&"CompositionEvent"in window,$o=null;cr&&"documentMode"in document&&($o=document.documentMode);var sI=cr&&"TextEvent"in window&&!$o,Gw=cr&&(!mp||$o&&8<$o&&11>=$o),Cy=" ",Iy=!1;function Qw(t,e){switch(t){case"keyup":return iI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function oI(t,e){switch(t){case"compositionend":return Yw(e);case"keypress":return e.which!==32?null:(Iy=!0,Cy);case"textInput":return t=e.data,t===Cy&&Iy?null:t;default:return null}}function aI(t,e){if(ss)return t==="compositionend"||!mp&&Qw(t,e)?(t=Kw(),Ql=dp=Dr=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gw&&e.locale!=="ko"?null:e.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lI[t.type]:e==="textarea"}function Xw(t,e,n,r){Pw(r),e=xu(e,"onChange"),0<e.length&&(n=new fp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zo=null,ha=null;function uI(t){l1(t,0)}function dc(t){var e=ls(t);if(Ew(e))return t}function cI(t,e){if(t==="change")return e}var Jw=!1;if(cr){var vh;if(cr){var _h="oninput"in document;if(!_h){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),_h=typeof Ry.oninput=="function"}vh=_h}else vh=!1;Jw=vh&&(!document.documentMode||9<document.documentMode)}function ky(){zo&&(zo.detachEvent("onpropertychange",Zw),ha=zo=null)}function Zw(t){if(t.propertyName==="value"&&dc(ha)){var e=[];Xw(e,ha,t,ap(t)),Vw(uI,e)}}function hI(t,e,n){t==="focusin"?(ky(),zo=e,ha=n,zo.attachEvent("onpropertychange",Zw)):t==="focusout"&&ky()}function dI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(ha)}function fI(t,e){if(t==="click")return dc(e)}function pI(t,e){if(t==="input"||t==="change")return dc(e)}function mI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var In=typeof Object.is=="function"?Object.is:mI;function da(t,e){if(In(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(e,i)||!In(t[i],e[i]))return!1}return!0}function by(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vy(t,e){var n=by(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=by(n)}}function e1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function t1(){for(var t=window,e=gu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gu(t.document)}return e}function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gI(t){var e=t1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&e1(n.ownerDocument.documentElement,n)){if(r!==null&&gp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Vy(n,s);var o=Vy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yI=cr&&"documentMode"in document&&11>=document.documentMode,os=null,kd=null,Ho=null,bd=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bd||os==null||os!==gu(r)||(r=os,"selectionStart"in r&&gp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&da(Ho,r)||(Ho=r,r=xu(kd,"onSelect"),0<r.length&&(e=new fp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=os)))}function xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},wh={},n1={};cr&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function fc(t){if(wh[t])return wh[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in n1)return wh[t]=e[n];return t}var r1=fc("animationend"),i1=fc("animationiteration"),s1=fc("animationstart"),o1=fc("transitionend"),a1=new Map,Dy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(t,e){a1.set(t,e),zi(e,[t])}for(var Eh=0;Eh<Dy.length;Eh++){var Th=Dy[Eh],vI=Th.toLowerCase(),_I=Th[0].toUpperCase()+Th.slice(1);ai(vI,"on"+_I)}ai(r1,"onAnimationEnd");ai(i1,"onAnimationIteration");ai(s1,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(o1,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function My(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vC(r,e,void 0,t),t.currentTarget=null}function l1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;My(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;My(i,a,c),s=u}}}if(vu)throw t=Cd,vu=!1,Cd=null,t}function Pe(t,e){var n=e[Ld];n===void 0&&(n=e[Ld]=new Set);var r=t+"__bubble";n.has(r)||(u1(e,t,2,!1),n.add(r))}function xh(t,e,n){var r=0;e&&(r|=4),u1(n,t,r,e)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function fa(t){if(!t[Sl]){t[Sl]=!0,gw.forEach(function(n){n!=="selectionchange"&&(wI.has(n)||xh(n,!1,t),xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sl]||(e[Sl]=!0,xh("selectionchange",!1,e))}}function u1(t,e,n,r){switch(qw(e)){case 1:var i=DC;break;case 4:i=MC;break;default:i=hp}n=i.bind(null,e,n,t),i=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Si(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Vw(function(){var c=s,h=ap(n),f=[];e:{var p=a1.get(t);if(p!==void 0){var y=fp,C=t;switch(t){case"keypress":if(Yl(n)===0)break e;case"keydown":case"keyup":y=YC;break;case"focusin":C="focus",y=yh;break;case"focusout":C="blur",y=yh;break;case"beforeblur":case"afterblur":y=yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=xy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ZC;break;case r1:case i1:case s1:y=BC;break;case o1:y=tI;break;case"scroll":y=LC;break;case"wheel":y=rI;break;case"copy":case"cut":case"paste":y=zC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ay}var I=(e&4)!==0,k=!I&&t==="scroll",E=I?p!==null?p+"Capture":null:p;I=[];for(var _=c,w;_!==null;){w=_;var V=w.stateNode;if(w.tag===5&&V!==null&&(w=V,E!==null&&(V=aa(_,E),V!=null&&I.push(pa(_,V,w)))),k)break;_=_.return}0<I.length&&(p=new y(p,C,null,n,h),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==xd&&(C=n.relatedTarget||n.fromElement)&&(Si(C)||C[hr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?Si(C):null,C!==null&&(k=Hi(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=c),y!==C)){if(I=xy,V="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Ay,V="onPointerLeave",E="onPointerEnter",_="pointer"),k=y==null?p:ls(y),w=C==null?p:ls(C),p=new I(V,_+"leave",y,n,h),p.target=k,p.relatedTarget=w,V=null,Si(h)===c&&(I=new I(E,_+"enter",C,n,h),I.target=w,I.relatedTarget=k,V=I),k=V,y&&C)t:{for(I=y,E=C,_=0,w=I;w;w=Xi(w))_++;for(w=0,V=E;V;V=Xi(V))w++;for(;0<_-w;)I=Xi(I),_--;for(;0<w-_;)E=Xi(E),w--;for(;_--;){if(I===E||E!==null&&I===E.alternate)break t;I=Xi(I),E=Xi(E)}I=null}else I=null;y!==null&&Ly(f,p,y,I,!1),C!==null&&k!==null&&Ly(f,k,C,I,!0)}}e:{if(p=c?ls(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var D=cI;else if(Py(p))if(Jw)D=pI;else{D=dI;var O=hI}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=fI);if(D&&(D=D(t,c))){Xw(f,D,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&vd(p,"number",p.value)}switch(O=c?ls(c):window,t){case"focusin":(Py(O)||O.contentEditable==="true")&&(os=O,kd=c,Ho=null);break;case"focusout":Ho=kd=os=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,Ny(f,n,h);break;case"selectionchange":if(yI)break;case"keydown":case"keyup":Ny(f,n,h)}var x;if(mp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ss?Qw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Gw&&n.locale!=="ko"&&(ss||v!=="onCompositionStart"?v==="onCompositionEnd"&&ss&&(x=Kw()):(Dr=h,dp="value"in Dr?Dr.value:Dr.textContent,ss=!0)),O=xu(c,v),0<O.length&&(v=new Sy(v,t,null,n,h),f.push({event:v,listeners:O}),x?v.data=x:(x=Yw(n),x!==null&&(v.data=x)))),(x=sI?oI(t,n):aI(t,n))&&(c=xu(c,"onBeforeInput"),0<c.length&&(h=new Sy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=x))}l1(f,e)})}function pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=aa(t,n),s!=null&&r.unshift(pa(t,s,i)),s=aa(t,e),s!=null&&r.push(pa(t,s,i))),t=t.return}return r}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ly(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=aa(n,s),u!=null&&o.unshift(pa(n,u,a))):i||(u=aa(n,s),u!=null&&o.push(pa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function Oy(t){return(typeof t=="string"?t:""+t).replace(EI,`
`).replace(TI,"")}function Al(t,e,n){if(e=Oy(e),Oy(t)!==e&&n)throw Error(B(425))}function Su(){}var Vd=null,Nd=null;function Dd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,SI=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(AI)}:Md;function AI(t){setTimeout(function(){throw t})}function Ah(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ca(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ca(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),jn="__reactFiber$"+Gs,ma="__reactProps$"+Gs,hr="__reactContainer$"+Gs,Ld="__reactEvents$"+Gs,CI="__reactListeners$"+Gs,II="__reactHandles$"+Gs;function Si(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fy(t);t!==null;){if(n=t[jn])return n;t=Fy(t)}return e}t=n,n=t.parentNode}return null}function $a(t){return t=t[jn]||t[hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function pc(t){return t[ma]||null}var Od=[],us=-1;function li(t){return{current:t}}function ke(t){0>us||(t.current=Od[us],Od[us]=null,us--)}function xe(t,e){us++,Od[us]=t.current,t.current=e}var Jr={},At=li(Jr),$t=li(!1),Mi=Jr;function bs(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Au(){ke($t),ke(At)}function Uy(t,e,n){if(At.current!==Jr)throw Error(B(168));xe(At,e),xe($t,n)}function c1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,hC(t)||"Unknown",i));return Oe({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Mi=At.current,xe(At,t),xe($t,$t.current),!0}function By(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=c1(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,ke($t),ke(At),xe(At,t)):ke($t),xe($t,n)}var ir=null,mc=!1,Ch=!1;function h1(t){ir===null?ir=[t]:ir.push(t)}function PI(t){mc=!0,h1(t)}function ui(){if(!Ch&&ir!==null){Ch=!0;var t=0,e=ye;try{var n=ir;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ir=null,mc=!1}catch(i){throw ir!==null&&(ir=ir.slice(t+1)),Lw(lp,ui),i}finally{ye=e,Ch=!1}}return null}var cs=[],hs=0,Iu=null,Pu=0,an=[],ln=0,Li=null,sr=1,or="";function wi(t,e){cs[hs++]=Pu,cs[hs++]=Iu,Iu=t,Pu=e}function d1(t,e,n){an[ln++]=sr,an[ln++]=or,an[ln++]=Li,Li=t;var r=sr;t=or;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sr=1<<32-Sn(e)+i|n<<i|r,or=s+t}else sr=1<<s|n<<i|r,or=t}function yp(t){t.return!==null&&(wi(t,1),d1(t,1,0))}function vp(t){for(;t===Iu;)Iu=cs[--hs],cs[hs]=null,Pu=cs[--hs],cs[hs]=null;for(;t===Li;)Li=an[--ln],an[ln]=null,or=an[--ln],an[ln]=null,sr=an[--ln],an[ln]=null}var Zt=null,Xt=null,be=!1,Tn=null;function f1(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $y(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Li!==null?{id:sr,overflow:or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function jd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if(be){var e=Xt;if(e){var n=e;if(!$y(t,e)){if(jd(t))throw Error(B(418));e=Ur(n.nextSibling);var r=Zt;e&&$y(t,e)?f1(r,n):(t.flags=t.flags&-4097|2,be=!1,Zt=t)}}else{if(jd(t))throw Error(B(418));t.flags=t.flags&-4097|2,be=!1,Zt=t}}}function zy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Cl(t){if(t!==Zt)return!1;if(!be)return zy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dd(t.type,t.memoizedProps)),e&&(e=Xt)){if(jd(t))throw p1(),Error(B(418));for(;e;)f1(t,e),e=Ur(e.nextSibling)}if(zy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?Ur(t.stateNode.nextSibling):null;return!0}function p1(){for(var t=Xt;t;)t=Ur(t.nextSibling)}function Vs(){Xt=Zt=null,be=!1}function _p(t){Tn===null?Tn=[t]:Tn.push(t)}var RI=wr.ReactCurrentBatchConfig;function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Il(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Hy(t){var e=t._init;return e(t._payload)}function m1(t){function e(E,_){if(t){var w=E.deletions;w===null?(E.deletions=[_],E.flags|=16):w.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Hr(E,_),E.index=0,E.sibling=null,E}function s(E,_,w){return E.index=w,t?(w=E.alternate,w!==null?(w=w.index,w<_?(E.flags|=2,_):w):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,w,V){return _===null||_.tag!==6?(_=Nh(w,E.mode,V),_.return=E,_):(_=i(_,w),_.return=E,_)}function u(E,_,w,V){var D=w.type;return D===is?h(E,_,w.props.children,V,w.key):_!==null&&(_.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kr&&Hy(D)===_.type)?(V=i(_,w.props),V.ref=Co(E,_,w),V.return=E,V):(V=ru(w.type,w.key,w.props,null,E.mode,V),V.ref=Co(E,_,w),V.return=E,V)}function c(E,_,w,V){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Dh(w,E.mode,V),_.return=E,_):(_=i(_,w.children||[]),_.return=E,_)}function h(E,_,w,V,D){return _===null||_.tag!==7?(_=Vi(w,E.mode,V,D),_.return=E,_):(_=i(_,w),_.return=E,_)}function f(E,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Nh(""+_,E.mode,w),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gl:return w=ru(_.type,_.key,_.props,null,E.mode,w),w.ref=Co(E,null,_),w.return=E,w;case rs:return _=Dh(_,E.mode,w),_.return=E,_;case kr:var V=_._init;return f(E,V(_._payload),w)}if(Vo(_)||Eo(_))return _=Vi(_,E.mode,w,null),_.return=E,_;Il(E,_)}return null}function p(E,_,w,V){var D=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return D!==null?null:a(E,_,""+w,V);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:return w.key===D?u(E,_,w,V):null;case rs:return w.key===D?c(E,_,w,V):null;case kr:return D=w._init,p(E,_,D(w._payload),V)}if(Vo(w)||Eo(w))return D!==null?null:h(E,_,w,V,null);Il(E,w)}return null}function y(E,_,w,V,D){if(typeof V=="string"&&V!==""||typeof V=="number")return E=E.get(w)||null,a(_,E,""+V,D);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case gl:return E=E.get(V.key===null?w:V.key)||null,u(_,E,V,D);case rs:return E=E.get(V.key===null?w:V.key)||null,c(_,E,V,D);case kr:var O=V._init;return y(E,_,w,O(V._payload),D)}if(Vo(V)||Eo(V))return E=E.get(w)||null,h(_,E,V,D,null);Il(_,V)}return null}function C(E,_,w,V){for(var D=null,O=null,x=_,v=_=0,S=null;x!==null&&v<w.length;v++){x.index>v?(S=x,x=null):S=x.sibling;var P=p(E,x,w[v],V);if(P===null){x===null&&(x=S);break}t&&x&&P.alternate===null&&e(E,x),_=s(P,_,v),O===null?D=P:O.sibling=P,O=P,x=S}if(v===w.length)return n(E,x),be&&wi(E,v),D;if(x===null){for(;v<w.length;v++)x=f(E,w[v],V),x!==null&&(_=s(x,_,v),O===null?D=x:O.sibling=x,O=x);return be&&wi(E,v),D}for(x=r(E,x);v<w.length;v++)S=y(x,E,v,w[v],V),S!==null&&(t&&S.alternate!==null&&x.delete(S.key===null?v:S.key),_=s(S,_,v),O===null?D=S:O.sibling=S,O=S);return t&&x.forEach(function(b){return e(E,b)}),be&&wi(E,v),D}function I(E,_,w,V){var D=Eo(w);if(typeof D!="function")throw Error(B(150));if(w=D.call(w),w==null)throw Error(B(151));for(var O=D=null,x=_,v=_=0,S=null,P=w.next();x!==null&&!P.done;v++,P=w.next()){x.index>v?(S=x,x=null):S=x.sibling;var b=p(E,x,P.value,V);if(b===null){x===null&&(x=S);break}t&&x&&b.alternate===null&&e(E,x),_=s(b,_,v),O===null?D=b:O.sibling=b,O=b,x=S}if(P.done)return n(E,x),be&&wi(E,v),D;if(x===null){for(;!P.done;v++,P=w.next())P=f(E,P.value,V),P!==null&&(_=s(P,_,v),O===null?D=P:O.sibling=P,O=P);return be&&wi(E,v),D}for(x=r(E,x);!P.done;v++,P=w.next())P=y(x,E,v,P.value,V),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?v:P.key),_=s(P,_,v),O===null?D=P:O.sibling=P,O=P);return t&&x.forEach(function(N){return e(E,N)}),be&&wi(E,v),D}function k(E,_,w,V){if(typeof w=="object"&&w!==null&&w.type===is&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gl:e:{for(var D=w.key,O=_;O!==null;){if(O.key===D){if(D=w.type,D===is){if(O.tag===7){n(E,O.sibling),_=i(O,w.props.children),_.return=E,E=_;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kr&&Hy(D)===O.type){n(E,O.sibling),_=i(O,w.props),_.ref=Co(E,O,w),_.return=E,E=_;break e}n(E,O);break}else e(E,O);O=O.sibling}w.type===is?(_=Vi(w.props.children,E.mode,V,w.key),_.return=E,E=_):(V=ru(w.type,w.key,w.props,null,E.mode,V),V.ref=Co(E,_,w),V.return=E,E=V)}return o(E);case rs:e:{for(O=w.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(E,_.sibling),_=i(_,w.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Dh(w,E.mode,V),_.return=E,E=_}return o(E);case kr:return O=w._init,k(E,_,O(w._payload),V)}if(Vo(w))return C(E,_,w,V);if(Eo(w))return I(E,_,w,V);Il(E,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,w),_.return=E,E=_):(n(E,_),_=Nh(w,E.mode,V),_.return=E,E=_),o(E)):n(E,_)}return k}var Ns=m1(!0),g1=m1(!1),Ru=li(null),ku=null,ds=null,wp=null;function Ep(){wp=ds=ku=null}function Tp(t){var e=Ru.current;ke(Ru),t._currentValue=e}function Ud(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ss(t,e){ku=t,wp=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(wp!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(ku===null)throw Error(B(308));ds=t,ku.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var Ai=null;function xp(t){Ai===null?Ai=[t]:Ai.push(t)}function y1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xp(e)):(n.next=i.next,i.next=n),e.interleaved=n,dr(t,r)}function dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function Sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,dr(t,n)}return i=r.interleaved,i===null?(e.next=e,xp(r)):(e.next=i.next,i.next=e),r.interleaved=e,dr(t,n)}function Xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}function Wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bu(t,e,n,r){var i=t.updateQueue;br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,I=a;switch(p=e,y=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){f=C.call(y,f,p);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,p=typeof C=="function"?C.call(y,f,p):C,p==null)break e;f=Oe({},f,p);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=f}}function qy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var za={},Bn=li(za),ga=li(za),ya=li(za);function Ci(t){if(t===za)throw Error(B(174));return t}function Ap(t,e){switch(xe(ya,e),xe(ga,t),xe(Bn,za),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wd(e,t)}ke(Bn),xe(Bn,e)}function Ds(){ke(Bn),ke(ga),ke(ya)}function _1(t){Ci(ya.current);var e=Ci(Bn.current),n=wd(e,t.type);e!==n&&(xe(ga,t),xe(Bn,n))}function Cp(t){ga.current===t&&(ke(Bn),ke(ga))}var De=li(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ih=[];function Ip(){for(var t=0;t<Ih.length;t++)Ih[t]._workInProgressVersionPrimary=null;Ih.length=0}var Jl=wr.ReactCurrentDispatcher,Ph=wr.ReactCurrentBatchConfig,Oi=0,Le=null,Je=null,at=null,Nu=!1,Wo=!1,va=0,kI=0;function vt(){throw Error(B(321))}function Pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!In(t[n],e[n]))return!1;return!0}function Rp(t,e,n,r,i,s){if(Oi=s,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jl.current=t===null||t.memoizedState===null?DI:MI,t=n(r,i),Wo){s=0;do{if(Wo=!1,va=0,25<=s)throw Error(B(301));s+=1,at=Je=null,e.updateQueue=null,Jl.current=LI,t=n(r,i)}while(Wo)}if(Jl.current=Du,e=Je!==null&&Je.next!==null,Oi=0,at=Je=Le=null,Nu=!1,e)throw Error(B(300));return t}function kp(){var t=va!==0;return va=0,t}function Ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Le.memoizedState=at=t:at=at.next=t,at}function mn(){if(Je===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=at===null?Le.memoizedState:at.next;if(e!==null)at=e,Je=t;else{if(t===null)throw Error(B(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},at===null?Le.memoizedState=at=t:at=at.next=t}return at}function _a(t,e){return typeof e=="function"?e(t):e}function Rh(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Oi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Le.lanes|=h,ji|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,In(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Le.lanes|=s,ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=mn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);In(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function w1(){}function E1(t,e){var n=Le,r=mn(),i=e(),s=!In(r.memoizedState,i);if(s&&(r.memoizedState=i,Ut=!0),r=r.queue,bp(S1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,wa(9,x1.bind(null,n,r,i,e),void 0,null),lt===null)throw Error(B(349));Oi&30||T1(n,e,i)}return i}function T1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function x1(t,e,n,r){e.value=n,e.getSnapshot=r,A1(e)&&C1(t)}function S1(t,e,n){return n(function(){A1(e)&&C1(t)})}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!In(t,n)}catch{return!0}}function C1(t){var e=dr(t,1);e!==null&&An(e,t,1,-1)}function Ky(t){var e=Ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e.queue=t,t=t.dispatch=NI.bind(null,Le,t),[e.memoizedState,t]}function wa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I1(){return mn().memoizedState}function Zl(t,e,n,r){var i=Ln();Le.flags|=t,i.memoizedState=wa(1|e,n,void 0,r===void 0?null:r)}function gc(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Pp(r,o.deps)){i.memoizedState=wa(e,n,s,r);return}}Le.flags|=t,i.memoizedState=wa(1|e,n,s,r)}function Gy(t,e){return Zl(8390656,8,t,e)}function bp(t,e){return gc(2048,8,t,e)}function P1(t,e){return gc(4,2,t,e)}function R1(t,e){return gc(4,4,t,e)}function k1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b1(t,e,n){return n=n!=null?n.concat([t]):null,gc(4,4,k1.bind(null,e,t),n)}function Vp(){}function V1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function N1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function D1(t,e,n){return Oi&21?(In(n,e)||(n=Fw(),Le.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function bI(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Ph.transition;Ph.transition={};try{t(!1),e()}finally{ye=n,Ph.transition=r}}function M1(){return mn().memoizedState}function VI(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},L1(t))O1(e,n);else if(n=y1(t,e,n,r),n!==null){var i=Dt();An(n,t,r,i),j1(n,e,r)}}function NI(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(L1(t))O1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,In(a,o)){var u=e.interleaved;u===null?(i.next=i,xp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=y1(t,e,i,r),n!==null&&(i=Dt(),An(n,t,r,i),j1(n,e,r))}}function L1(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function O1(t,e){Wo=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}var Du={readContext:pn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},DI={readContext:pn,useCallback:function(t,e){return Ln().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Gy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zl(4194308,4,k1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zl(4,2,t,e)},useMemo:function(t,e){var n=Ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VI.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var e=Ln();return t={current:t},e.memoizedState=t},useState:Ky,useDebugValue:Vp,useDeferredValue:function(t){return Ln().memoizedState=t},useTransition:function(){var t=Ky(!1),e=t[0];return t=bI.bind(null,t[1]),Ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Le,i=Ln();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),lt===null)throw Error(B(349));Oi&30||T1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Gy(S1.bind(null,r,s,t),[t]),r.flags|=2048,wa(9,x1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ln(),e=lt.identifierPrefix;if(be){var n=or,r=sr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=va++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MI={readContext:pn,useCallback:V1,useContext:pn,useEffect:bp,useImperativeHandle:b1,useInsertionEffect:P1,useLayoutEffect:R1,useMemo:N1,useReducer:Rh,useRef:I1,useState:function(){return Rh(_a)},useDebugValue:Vp,useDeferredValue:function(t){var e=mn();return D1(e,Je.memoizedState,t)},useTransition:function(){var t=Rh(_a)[0],e=mn().memoizedState;return[t,e]},useMutableSource:w1,useSyncExternalStore:E1,useId:M1,unstable_isNewReconciler:!1},LI={readContext:pn,useCallback:V1,useContext:pn,useEffect:bp,useImperativeHandle:b1,useInsertionEffect:P1,useLayoutEffect:R1,useMemo:N1,useReducer:kh,useRef:I1,useState:function(){return kh(_a)},useDebugValue:Vp,useDeferredValue:function(t){var e=mn();return Je===null?e.memoizedState=t:D1(e,Je.memoizedState,t)},useTransition:function(){var t=kh(_a)[0],e=mn().memoizedState;return[t,e]},useMutableSource:w1,useSyncExternalStore:E1,useId:M1,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yc={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=zr(t),s=lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,i),e!==null&&(An(e,t,i,r),Xl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=zr(t),s=lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Br(t,s,i),e!==null&&(An(e,t,i,r),Xl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=zr(t),i=lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Br(t,i,r),e!==null&&(An(e,t,r,n),Xl(e,t,r))}};function Qy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!da(n,r)||!da(i,s):!0}function F1(t,e,n){var r=!1,i=Jr,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=zt(e)?Mi:At.current,r=e.contextTypes,s=(r=r!=null)?bs(t,i):Jr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Yy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yc.enqueueReplaceState(e,e.state,null)}function $d(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=zt(e)?Mi:At.current,i.context=bs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yc.enqueueReplaceState(i,i.state,null),bu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,e){try{var n="",r=e;do n+=cC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function bh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OI=typeof WeakMap=="function"?WeakMap:Map;function U1(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lu||(Lu=!0,Zd=r),zd(t,e)},n}function B1(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zd(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XI.bind(null,t,e,n),e.then(t,t))}function Jy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Br(n,e,1))),n.lanes|=1),t)}var jI=wr.ReactCurrentOwner,Ut=!1;function Vt(t,e,n,r){e.child=t===null?g1(e,null,n,r):Ns(e,t.child,n,r)}function ev(t,e,n,r,i){n=n.render;var s=e.ref;return Ss(e,i),r=Rp(t,e,n,r,s,i),n=kp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(be&&n&&yp(e),e.flags|=1,Vt(t,e,r,i),e.child)}function tv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Up(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,$1(t,e,s,r,i)):(t=ru(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:da,n(o,r)&&t.ref===e.ref)return fr(t,e,i)}return e.flags|=1,t=Hr(s,r),t.ref=e.ref,t.return=e,e.child=t}function $1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(da(s,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,fr(t,e,i)}return Hd(t,e,n,r,i)}function z1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ps,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(ps,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(ps,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(ps,Yt),Yt|=r;return Vt(t,e,i,n),e.child}function H1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hd(t,e,n,r,i){var s=zt(n)?Mi:At.current;return s=bs(e,s),Ss(e,i),n=Rp(t,e,n,r,s,i),r=kp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(be&&r&&yp(e),e.flags|=1,Vt(t,e,n,i),e.child)}function nv(t,e,n,r,i){if(zt(n)){var s=!0;Cu(e)}else s=!1;if(Ss(e,i),e.stateNode===null)eu(t,e),F1(e,n,r),$d(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=zt(n)?Mi:At.current,c=bs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Yy(e,o,r,c),br=!1;var p=e.memoizedState;o.state=p,bu(e,r,o,i),u=e.memoizedState,a!==r||p!==u||$t.current||br?(typeof h=="function"&&(Bd(e,n,h,r),u=e.memoizedState),(a=br||Qy(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,v1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=zt(n)?Mi:At.current,u=bs(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Yy(e,o,r,u),br=!1,p=e.memoizedState,o.state=p,bu(e,r,o,i);var C=e.memoizedState;a!==f||p!==C||$t.current||br?(typeof y=="function"&&(Bd(e,n,y,r),C=e.memoizedState),(c=br||Qy(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Wd(t,e,n,r,s,i)}function Wd(t,e,n,r,i,s){H1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&By(e,n,!1),fr(t,e,s);r=e.stateNode,jI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&By(e,n,!0),e.child}function W1(t){var e=t.stateNode;e.pendingContext?Uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uy(t,e.context,!1),Ap(t,e.containerInfo)}function rv(t,e,n,r,i){return Vs(),_p(i),e.flags|=256,Vt(t,e,n,r),e.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Kd(t){return{baseLanes:t,cachePool:null,transitions:null}}function q1(t,e,n){var r=e.pendingProps,i=De.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(De,i&1),t===null)return Fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wc(o,r,0,null),t=Vi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Kd(n),e.memoizedState=qd,t):Np(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Hr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hr(a,s):(s=Vi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Kd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qd,r}return s=t.child,t=s.sibling,r=Hr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Np(t,e){return e=wc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,n,r){return r!==null&&_p(r),Ns(e,t.child,null,n),t=Np(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=bh(Error(B(422))),Pl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wc({mode:"visible",children:r.children},i,0,null),s=Vi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ns(e,t.child,null,o),e.child.memoizedState=Kd(o),e.memoizedState=qd,s);if(!(e.mode&1))return Pl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=bh(s,r,void 0),Pl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,dr(t,i),An(r,t,i,-1))}return Fp(),r=bh(Error(B(421))),Pl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Xt=Ur(i.nextSibling),Zt=e,be=!0,Tn=null,t!==null&&(an[ln++]=sr,an[ln++]=or,an[ln++]=Li,sr=t.id,or=t.overflow,Li=e),e=Np(e,r.children),e.flags|=4096,e)}function iv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ud(t.return,e,n)}function Vh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function K1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,n,e);else if(t.tag===19)iv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(De,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vh(e,!0,n,null,s);break;case"together":Vh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UI(t,e,n){switch(e.tag){case 3:W1(e),Vs();break;case 5:_1(e);break;case 1:zt(e.type)&&Cu(e);break;case 4:Ap(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Ru,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?q1(t,e,n):(xe(De,De.current&1),t=fr(t,e,n),t!==null?t.sibling:null);xe(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,z1(t,e,n)}return fr(t,e,n)}var G1,Gd,Q1,Y1;G1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gd=function(){};Q1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ci(Bn.current);var s=null;switch(n){case"input":i=gd(t,i),r=gd(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=_d(t,i),r=_d(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Su)}Ed(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Pe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Y1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Io(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BI(t,e,n){var r=e.pendingProps;switch(vp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return zt(e.type)&&Au(),_t(e),null;case 3:return r=e.stateNode,Ds(),ke($t),ke(At),Ip(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(nf(Tn),Tn=null))),Gd(t,e),_t(e),null;case 5:Cp(e);var i=Ci(ya.current);if(n=e.type,t!==null&&e.stateNode!=null)Q1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=Ci(Bn.current),Cl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[jn]=e,r[ma]=s,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<Do.length;i++)Pe(Do[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":fy(r,s),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pe("invalid",r);break;case"textarea":my(r,s),Pe("invalid",r)}Ed(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",""+a]):sa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pe("scroll",r)}switch(n){case"input":yl(r),py(r,s,!0);break;case"textarea":yl(r),gy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Su)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[jn]=e,t[ma]=r,G1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Td(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Do.length;i++)Pe(Do[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":fy(t,r),i=gd(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":my(t,r),i=_d(t,r),Pe("invalid",t);break;default:i=r}Ed(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Iw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Aw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&oa(t,u):typeof u=="number"&&oa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Pe("scroll",t):u!=null&&rp(t,s,u,o))}switch(n){case"input":yl(t),py(t,r,!1);break;case"textarea":yl(t),gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ws(t,!!r.multiple,s,!1):r.defaultValue!=null&&ws(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Y1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Ci(ya.current),Ci(Bn.current),Cl(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return _t(e),null;case 13:if(ke(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Xt!==null&&e.mode&1&&!(e.flags&128))p1(),Vs(),e.flags|=98560,s=!1;else if(s=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[jn]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),s=!1}else Tn!==null&&(nf(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ze===0&&(Ze=3):Fp())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Ds(),Gd(t,e),t===null&&fa(e.stateNode.containerInfo),_t(e),null;case 10:return Tp(e.type._context),_t(e),null;case 17:return zt(e.type)&&Au(),_t(e),null;case 19:if(ke(De),s=e.memoizedState,s===null)return _t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Io(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vu(t),o!==null){for(e.flags|=128,Io(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(De,De.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>Ls&&(e.flags|=128,r=!0,Io(s,!1),e.lanes=4194304)}else{if(!r)if(t=Vu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Io(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return _t(e),null}else 2*He()-s.renderingStartTime>Ls&&n!==1073741824&&(e.flags|=128,r=!0,Io(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=De.current,xe(De,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return jp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function $I(t,e){switch(vp(e),e.tag){case 1:return zt(e.type)&&Au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),ke($t),ke(At),Ip(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cp(e),null;case 13:if(ke(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(De),null;case 4:return Ds(),null;case 10:return Tp(e.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var Rl=!1,Tt=!1,zI=typeof WeakSet=="function"?WeakSet:Set,K=null;function fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function Qd(t,e,n){try{n()}catch(r){Be(t,e,r)}}var sv=!1;function HI(t,e){if(Vd=Eu,t=t1(),gp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:t,selectionRange:n},Eu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,k=C.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?I:wn(e.type,I),k);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(V){Be(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return C=sv,sv=!1,C}function qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qd(e,n,s)}i=i.next}while(i!==r)}}function vc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function X1(t){var e=t.alternate;e!==null&&(t.alternate=null,X1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[ma],delete e[Ld],delete e[CI],delete e[II])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function J1(t){return t.tag===5||t.tag===3||t.tag===4}function ov(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(r!==4&&(t=t.child,t!==null))for(Xd(t,e,n),t=t.sibling;t!==null;)Xd(t,e,n),t=t.sibling}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}var ct=null,En=!1;function Pr(t,e,n){for(n=n.child;n!==null;)Z1(t,e,n),n=n.sibling}function Z1(t,e,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(cc,n)}catch{}switch(n.tag){case 5:Tt||fs(n,e);case 6:var r=ct,i=En;ct=null,Pr(t,e,n),ct=r,En=i,ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(En?(t=ct,n=n.stateNode,t.nodeType===8?Ah(t.parentNode,n):t.nodeType===1&&Ah(t,n),ca(t)):Ah(ct,n.stateNode));break;case 4:r=ct,i=En,ct=n.stateNode.containerInfo,En=!0,Pr(t,e,n),ct=r,En=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qd(n,e,o),i=i.next}while(i!==r)}Pr(t,e,n);break;case 1:if(!Tt&&(fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Pr(t,e,n);break;case 21:Pr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Pr(t,e,n),Tt=r):Pr(t,e,n);break;default:Pr(t,e,n)}}function av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zI),e.forEach(function(r){var i=ZI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,En=!1;break e;case 3:ct=a.stateNode.containerInfo,En=!0;break e;case 4:ct=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(ct===null)throw Error(B(160));Z1(s,o,i),ct=null,En=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eE(e,t),e=e.sibling}function eE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Mn(t),r&4){try{qo(3,t,t.return),vc(3,t)}catch(I){Be(t,t.return,I)}try{qo(5,t,t.return)}catch(I){Be(t,t.return,I)}}break;case 1:vn(e,t),Mn(t),r&512&&n!==null&&fs(n,n.return);break;case 5:if(vn(e,t),Mn(t),r&512&&n!==null&&fs(n,n.return),t.flags&32){var i=t.stateNode;try{oa(i,"")}catch(I){Be(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Tw(i,s),Td(a,o);var c=Td(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?Iw(i,f):h==="dangerouslySetInnerHTML"?Aw(i,f):h==="children"?oa(i,f):rp(i,h,f,c)}switch(a){case"input":yd(i,s);break;case"textarea":xw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ws(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?ws(i,!!s.multiple,s.defaultValue,!0):ws(i,!!s.multiple,s.multiple?[]:"",!1))}i[ma]=s}catch(I){Be(t,t.return,I)}}break;case 6:if(vn(e,t),Mn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Be(t,t.return,I)}}break;case 3:if(vn(e,t),Mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(e.containerInfo)}catch(I){Be(t,t.return,I)}break;case 4:vn(e,t),Mn(t);break;case 13:vn(e,t),Mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Lp=He())),r&4&&av(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||h,vn(e,t),Tt=c):vn(e,t),Mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(p=K,y=p.child,p.tag){case 0:case 11:case 14:case 15:qo(4,p,p.return);break;case 1:fs(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){Be(r,n,I)}}break;case 5:fs(p,p.return);break;case 22:if(p.memoizedState!==null){uv(f);continue}}y!==null?(y.return=p,K=y):uv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Cw("display",o))}catch(I){Be(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){Be(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vn(e,t),Mn(t),r&4&&av(t);break;case 21:break;default:vn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(J1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oa(i,""),r.flags&=-33);var s=ov(t);Jd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ov(t);Xd(t,a,o);break;default:throw Error(B(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WI(t,e,n){K=t,tE(t)}function tE(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Rl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Tt;a=Rl;var c=Tt;if(Rl=o,(Tt=u)&&!c)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?cv(i):u!==null?(u.return=o,K=u):cv(i);for(;s!==null;)K=s,tE(s),s=s.sibling;K=i,Rl=a,Tt=c}lv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):lv(t)}}function lv(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||vc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ca(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&Yd(e)}catch(p){Be(e,e.return,p)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function uv(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function cv(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vc(4,e)}catch(u){Be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Be(e,i,u)}}var s=e.return;try{Yd(e)}catch(u){Be(e,s,u)}break;case 5:var o=e.return;try{Yd(e)}catch(u){Be(e,o,u)}}}catch(u){Be(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var qI=Math.ceil,Mu=wr.ReactCurrentDispatcher,Dp=wr.ReactCurrentOwner,dn=wr.ReactCurrentBatchConfig,fe=0,lt=null,Ke=null,pt=0,Yt=0,ps=li(0),Ze=0,Ea=null,ji=0,_c=0,Mp=0,Ko=null,jt=null,Lp=0,Ls=1/0,rr=null,Lu=!1,Zd=null,$r=null,kl=!1,Mr=null,Ou=0,Go=0,ef=null,tu=-1,nu=0;function Dt(){return fe&6?He():tu!==-1?tu:tu=He()}function zr(t){return t.mode&1?fe&2&&pt!==0?pt&-pt:RI.transition!==null?(nu===0&&(nu=Fw()),nu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:qw(t.type)),t):1}function An(t,e,n,r){if(50<Go)throw Go=0,ef=null,Error(B(185));Ua(t,n,r),(!(fe&2)||t!==lt)&&(t===lt&&(!(fe&2)&&(_c|=n),Ze===4&&Nr(t,pt)),Ht(t,r),n===1&&fe===0&&!(e.mode&1)&&(Ls=He()+500,mc&&ui()))}function Ht(t,e){var n=t.callbackNode;RC(t,e);var r=wu(t,t===lt?pt:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?PI(hv.bind(null,t)):h1(hv.bind(null,t)),SI(function(){!(fe&6)&&ui()}),n=null;else{switch(Uw(r)){case 1:n=lp;break;case 4:n=Ow;break;case 16:n=_u;break;case 536870912:n=jw;break;default:n=_u}n=uE(n,nE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nE(t,e){if(tu=-1,nu=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(As()&&t.callbackNode!==n)return null;var r=wu(t,t===lt?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ju(t,r);else{e=r;var i=fe;fe|=2;var s=iE();(lt!==t||pt!==e)&&(rr=null,Ls=He()+500,bi(t,e));do try{QI();break}catch(a){rE(t,a)}while(!0);Ep(),Mu.current=s,fe=i,Ke!==null?e=0:(lt=null,pt=0,e=Ze)}if(e!==0){if(e===2&&(i=Id(t),i!==0&&(r=i,e=tf(t,i))),e===1)throw n=Ea,bi(t,0),Nr(t,r),Ht(t,He()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!KI(i)&&(e=ju(t,r),e===2&&(s=Id(t),s!==0&&(r=s,e=tf(t,s))),e===1))throw n=Ea,bi(t,0),Nr(t,r),Ht(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Ei(t,jt,rr);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=Lp+500-He(),10<e)){if(wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Md(Ei.bind(null,t,jt,rr),e);break}Ei(t,jt,rr);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qI(r/1960))-r,10<r){t.timeoutHandle=Md(Ei.bind(null,t,jt,rr),r);break}Ei(t,jt,rr);break;case 5:Ei(t,jt,rr);break;default:throw Error(B(329))}}}return Ht(t,He()),t.callbackNode===n?nE.bind(null,t):null}function tf(t,e){var n=Ko;return t.current.memoizedState.isDehydrated&&(bi(t,e).flags|=256),t=ju(t,e),t!==2&&(e=jt,jt=n,e!==null&&nf(e)),t}function nf(t){jt===null?jt=t:jt.push.apply(jt,t)}function KI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!In(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~Mp,e&=~_c,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function hv(t){if(fe&6)throw Error(B(327));As();var e=wu(t,0);if(!(e&1))return Ht(t,He()),null;var n=ju(t,e);if(t.tag!==0&&n===2){var r=Id(t);r!==0&&(e=r,n=tf(t,r))}if(n===1)throw n=Ea,bi(t,0),Nr(t,e),Ht(t,He()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ei(t,jt,rr),Ht(t,He()),null}function Op(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Ls=He()+500,mc&&ui())}}function Fi(t){Mr!==null&&Mr.tag===0&&!(fe&6)&&As();var e=fe;fe|=1;var n=dn.transition,r=ye;try{if(dn.transition=null,ye=1,t)return t()}finally{ye=r,dn.transition=n,fe=e,!(fe&6)&&ui()}}function jp(){Yt=ps.current,ke(ps)}function bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Au();break;case 3:Ds(),ke($t),ke(At),Ip();break;case 5:Cp(r);break;case 4:Ds();break;case 13:ke(De);break;case 19:ke(De);break;case 10:Tp(r.type._context);break;case 22:case 23:jp()}n=n.return}if(lt=t,Ke=t=Hr(t.current,null),pt=Yt=e,Ze=0,Ea=null,Mp=_c=ji=0,jt=Ko=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ai=null}return t}function rE(t,e){do{var n=Ke;try{if(Ep(),Jl.current=Du,Nu){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nu=!1}if(Oi=0,at=Je=Le=null,Wo=!1,va=0,Dp.current=null,n===null||n.return===null){Ze=1,Ea=e,Ke=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Jy(o);if(y!==null){y.flags&=-257,Zy(y,o,a,s,e),y.mode&1&&Xy(s,c,e),e=y,u=c;var C=e.updateQueue;if(C===null){var I=new Set;I.add(u),e.updateQueue=I}else C.add(u);break e}else{if(!(e&1)){Xy(s,c,e),Fp();break e}u=Error(B(426))}}else if(be&&a.mode&1){var k=Jy(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Zy(k,o,a,s,e),_p(Ms(u,a));break e}}s=u=Ms(u,a),Ze!==4&&(Ze=2),Ko===null?Ko=[s]:Ko.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=U1(s,u,e);Wy(s,E);break e;case 1:a=u;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($r===null||!$r.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=B1(s,a,e);Wy(s,V);break e}}s=s.return}while(s!==null)}oE(n)}catch(D){e=D,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function iE(){var t=Mu.current;return Mu.current=Du,t===null?Du:t}function Fp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),lt===null||!(ji&268435455)&&!(_c&268435455)||Nr(lt,pt)}function ju(t,e){var n=fe;fe|=2;var r=iE();(lt!==t||pt!==e)&&(rr=null,bi(t,e));do try{GI();break}catch(i){rE(t,i)}while(!0);if(Ep(),fe=n,Mu.current=r,Ke!==null)throw Error(B(261));return lt=null,pt=0,Ze}function GI(){for(;Ke!==null;)sE(Ke)}function QI(){for(;Ke!==null&&!wC();)sE(Ke)}function sE(t){var e=lE(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?oE(t):Ke=e,Dp.current=null}function oE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$I(n,e),n!==null){n.flags&=32767,Ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Ke=null;return}}else if(n=BI(n,e,Yt),n!==null){Ke=n;return}if(e=e.sibling,e!==null){Ke=e;return}Ke=e=t}while(e!==null);Ze===0&&(Ze=5)}function Ei(t,e,n){var r=ye,i=dn.transition;try{dn.transition=null,ye=1,YI(t,e,n,r)}finally{dn.transition=i,ye=r}return null}function YI(t,e,n,r){do As();while(Mr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kC(t,s),t===lt&&(Ke=lt=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kl||(kl=!0,uE(_u,function(){return As(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=ye;ye=1;var a=fe;fe|=4,Dp.current=null,HI(t,n),eE(n,t),gI(Nd),Eu=!!Vd,Nd=Vd=null,t.current=n,WI(n),EC(),fe=a,ye=o,dn.transition=s}else t.current=n;if(kl&&(kl=!1,Mr=t,Ou=i),s=t.pendingLanes,s===0&&($r=null),SC(n.stateNode),Ht(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lu)throw Lu=!1,t=Zd,Zd=null,t;return Ou&1&&t.tag!==0&&As(),s=t.pendingLanes,s&1?t===ef?Go++:(Go=0,ef=t):Go=0,ui(),null}function As(){if(Mr!==null){var t=Uw(Ou),e=dn.transition,n=ye;try{if(dn.transition=null,ye=16>t?16:t,Mr===null)var r=!1;else{if(t=Mr,Mr=null,Ou=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:qo(8,h,s)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var p=h.sibling,y=h.return;if(X1(h),h===c){K=null;break}if(p!==null){p.return=y,K=p;break}K=y}}}var C=s.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qo(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,K=E;break e}K=s.return}}var _=t.current;for(K=_;K!==null;){o=K;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,K=w;else e:for(o=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vc(9,a)}}catch(D){Be(a,a.return,D)}if(a===o){K=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,K=V;break e}K=a.return}}if(fe=i,ui(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(cc,t)}catch{}r=!0}return r}finally{ye=n,dn.transition=e}}return!1}function dv(t,e,n){e=Ms(n,e),e=U1(t,e,1),t=Br(t,e,1),e=Dt(),t!==null&&(Ua(t,1,e),Ht(t,e))}function Be(t,e,n){if(t.tag===3)dv(t,t,n);else for(;e!==null;){if(e.tag===3){dv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Ms(n,t),t=B1(e,t,1),e=Br(e,t,1),t=Dt(),e!==null&&(Ua(e,1,t),Ht(e,t));break}}e=e.return}}function XI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,lt===t&&(pt&n)===n&&(Ze===4||Ze===3&&(pt&130023424)===pt&&500>He()-Lp?bi(t,0):Mp|=n),Ht(t,e)}function aE(t,e){e===0&&(t.mode&1?(e=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):e=1);var n=Dt();t=dr(t,e),t!==null&&(Ua(t,e,n),Ht(t,n))}function JI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aE(t,n)}function ZI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),aE(t,n)}var lE;lE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,UI(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,be&&e.flags&1048576&&d1(e,Pu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var i=bs(e,At.current);Ss(e,n),i=Rp(null,e,r,t,i,n);var s=kp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,Cu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sp(e),i.updater=yc,e.stateNode=i,i._reactInternals=e,$d(e,r,t,n),e=Wd(null,e,r,!0,s,n)):(e.tag=0,be&&s&&yp(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tP(r),t=wn(r,t),i){case 0:e=Hd(null,e,r,t,n);break e;case 1:e=nv(null,e,r,t,n);break e;case 11:e=ev(null,e,r,t,n);break e;case 14:e=tv(null,e,r,wn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Hd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),nv(t,e,r,i,n);case 3:e:{if(W1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,v1(t,e),bu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ms(Error(B(423)),e),e=rv(t,e,r,n,i);break e}else if(r!==i){i=Ms(Error(B(424)),e),e=rv(t,e,r,n,i);break e}else for(Xt=Ur(e.stateNode.containerInfo.firstChild),Zt=e,be=!0,Tn=null,n=g1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===i){e=fr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return _1(e),t===null&&Fd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dd(r,i)?o=null:s!==null&&Dd(r,s)&&(e.flags|=32),H1(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Fd(e),null;case 13:return q1(t,e,n);case 4:return Ap(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ns(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),ev(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Ru,r._currentValue),r._currentValue=o,s!==null)if(In(s.value,o)){if(s.children===i.children&&!$t.current){e=fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=lr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ud(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ud(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ss(e,n),i=pn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),tv(t,e,r,i,n);case 15:return $1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),eu(t,e),e.tag=1,zt(r)?(t=!0,Cu(e)):t=!1,Ss(e,n),F1(e,r,i),$d(e,r,i,n),Wd(null,e,r,!0,t,n);case 19:return K1(t,e,n);case 22:return z1(t,e,n)}throw Error(B(156,e.tag))};function uE(t,e){return Lw(t,e)}function eP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new eP(t,e,n,r)}function Up(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tP(t){if(typeof t=="function")return Up(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sp)return 11;if(t===op)return 14}return 2}function Hr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Up(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case is:return Vi(n.children,i,s,e);case ip:o=8,i|=8;break;case dd:return t=cn(12,n,e,i|2),t.elementType=dd,t.lanes=s,t;case fd:return t=cn(13,n,e,i),t.elementType=fd,t.lanes=s,t;case pd:return t=cn(19,n,e,i),t.elementType=pd,t.lanes=s,t;case _w:return wc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yw:o=10;break e;case vw:o=9;break e;case sp:o=11;break e;case op:o=14;break e;case kr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vi(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function wc(t,e,n,r){return t=cn(22,t,r,e),t.elementType=_w,t.lanes=n,t.stateNode={isHidden:!1},t}function Nh(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function Dh(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ph(0),this.expirationTimes=ph(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ph(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bp(t,e,n,r,i,s,o,a,u){return t=new nP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sp(s),t}function rP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cE(t){if(!t)return Jr;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(zt(n))return c1(t,n,e)}return e}function hE(t,e,n,r,i,s,o,a,u){return t=Bp(n,r,!0,t,i,s,o,a,u),t.context=cE(null),n=t.current,r=Dt(),i=zr(n),s=lr(r,i),s.callback=e??null,Br(n,s,i),t.current.lanes=i,Ua(t,i,r),Ht(t,r),t}function Ec(t,e,n,r){var i=e.current,s=Dt(),o=zr(i);return n=cE(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Br(i,e,o),t!==null&&(An(t,i,o,s),Xl(t,i,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $p(t,e){fv(t,e),(t=t.alternate)&&fv(t,e)}function iP(){return null}var dE=typeof reportError=="function"?reportError:function(t){console.error(t)};function zp(t){this._internalRoot=t}Tc.prototype.render=zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Ec(t,e,null,null)};Tc.prototype.unmount=zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){Ec(null,t,null,null)}),e[hr]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&Ww(t)}};function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pv(){}function sP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fu(o);s.call(c)}}var o=hE(e,r,t,0,null,!1,!1,"",pv);return t._reactRootContainer=o,t[hr]=o.current,fa(t.nodeType===8?t.parentNode:t),Fi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fu(u);a.call(c)}}var u=Bp(t,0,!1,null,null,!1,!1,"",pv);return t._reactRootContainer=u,t[hr]=u.current,fa(t.nodeType===8?t.parentNode:t),Fi(function(){Ec(e,u,n,r)}),u}function Sc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Fu(o);a.call(u)}}Ec(e,o,t,i)}else o=sP(n,e,t,i,r);return Fu(o)}Bw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=No(e.pendingLanes);n!==0&&(up(e,n|1),Ht(e,He()),!(fe&6)&&(Ls=He()+500,ui()))}break;case 13:Fi(function(){var r=dr(t,1);if(r!==null){var i=Dt();An(r,t,1,i)}}),$p(t,1)}};cp=function(t){if(t.tag===13){var e=dr(t,134217728);if(e!==null){var n=Dt();An(e,t,134217728,n)}$p(t,134217728)}};$w=function(t){if(t.tag===13){var e=zr(t),n=dr(t,e);if(n!==null){var r=Dt();An(n,t,e,r)}$p(t,e)}};zw=function(){return ye};Hw=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Sd=function(t,e,n){switch(e){case"input":if(yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pc(r);if(!i)throw Error(B(90));Ew(r),yd(r,i)}}}break;case"textarea":xw(t,n);break;case"select":e=n.value,e!=null&&ws(t,!!n.multiple,e,!1)}};kw=Op;bw=Fi;var oP={usingClientEntryPoint:!1,Events:[$a,ls,pc,Pw,Rw,Op]},Po={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aP={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dw(t),t===null?null:t.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||iP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{cc=bl.inject(aP),Un=bl}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oP;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hp(e))throw Error(B(200));return rP(t,e,null,n)};tn.createRoot=function(t,e){if(!Hp(t))throw Error(B(299));var n=!1,r="",i=dE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bp(t,1,!1,null,null,n,!1,r,i),t[hr]=e.current,fa(t.nodeType===8?t.parentNode:t),new zp(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Dw(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Fi(t)};tn.hydrate=function(t,e,n){if(!xc(e))throw Error(B(200));return Sc(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!Hp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hE(e,null,t,1,n??null,i,!1,s,o),t[hr]=e.current,fa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tc(e)};tn.render=function(t,e,n){if(!xc(e))throw Error(B(200));return Sc(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!xc(t))throw Error(B(40));return t._reactRootContainer?(Fi(function(){Sc(null,null,t,!1,function(){t._reactRootContainer=null,t[hr]=null})}),!0):!1};tn.unstable_batchedUpdates=Op;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Sc(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function fE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fE)}catch(t){console.error(t)}}fE(),fw.exports=tn;var lP=fw.exports,mv=lP;cd.createRoot=mv.createRoot,cd.hydrateRoot=mv.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gv="popstate";function uP(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return rf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ta(i)}return hP(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cP(){return Math.random().toString(36).substring(2,10)}function yv(t,e){return{usr:t.state,key:t.key,idx:e}}function rf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:n,key:e&&e.key||r||cP()}}function Ta({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function hP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=h(),E=k==null?null:k-c;c=k,u&&u({action:a,location:I.location,delta:E})}function p(k,E){a="PUSH";let _=rf(I.location,k,E);c=h()+1;let w=yv(_,c),V=I.createHref(_);try{o.pushState(w,"",V)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(V)}s&&u&&u({action:a,location:I.location,delta:1})}function y(k,E){a="REPLACE";let _=rf(I.location,k,E);c=h();let w=yv(_,c),V=I.createHref(_);o.replaceState(w,"",V),s&&u&&u({action:a,location:I.location,delta:0})}function C(k){return dP(k)}let I={get action(){return a},get location(){return t(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(gv,f),u=k,()=>{i.removeEventListener(gv,f),u=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let E=C(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:y,go(k){return o.go(k)}};return I}function dP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ta(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pE(t,e,n="/"){return fP(t,e,n,!1)}function fP(t,e,n,r){let i=typeof e=="string"?Qs(e):e,s=pr(i.pathname||"/",n);if(s==null)return null;let o=mE(t);pP(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=AP(s);a=xP(o[u],c,r)}return a}function mE(t,e=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;Ne(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=ur([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(Ne(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),mE(o.children,e,p,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:EP(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of gE(o.path))s(o,a,!0,c)}),e}function gE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=gE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function pP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var mP=/^:[\w-]+$/,gP=3,yP=2,vP=1,_P=10,wP=-2,vv=t=>t==="*";function EP(t,e){let n=t.split("/"),r=n.length;return n.some(vv)&&(r+=wP),e&&(r+=yP),n.filter(i=>!vv(i)).reduce((i,s)=>i+(mP.test(s)?gP:s===""?vP:_P),r)}function TP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xP(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:ur([s,f.pathname]),pathnameBase:RP(ur([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=ur([s,f.pathnameBase]))}return o}function Uu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},p)=>{if(h==="*"){let C=a[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const y=a[p];return f&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function SP(t,e=!1,n=!0){gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CP(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qs(t):t;return{pathname:n?n.startsWith("/")?n:IP(n,e):e,search:kP(r),hash:bP(i)}}function IP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Mh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wp(t){let e=PP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qp(t,e,n,r=!1){let i;typeof t=="string"?i=Qs(t):(i={...t},Ne(!i.pathname||!i.pathname.includes("?"),Mh("?","pathname","search",i)),Ne(!i.pathname||!i.pathname.includes("#"),Mh("#","pathname","hash",i)),Ne(!i.search||!i.search.includes("#"),Mh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=CP(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var ur=t=>t.join("/").replace(/\/\/+/g,"/"),RP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var NP=["GET",...yE];new Set(NP);var Ys=A.createContext(null);Ys.displayName="DataRouter";var Ac=A.createContext(null);Ac.displayName="DataRouterState";A.createContext(!1);var vE=A.createContext({isTransitioning:!1});vE.displayName="ViewTransition";var DP=A.createContext(new Map);DP.displayName="Fetchers";var MP=A.createContext(null);MP.displayName="Await";var Rn=A.createContext(null);Rn.displayName="Navigation";var Ha=A.createContext(null);Ha.displayName="Location";var Xn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var Kp=A.createContext(null);Kp.displayName="RouteError";function LP(t,{relative:e}={}){Ne(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Rn),{hash:i,pathname:s,search:o}=Wa(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:ur([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Xs(){return A.useContext(Ha)!=null}function Jn(){return Ne(Xs(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ha).location}var _E="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wE(t){A.useContext(Rn).static||A.useLayoutEffect(t)}function Gp(){let{isDataRoute:t}=A.useContext(Xn);return t?QP():OP()}function OP(){Ne(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ys),{basename:e,navigator:n}=A.useContext(Rn),{matches:r}=A.useContext(Xn),{pathname:i}=Jn(),s=JSON.stringify(Wp(r)),o=A.useRef(!1);return wE(()=>{o.current=!0}),A.useCallback((u,c={})=>{if(gn(o.current,_E),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=qp(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ur([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}A.createContext(null);function Wa(t,{relative:e}={}){let{matches:n}=A.useContext(Xn),{pathname:r}=Jn(),i=JSON.stringify(Wp(n));return A.useMemo(()=>qp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function jP(t,e){return EE(t,e)}function EE(t,e,n,r,i){var _;Ne(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(Rn),{matches:o}=A.useContext(Xn),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let w=f&&f.path||"";TE(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=Jn(),y;if(e){let w=typeof e=="string"?Qs(e):e;Ne(h==="/"||((_=w.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=p;let C=y.pathname||"/",I=C;if(h!=="/"){let w=h.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=pE(t,{pathname:I});gn(f||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),gn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=zP(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:ur([h,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:ur([h,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,i);return e&&E?A.createElement(Ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function FP(){let t=GP(),e=VP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}var UP=A.createElement(FP,null),BP=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Xn.Provider,{value:this.props.routeContext},A.createElement(Kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $P({routeContext:t,match:e,children:n}){let r=A.useContext(Ys);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Xn.Provider,{value:t},n)}function zP(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ne(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let p,y=!1,C=null,I=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,C=h.route.errorElement||UP,a&&(u<0&&f===0?(TE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,I=null):u===f&&(y=!0,I=h.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,f+1)),E=()=>{let _;return p?_=C:y?_=I:h.route.Component?_=A.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=c,A.createElement($P,{match:h,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(BP,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:E(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):E()},null)}function Qp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HP(t){let e=A.useContext(Ys);return Ne(e,Qp(t)),e}function WP(t){let e=A.useContext(Ac);return Ne(e,Qp(t)),e}function qP(t){let e=A.useContext(Xn);return Ne(e,Qp(t)),e}function Yp(t){let e=qP(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function KP(){return Yp("useRouteId")}function GP(){var r;let t=A.useContext(Kp),e=WP("useRouteError"),n=Yp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function QP(){let{router:t}=HP("useNavigate"),e=Yp("useNavigate"),n=A.useRef(!1);return wE(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{gn(n.current,_E),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var _v={};function TE(t,e,n){!e&&!_v[t]&&(_v[t]=!0,gn(!1,n))}A.memo(YP);function YP({routes:t,future:e,state:n,unstable_onError:r}){return EE(t,void 0,n,r,e)}function XP({to:t,replace:e,state:n,relative:r}){Ne(Xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Rn);gn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Xn),{pathname:o}=Jn(),a=Gp(),u=qp(t,Wp(s),o,r==="path"),c=JSON.stringify(u);return A.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Mo(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Ne(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Qs(n));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=n,y=A.useMemo(()=>{let C=pr(u,o);return C==null?null:{location:{pathname:C,search:c,hash:h,state:f,key:p},navigationType:r}},[o,u,c,h,f,p,r]);return gn(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(Rn.Provider,{value:a},A.createElement(Ha.Provider,{children:e,value:y}))}function ZP({children:t,location:e}){return jP(sf(t),e)}function sf(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,sf(r.props.children,s));return}Ne(r.type===Mo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sf(r.props.children,s)),n.push(o)}),n}var iu="get",su="application/x-www-form-urlencoded";function Cc(t){return t!=null&&typeof t.tagName=="string"}function eR(t){return Cc(t)&&t.tagName.toLowerCase()==="button"}function tR(t){return Cc(t)&&t.tagName.toLowerCase()==="form"}function nR(t){return Cc(t)&&t.tagName.toLowerCase()==="input"}function rR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iR(t,e){return t.button===0&&(!e||e==="_self")&&!rR(t)}function of(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function sR(t,e){let n=of(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Vl=null;function oR(){if(Vl===null)try{new FormData(document.createElement("form"),0),Vl=!1}catch{Vl=!0}return Vl}var aR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(t){return t!=null&&!aR.has(t)?(gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):t}function lR(t,e){let n,r,i,s,o;if(tR(t)){let a=t.getAttribute("action");r=a?pr(a,e):null,n=t.getAttribute("method")||iu,i=Lh(t.getAttribute("enctype"))||su,s=new FormData(t)}else if(eR(t)||nR(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?pr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||iu,i=Lh(t.getAttribute("formenctype"))||Lh(a.getAttribute("enctype"))||su,s=new FormData(a,t),!oR()){let{name:c,type:h,value:f}=t;if(h==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(Cc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iu,r=null,i=su,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function cR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dR(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await cR(s,n);return o.links?o.links():[]}return[]}));return gR(r.flat(1).filter(hR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wv(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function fR(t,e,{includeHydrateFallback:n}={}){return pR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function pR(t){return[...new Set(t)]}function mR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function gR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(mR(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function xE(){let t=A.useContext(Ys);return Xp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yR(){let t=A.useContext(Ac);return Xp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Jp=A.createContext(void 0);Jp.displayName="FrameworkContext";function SE(){let t=A.useContext(Jp);return Xp(t,"You must render this element inside a <HydratedRouter> element"),t}function vR(t,e){let n=A.useContext(Jp),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,p=A.useRef(null);A.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=E=>{E.forEach(_=>{o(_.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[t]),A.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let y=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Ro(a,y),onBlur:Ro(u,C),onMouseEnter:Ro(c,y),onMouseLeave:Ro(h,C),onTouchStart:Ro(f,y)}]:[!1,p,{}]}function Ro(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _R({page:t,...e}){let{router:n}=xE(),r=A.useMemo(()=>pE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(ER,{page:t,matches:r,...e}):null}function wR(t){let{manifest:e,routeModules:n}=SE(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return dR(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function ER({page:t,matches:e,...n}){let r=Jn(),{manifest:i,routeModules:s}=SE(),{basename:o}=xE(),{loaderData:a,matches:u}=yR(),c=A.useMemo(()=>wv(t,e,u,i,r,"data"),[t,e,u,i,r]),h=A.useMemo(()=>wv(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(E=>{var w;let _=i.routes[E.route.id];!_||!_.hasLoader||(!c.some(V=>V.route.id===E.route.id)&&E.route.id in a&&((w=s[E.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?I=!0:C.add(E.route.id))}),C.size===0)return[];let k=uR(t,o,"data");return I&&C.size>0&&k.searchParams.set("_routes",e.filter(E=>C.has(E.route.id)).map(E=>E.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,e,t,s]),p=A.useMemo(()=>fR(h,i),[h,i]),y=wR(h);return A.createElement(A.Fragment,null,f.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),p.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),y.map(({key:C,link:I})=>A.createElement("link",{key:C,nonce:n.nonce,...I})))}function TR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.9.5")}catch{}function xR({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=uP({window:n,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),a=A.useCallback(u=>{A.startTransition(()=>o(u))},[o]);return A.useLayoutEffect(()=>i.listen(a),[i,a]),A.createElement(JP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IE=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f,...p},y){let{basename:C}=A.useContext(Rn),I=typeof c=="string"&&CE.test(c),k,E=!1;if(typeof c=="string"&&I&&(k=c,AE))try{let S=new URL(window.location.href),P=c.startsWith("//")?new URL(S.protocol+c):new URL(c),b=pr(P.pathname,C);P.origin===S.origin&&b!=null?c=b+P.search+P.hash:E=!0}catch{gn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=LP(c,{relative:i}),[w,V,D]=vR(r,p),O=IR(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function x(S){e&&e(S),S.defaultPrevented||O(S)}let v=A.createElement("a",{...p,...D,href:k||_,onClick:E||s?e:x,ref:TR(y,V),target:u,"data-discover":!I&&n==="render"?"true":void 0});return w&&!I?A.createElement(A.Fragment,null,v,A.createElement(_R,{page:_})):v});IE.displayName="Link";var SR=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let f=Wa(o,{relative:c.relative}),p=Jn(),y=A.useContext(Ac),{navigator:C,basename:I}=A.useContext(Rn),k=y!=null&&NR(f)&&a===!0,E=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,_=p.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,E=E.toLowerCase()),w&&I&&(w=pr(w,I)||w);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=_===E||!i&&_.startsWith(E)&&_.charAt(V)==="/",O=w!=null&&(w===E||!i&&w.startsWith(E)&&w.charAt(E.length)==="/"),x={isActive:D,isPending:O,isTransitioning:k},v=D?e:void 0,S;typeof r=="function"?S=r(x):S=[r,D?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(x):s;return A.createElement(IE,{...c,"aria-current":v,className:S,ref:h,style:P,to:o,viewTransition:a},typeof u=="function"?u(x):u)});SR.displayName="NavLink";var AR=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=iu,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...p},y)=>{let C=bR(),I=VR(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&CE.test(a),_=w=>{if(u&&u(w),w.defaultPrevented)return;w.preventDefault();let V=w.nativeEvent.submitter,D=(V==null?void 0:V.getAttribute("formmethod"))||o;C(V||w.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return A.createElement("form",{ref:y,method:k,action:I,onSubmit:r?u:_,...p,"data-discover":!E&&t==="render"?"true":void 0})});AR.displayName="Form";function CR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(t){let e=A.useContext(Ys);return Ne(e,CR(t)),e}function IR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Gp(),u=Jn(),c=Wa(t,{relative:s});return A.useCallback(h=>{if(iR(h,e)){h.preventDefault();let f=n!==void 0?n:Ta(u)===Ta(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,e,t,i,s,o])}function PR(t){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(of(t)),n=A.useRef(!1),r=Jn(),i=A.useMemo(()=>sR(r.search,n.current?null:e.current),[r.search]),s=Gp(),o=A.useCallback((a,u)=>{const c=of(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,s("?"+c,u)},[s,i]);return[i,o]}var RR=0,kR=()=>`__${String(++RR)}__`;function bR(){let{router:t}=PE("useSubmit"),{basename:e}=A.useContext(Rn),n=KP();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=lR(r,e);if(i.navigate===!1){let h=i.fetcherKey||kR();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function VR(t,{relative:e}={}){let{basename:n}=A.useContext(Rn),r=A.useContext(Xn);Ne(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Wa(t||".",{relative:e})},o=Jn();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ur([n,s.pathname])),Ta(s)}function NR(t,{relative:e}={}){let n=A.useContext(vE);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PE("useViewTransitionState"),i=Wa(t,{relative:e});if(!n.isTransitioning)return!1;let s=pr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uu(i.pathname,o)!=null||Uu(i.pathname,s)!=null}const Zp=A.createContext({});function em(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const tm=typeof window<"u",RE=tm?A.useLayoutEffect:A.useEffect,Ic=A.createContext(null);function nm(t,e){t.indexOf(e)===-1&&t.push(e)}function rm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mr=(t,e,n)=>n>e?e:n<t?t:n;let im=()=>{};const gr={},kE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function bE(t){return typeof t=="object"&&t!==null}const VE=t=>/^0[^.\s]+$/u.test(t);function sm(t){let e;return()=>(e===void 0&&(e=t()),e)}const fn=t=>t,DR=(t,e)=>n=>e(t(n)),qa=(...t)=>t.reduce(DR),xa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class om{constructor(){this.subscriptions=[]}add(e){return nm(this.subscriptions,e),()=>rm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $n=t=>t*1e3,hn=t=>t/1e3;function NE(t,e){return e?t*(1e3/e):0}const DE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,MR=1e-7,LR=12;function OR(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=DE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>MR&&++a<LR);return o}function Ka(t,e,n,r){if(t===e&&n===r)return fn;const i=s=>OR(s,0,1,t,n);return s=>s===0||s===1?s:DE(i(s),e,r)}const ME=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LE=t=>e=>1-t(1-e),OE=Ka(.33,1.53,.69,.99),am=LE(OE),jE=ME(am),FE=t=>(t*=2)<1?.5*am(t):.5*(2-Math.pow(2,-10*(t-1))),lm=t=>1-Math.sin(Math.acos(t)),UE=LE(lm),BE=ME(lm),jR=Ka(.42,0,1,1),FR=Ka(0,0,.58,1),$E=Ka(.42,0,.58,1),UR=t=>Array.isArray(t)&&typeof t[0]!="number",zE=t=>Array.isArray(t)&&typeof t[0]=="number",BR={linear:fn,easeIn:jR,easeInOut:$E,easeOut:FR,circIn:lm,circInOut:BE,circOut:UE,backIn:am,backInOut:jE,backOut:OE,anticipate:FE},$R=t=>typeof t=="string",Ev=t=>{if(zE(t)){im(t.length===4);const[e,n,r,i]=t;return Ka(e,n,r,i)}else if($R(t))return BR[t];return t},Nl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zR(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,f=!1,p=!1)=>{const C=p&&i?n:r;return f&&o.add(h),C.has(h)||C.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const HR=40;function HE(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Nl.reduce((w,V)=>(w[V]=zR(s),w),{}),{setup:a,read:u,resolveKeyframes:c,preUpdate:h,update:f,preRender:p,render:y,postRender:C}=o,I=()=>{const w=gr.useManualTiming?i.timestamp:performance.now();n=!1,gr.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,HR),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),f.process(i),p.process(i),y.process(i),C.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},k=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:Nl.reduce((w,V)=>{const D=o[V];return w[V]=(O,x=!1,v=!1)=>(n||k(),D.schedule(O,x,v)),w},{}),cancel:w=>{for(let V=0;V<Nl.length;V++)o[Nl[V]].cancel(w)},state:i,steps:o}}const{schedule:Ve,cancel:Zr,state:ht,steps:Oh}=HE(typeof requestAnimationFrame<"u"?requestAnimationFrame:fn,!0);let ou;function WR(){ou=void 0}const Bt={now:()=>(ou===void 0&&Bt.set(ht.isProcessing||gr.useManualTiming?ht.timestamp:performance.now()),ou),set:t=>{ou=t,queueMicrotask(WR)}},WE=t=>e=>typeof e=="string"&&e.startsWith(t),um=WE("--"),qR=WE("var(--"),cm=t=>qR(t)?KR.test(t.split("/*")[0].trim()):!1,KR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Js={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sa={...Js,transform:t=>mr(0,1,t)},Dl={...Js,default:1},Qo=t=>Math.round(t*1e5)/1e5,hm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GR(t){return t==null}const QR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,dm=(t,e)=>n=>!!(typeof n=="string"&&QR.test(n)&&n.startsWith(t)||e&&!GR(n)&&Object.prototype.hasOwnProperty.call(n,e)),qE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(hm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},YR=t=>mr(0,255,t),jh={...Js,transform:t=>Math.round(YR(t))},Ii={test:dm("rgb","red"),parse:qE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jh.transform(t)+", "+jh.transform(e)+", "+jh.transform(n)+", "+Qo(Sa.transform(r))+")"};function XR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const af={test:dm("#"),parse:XR,transform:Ii.transform},Ga=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rr=Ga("deg"),zn=Ga("%"),ee=Ga("px"),JR=Ga("vh"),ZR=Ga("vw"),Tv={...zn,parse:t=>zn.parse(t)/100,transform:t=>zn.transform(t*100)},ms={test:dm("hsl","hue"),parse:qE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zn.transform(Qo(e))+", "+zn.transform(Qo(n))+", "+Qo(Sa.transform(r))+")"},qe={test:t=>Ii.test(t)||af.test(t)||ms.test(t),parse:t=>Ii.test(t)?Ii.parse(t):ms.test(t)?ms.parse(t):af.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ii.transform(t):ms.transform(t),getAnimatableNone:t=>{const e=qe.parse(t);return e.alpha=0,qe.transform(e)}},e2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function t2(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(hm))==null?void 0:e.length)||0)+(((n=t.match(e2))==null?void 0:n.length)||0)>0}const KE="number",GE="color",n2="var",r2="var(",xv="${}",i2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Aa(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(i2,u=>(qe.test(u)?(r.color.push(s),i.push(GE),n.push(qe.parse(u))):u.startsWith(r2)?(r.var.push(s),i.push(n2),n.push(u)):(r.number.push(s),i.push(KE),n.push(parseFloat(u))),++s,xv)).split(xv);return{values:n,split:a,indexes:r,types:i}}function QE(t){return Aa(t).values}function YE(t){const{split:e,types:n}=Aa(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===KE?s+=Qo(i[o]):a===GE?s+=qe.transform(i[o]):s+=i[o]}return s}}const s2=t=>typeof t=="number"?0:qe.test(t)?qe.getAnimatableNone(t):t;function o2(t){const e=QE(t);return YE(t)(e.map(s2))}const ei={test:t2,parse:QE,createTransformer:YE,getAnimatableNone:o2};function Fh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function a2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=Fh(u,a,t+1/3),s=Fh(u,a,t),o=Fh(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Bu(t,e){return n=>n>0?e:t}const Me=(t,e,n)=>t+(e-t)*n,Uh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},l2=[af,Ii,ms],u2=t=>l2.find(e=>e.test(t));function Sv(t){const e=u2(t);if(!e)return!1;let n=e.parse(t);return e===ms&&(n=a2(n)),n}const Av=(t,e)=>{const n=Sv(t),r=Sv(e);if(!n||!r)return Bu(t,e);const i={...n};return s=>(i.red=Uh(n.red,r.red,s),i.green=Uh(n.green,r.green,s),i.blue=Uh(n.blue,r.blue,s),i.alpha=Me(n.alpha,r.alpha,s),Ii.transform(i))},lf=new Set(["none","hidden"]);function c2(t,e){return lf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function h2(t,e){return n=>Me(t,e,n)}function fm(t){return typeof t=="number"?h2:typeof t=="string"?cm(t)?Bu:qe.test(t)?Av:p2:Array.isArray(t)?XE:typeof t=="object"?qe.test(t)?Av:d2:Bu}function XE(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>fm(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function d2(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=fm(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function f2(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const p2=(t,e)=>{const n=ei.createTransformer(e),r=Aa(t),i=Aa(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lf.has(t)&&!i.values.length||lf.has(e)&&!r.values.length?c2(t,e):qa(XE(f2(r,i),i.values),n):Bu(t,e)};function JE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Me(t,e,n):fm(t)(t,e)}const m2=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ve.update(e,n),stop:()=>Zr(e),now:()=>ht.isProcessing?ht.timestamp:Bt.now()}},ZE=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$u=2e4;function pm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$u;)e+=n,r=t.next(e);return e>=$u?1/0:e}function g2(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(pm(r),$u);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:hn(i)}}const y2=5;function eT(t,e,n){const r=Math.max(e-y2,0);return NE(n-t(r),e-r)}const Ue={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bh=.001;function v2({duration:t=Ue.duration,bounce:e=Ue.bounce,velocity:n=Ue.velocity,mass:r=Ue.mass}){let i,s,o=1-e;o=mr(Ue.minDamping,Ue.maxDamping,o),t=mr(Ue.minDuration,Ue.maxDuration,hn(t)),o<1?(i=c=>{const h=c*o,f=h*t,p=h-n,y=uf(c,o),C=Math.exp(-f);return Bh-p/y*C},s=c=>{const f=c*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,C=Math.exp(-f),I=uf(Math.pow(c,2),o);return(-i(c)+Bh>0?-1:1)*((p-y)*C)/I}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Bh+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=w2(i,s,a);if(t=$n(t),isNaN(u))return{stiffness:Ue.stiffness,damping:Ue.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const _2=12;function w2(t,e,n){let r=n;for(let i=1;i<_2;i++)r=r-t(r)/e(r);return r}function uf(t,e){return t*Math.sqrt(1-e*e)}const E2=["duration","bounce"],T2=["stiffness","damping","mass"];function Cv(t,e){return e.some(n=>t[n]!==void 0)}function x2(t){let e={velocity:Ue.velocity,stiffness:Ue.stiffness,damping:Ue.damping,mass:Ue.mass,isResolvedFromDuration:!1,...t};if(!Cv(t,T2)&&Cv(t,E2))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*mr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ue.mass,stiffness:i,damping:s}}else{const n=v2(t);e={...e,...n,mass:Ue.mass},e.isResolvedFromDuration=!0}return e}function zu(t=Ue.visualDuration,e=Ue.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=x2({...n,velocity:-hn(n.velocity||0)}),C=p||0,I=c/(2*Math.sqrt(u*h)),k=o-s,E=hn(Math.sqrt(u/h)),_=Math.abs(k)<5;r||(r=_?Ue.restSpeed.granular:Ue.restSpeed.default),i||(i=_?Ue.restDelta.granular:Ue.restDelta.default);let w;if(I<1){const D=uf(E,I);w=O=>{const x=Math.exp(-I*E*O);return o-x*((C+I*E*k)/D*Math.sin(D*O)+k*Math.cos(D*O))}}else if(I===1)w=D=>o-Math.exp(-E*D)*(k+(C+E*k)*D);else{const D=E*Math.sqrt(I*I-1);w=O=>{const x=Math.exp(-I*E*O),v=Math.min(D*O,300);return o-x*((C+I*E*k)*Math.sinh(v)+D*k*Math.cosh(v))/D}}const V={calculatedDuration:y&&f||null,next:D=>{const O=w(D);if(y)a.done=D>=f;else{let x=D===0?C:0;I<1&&(x=D===0?$n(C):eT(w,D,O));const v=Math.abs(x)<=r,S=Math.abs(o-O)<=i;a.done=v&&S}return a.value=a.done?o:O,a},toString:()=>{const D=Math.min(pm(V),$u),O=ZE(x=>V.next(D*x).value,D,30);return D+"ms "+O},toTransition:()=>{}};return V}zu.applyToOptions=t=>{const e=g2(t,100,zu);return t.ease=e.ease,t.duration=$n(e.duration),t.type="keyframes",t};function cf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=v=>a!==void 0&&v<a||u!==void 0&&v>u,C=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let I=n*e;const k=f+I,E=o===void 0?k:o(k);E!==k&&(I=E-f);const _=v=>-I*Math.exp(-v/r),w=v=>E+_(v),V=v=>{const S=_(v),P=w(v);p.done=Math.abs(S)<=c,p.value=p.done?E:P};let D,O;const x=v=>{y(p.value)&&(D=v,O=zu({keyframes:[p.value,C(p.value)],velocity:eT(w,v,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return x(0),{calculatedDuration:null,next:v=>{let S=!1;return!O&&D===void 0&&(S=!0,V(v),x(v)),D!==void 0&&v>=D?O.next(v-D):(!S&&V(v),p)}}}function S2(t,e,n){const r=[],i=n||gr.mix||JE,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||fn:e;a=qa(u,a)}r.push(a)}return r}function A2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(im(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=S2(e,r,i),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=xa(t[f],t[f+1],h);return a[f](p)};return n?h=>c(mr(t[0],t[s-1],h)):c}function C2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xa(0,e,r);t.push(Me(n,1,i))}}function I2(t){const e=[0];return C2(e,t.length-1),e}function P2(t,e){return t.map(n=>n*e)}function R2(t,e){return t.map(()=>e||$E).splice(0,t.length-1)}function Yo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=UR(r)?r.map(Ev):Ev(r),s={done:!1,value:e[0]},o=P2(n&&n.length===e.length?n:I2(e),t),a=A2(o,e,{ease:Array.isArray(i)?i:R2(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const k2=t=>t!==null;function mm(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(k2),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const b2={decay:cf,inertia:cf,tween:Yo,keyframes:Yo,spring:zu};function tT(t){typeof t.type=="string"&&(t.type=b2[t.type])}class gm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const V2=t=>t/100;class ym extends gm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;tT(e);const{type:n=Yo,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const u=n||Yo;u!==Yo&&typeof a[0]!="number"&&(this.mixKeyframes=qa(V2,JE(a[0],a[1])),a=[0,100]);const c=u({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=pm(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:C,onUpdate:I,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,V=r;if(f){const v=Math.min(this.currentTime,i)/a;let S=Math.floor(v),P=v%1;!P&&v>=1&&(P=1),P===1&&S--,S=Math.min(S,f+1),!!(S%2)&&(p==="reverse"?(P=1-P,y&&(P-=y/a)):p==="mirror"&&(V=o)),w=mr(0,1,P)*a}const D=_?{done:!1,value:h[0]}:V.next(w);s&&(D.value=s(D.value));let{done:O}=D;!_&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return x&&C!==cf&&(D.value=mm(h,this.options,k,this.speed)),I&&I(D.value),x&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return hn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(this.currentTime)}set time(e){var n;e=$n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=hn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=m2,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function N2(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pi=t=>t*180/Math.PI,hf=t=>{const e=Pi(Math.atan2(t[1],t[0]));return df(e)},D2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hf,rotateZ:hf,skewX:t=>Pi(Math.atan(t[1])),skewY:t=>Pi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},df=t=>(t=t%360,t<0&&(t+=360),t),Iv=hf,Pv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Rv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),M2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pv,scaleY:Rv,scale:t=>(Pv(t)+Rv(t))/2,rotateX:t=>df(Pi(Math.atan2(t[6],t[5]))),rotateY:t=>df(Pi(Math.atan2(-t[2],t[0]))),rotateZ:Iv,rotate:Iv,skewX:t=>Pi(Math.atan(t[4])),skewY:t=>Pi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ff(t){return t.includes("scale")?1:0}function pf(t,e){if(!t||t==="none")return ff(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=M2,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D2,i=a}if(!i)return ff(e);const s=r[e],o=i[1].split(",").map(O2);return typeof s=="function"?s(o):o[s]}const L2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return pf(n,e)};function O2(t){return parseFloat(t.trim())}const Zs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Zs),kv=t=>t===Js||t===ee,j2=new Set(["x","y","z"]),F2=Zs.filter(t=>!j2.has(t));function U2(t){const e=[];return F2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ni={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>pf(e,"x"),y:(t,{transform:e})=>pf(e,"y")};Ni.translateX=Ni.x;Ni.translateY=Ni.y;const Di=new Set;let mf=!1,gf=!1,yf=!1;function nT(){if(gf){const t=Array.from(Di).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=U2(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gf=!1,mf=!1,Di.forEach(t=>t.complete(yf)),Di.clear()}function rT(){Di.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gf=!0)})}function B2(){yf=!0,rT(),nT(),yf=!1}class vm{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Di.add(this),mf||(mf=!0,Ve.read(rT),Ve.resolveKeyframes(nT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}N2(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Di.delete(this)}cancel(){this.state==="scheduled"&&(Di.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $2=t=>t.startsWith("--");function z2(t,e,n){$2(e)?t.style.setProperty(e,n):t.style[e]=n}const H2=sm(()=>window.ScrollTimeline!==void 0),W2={};function q2(t,e){const n=sm(t);return()=>W2[e]??n()}const iT=q2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lo([0,.65,.55,1]),circOut:Lo([.55,0,1,.45]),backIn:Lo([.31,.01,.66,-.59]),backOut:Lo([.33,1.53,.69,.99])};function sT(t,e){if(t)return typeof t=="function"?iT()?ZE(t,e):"ease-out":zE(t)?Lo(t):Array.isArray(t)?t.map(n=>sT(n,e)||bv.easeOut):bv[t]}function K2(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},c=void 0){const h={[e]:n};u&&(h.offset=u);const f=sT(a,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(h,p)}function oT(t){return typeof t=="function"&&"applyToOptions"in t}function G2({type:t,...e}){return oT(t)&&iT()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Q2 extends gm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,im(typeof e.type!="string");const c=G2(e);this.animation=K2(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=mm(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):z2(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return hn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hn(e)}get time(){return hn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&H2()?(this.animation.timeline=e,fn):n(this)}}const aT={anticipate:FE,backInOut:jE,circInOut:BE};function Y2(t){return t in aT}function X2(t){typeof t.ease=="string"&&Y2(t.ease)&&(t.ease=aT[t.ease])}const Vv=10;class J2 extends Q2{constructor(e){X2(e),tT(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new ym({...o,autoplay:!1}),u=$n(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-Vv).value,a.sample(u).value,Vv),a.stop()}}const Nv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ei.test(t)||t==="0")&&!t.startsWith("url("));function Z2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function ek(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Nv(i,e),a=Nv(s,e);return!o||!a?!1:Z2(t)||(n==="spring"||oT(n))&&r}function vf(t){t.duration=0,t.type="keyframes"}const tk=new Set(["opacity","clipPath","filter","transform"]),nk=sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rk(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=e.owner.getProps();return nk()&&n&&tk.has(n)&&(n!=="transform"||!c)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const ik=40;class sk extends gm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:u,motionValue:c,element:h,...f}){var C;super(),this.stop=()=>{var I,k;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Bt.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:c,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||vm;this.keyframeResolver=new y(a,(I,k,E)=>this.onKeyframesResolved(I,k,p,!E),u,c,h),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:u,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Bt.now(),ek(e,s,o,a)||((gr.instantAnimations||!u)&&(h==null||h(mm(e,r,n))),e[0]=e[e.length-1],vf(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ik?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&rk(p)?new J2({...p,element:p.motionValue.owner.current}):new ym(p);y.finished.then(()=>this.notifyFinished()).catch(fn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),B2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ok=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ak(t){const e=ok.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function lT(t,e,n=1){const[r,i]=ak(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return kE(o)?parseFloat(o):o}return cm(i)?lT(i,e,n+1):i}function _m(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const uT=new Set(["width","height","top","left","right","bottom",...Zs]),lk={test:t=>t==="auto",parse:t=>t},cT=t=>e=>e.test(t),hT=[Js,ee,zn,Rr,ZR,JR,lk],Dv=t=>hT.find(cT(t));function uk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VE(t):!0}const ck=new Set(["brightness","contrast","saturate","opacity"]);function hk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hm)||[];if(!r)return t;const i=n.replace(r,"");let s=ck.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const dk=/\b([a-z-]*)\(.*?\)/gu,_f={...ei,getAnimatableNone:t=>{const e=t.match(dk);return e?e.map(hk).join(" "):t}},Mv={...Js,transform:Math.round},fk={rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Dl,scaleX:Dl,scaleY:Dl,scaleZ:Dl,skew:Rr,skewX:Rr,skewY:Rr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:Sa,originX:Tv,originY:Tv,originZ:ee},wm={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,backgroundPositionX:ee,backgroundPositionY:ee,...fk,zIndex:Mv,fillOpacity:Sa,strokeOpacity:Sa,numOctaves:Mv},pk={...wm,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:_f,WebkitFilter:_f},dT=t=>pk[t];function fT(t,e){let n=dT(t);return n!==_f&&(n=ei),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const mk=new Set(["auto","none","0"]);function gk(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!mk.has(s)&&Aa(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=fT(n,i)}class yk extends vm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),cm(c))){const h=lT(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!uT.has(r)||e.length!==2)return;const[i,s]=e,o=Dv(i),a=Dv(s);if(o!==a)if(kv(o)&&kv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else Ni[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||uk(e[i]))&&r.push(i);r.length&&gk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ni[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ni[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function vk(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const pT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function mT(t){return bE(t)&&"offsetHeight"in t}const Lv=30,_k=t=>!isNaN(parseFloat(t));class wk{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Bt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_k(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new om);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Lv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Lv);return NE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(t,e){return new wk(t,e)}const{schedule:Em}=HE(queueMicrotask,!1),_n={x:!1,y:!1};function gT(){return _n.x||_n.y}function Ek(t){return t==="x"||t==="y"?_n[t]?null:(_n[t]=!0,()=>{_n[t]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}function yT(t,e){const n=vk(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Ov(t){return!(t.pointerType==="touch"||gT())}function Tk(t,e,n={}){const[r,i,s]=yT(t,n),o=a=>{if(!Ov(a))return;const{target:u}=a,c=e(u,a);if(typeof c!="function"||!u)return;const h=f=>{Ov(f)&&(c(f),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const vT=(t,e)=>e?t===e?!0:vT(t,e.parentElement):!1,Tm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sk(t){return xk.has(t.tagName)||t.tabIndex!==-1}const au=new WeakSet;function jv(t){return e=>{e.key==="Enter"&&t(e)}}function $h(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ak=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=jv(()=>{if(au.has(n))return;$h(n,"down");const i=jv(()=>{$h(n,"up")}),s=()=>$h(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Fv(t){return Tm(t)&&!gT()}function Ck(t,e,n={}){const[r,i,s]=yT(t,n),o=a=>{const u=a.currentTarget;if(!Fv(a))return;au.add(u);const c=e(u,a),h=(y,C)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),au.has(u)&&au.delete(u),Fv(y)&&typeof c=="function"&&c(y,{success:C})},f=y=>{h(y,u===window||u===document||n.useGlobalTarget||vT(u,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),mT(a)&&(a.addEventListener("focus",c=>Ak(c,i)),!Sk(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function _T(t){return bE(t)&&"ownerSVGElement"in t}function Ik(t){return _T(t)&&t.tagName==="svg"}const St=t=>!!(t&&t.getVelocity),Pk=[...hT,qe,ei],Rk=t=>Pk.find(cT(t)),xm=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Uv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kk(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Uv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Uv(t[i],null)}}}}function bk(...t){return A.useCallback(kk(...t),t)}class Vk extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=mT(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nk({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),s=A.useRef(null),o=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(xm),u=bk(s,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=o.current;if(e||!s.current||!c||!h)return;const C=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");a&&(I.nonce=a);const k=r??document.head;return k.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${C}px !important;
            top: ${f}px !important;
          }
        `),()=>{k.contains(I)&&k.removeChild(I)}},[e]),g.jsx(Vk,{isPresent:e,childRef:s,sizeRef:o,children:A.cloneElement(t,{ref:u})})}const Dk=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:u})=>{const c=em(Mk),h=A.useId();let f=!0,p=A.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:y=>{c.set(y,!0);for(const C of c.values())if(!C)return;r&&r()},register:y=>(c.set(y,!1),()=>c.delete(y))}),[n,c,r]);return s&&f&&(p={...p}),A.useMemo(()=>{c.forEach((y,C)=>c.set(C,!1))},[n]),A.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(Nk,{isPresent:n,anchorX:a,root:u,children:t})),g.jsx(Ic.Provider,{value:p,children:t})};function Mk(){return new Map}function wT(t=!0){const e=A.useContext(Ic);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const o=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Ml=t=>t.key||"";function Bv(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const ET=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:u})=>{const[c,h]=wT(o),f=A.useMemo(()=>Bv(t),[t]),p=o&&!c?[]:f.map(Ml),y=A.useRef(!0),C=A.useRef(f),I=em(()=>new Map),[k,E]=A.useState(f),[_,w]=A.useState(f);RE(()=>{y.current=!1,C.current=f;for(let O=0;O<_.length;O++){const x=Ml(_[O]);p.includes(x)?I.delete(x):I.get(x)!==!0&&I.set(x,!1)}},[_,p.length,p.join("-")]);const V=[];if(f!==k){let O=[...f];for(let x=0;x<_.length;x++){const v=_[x],S=Ml(v);p.includes(S)||(O.splice(x,0,v),V.push(v))}return s==="wait"&&V.length&&(O=V),w(Bv(O)),E(f),null}const{forceRender:D}=A.useContext(Zp);return g.jsx(g.Fragment,{children:_.map(O=>{const x=Ml(O),v=o&&!c?!1:f===_||p.includes(x),S=()=>{if(I.has(x))I.set(x,!0);else return;let P=!0;I.forEach(b=>{b||(P=!1)}),P&&(D==null||D(),w(C.current),o&&(h==null||h()),r&&r())};return g.jsx(Dk,{isPresent:v,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:v?void 0:S,anchorX:a,children:O},x)})})},TT=A.createContext({strict:!1}),$v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const t in $v)js[t]={isEnabled:e=>$v[t].some(n=>!!e[n])};function Lk(t){for(const e in t)js[e]={...js[e],...t[e]}}const Ok=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ok.has(t)}let xT=t=>!Hu(t);function jk(t){typeof t=="function"&&(xT=e=>e.startsWith("on")?!Hu(e):t(e))}try{jk(require("@emotion/is-prop-valid").default)}catch{}function Fk(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(xT(i)||n===!0&&Hu(i)||!e&&!Hu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Pc=A.createContext({});function Rc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ca(t){return typeof t=="string"||Array.isArray(t)}const Sm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Am=["initial",...Sm];function kc(t){return Rc(t.animate)||Am.some(e=>Ca(t[e]))}function ST(t){return!!(kc(t)||t.variants)}function Uk(t,e){if(kc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ca(n)?n:void 0,animate:Ca(r)?r:void 0}}return t.inherit!==!1?e:{}}function Bk(t){const{initial:e,animate:n}=Uk(t,A.useContext(Pc));return A.useMemo(()=>({initial:e,animate:n}),[zv(e),zv(n)])}function zv(t){return Array.isArray(t)?t.join(" "):t}const Ia={};function $k(t){for(const e in t)Ia[e]=t[e],um(e)&&(Ia[e].isCSSVariable=!0)}function AT(t,{layout:e,layoutId:n}){return eo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ia[t]||t==="opacity")}const zk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hk=Zs.length;function Wk(t,e,n){let r="",i=!0;for(let s=0;s<Hk;s++){const o=Zs[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=pT(a,wm[o]);if(!u){i=!1;const h=zk[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Cm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(eo.has(u)){o=!0;continue}else if(um(u)){i[u]=c;continue}else{const h=pT(c,wm[u]);u.startsWith("origin")?(a=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=Wk(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${c} ${h}`}}const Im=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CT(t,e,n){for(const r in e)!St(e[r])&&!AT(r,n)&&(t[r]=e[r])}function qk({transformTemplate:t},e){return A.useMemo(()=>{const n=Im();return Cm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Kk(t,e){const n=t.style||{},r={};return CT(r,n,t),Object.assign(r,qk(t,e)),r}function Gk(t,e){const n={},r=Kk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Qk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yk={offset:"strokeDashoffset",array:"strokeDasharray"};function Xk(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Qk:Yk;t[s.offset]=ee.transform(-r);const o=ee.transform(e),a=ee.transform(n);t[s.array]=`${o} ${a}`}function IT(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},u,c,h){if(Cm(t,a,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&Xk(f,i,s,o,!1)}const PT=()=>({...Im(),attrs:{}}),RT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Jk(t,e,n,r){const i=A.useMemo(()=>{const s=PT();return IT(s,e,RT(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};CT(s,t.style,t),i.style={...s,...i.style}}return i}const Zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pm(t){return typeof t!="string"||t.includes("-")?!1:!!(Zk.indexOf(t)>-1||/[A-Z]/u.test(t))}function eb(t,e,n,{latestValues:r},i,s=!1){const a=(Pm(t)?Jk:Gk)(e,r,i,t),u=Fk(e,typeof t=="string",s),c=t!==A.Fragment?{...u,...a,ref:n}:{},{children:h}=e,f=A.useMemo(()=>St(h)?h.get():h,[h]);return A.createElement(t,{...c,children:f})}function Hv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Rm(t,e,n,r){if(typeof e=="function"){const[i,s]=Hv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Hv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function lu(t){return St(t)?t.get():t}function tb({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:nb(n,r,i,t),renderState:e()}}function nb(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=lu(s[p]);let{initial:o,animate:a}=t;const u=kc(t),c=ST(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Rc(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const C=Rm(t,p[y]);if(C){const{transitionEnd:I,transition:k,...E}=C;for(const _ in E){let w=E[_];if(Array.isArray(w)){const V=h?w.length-1:0;w=w[V]}w!==null&&(i[_]=w)}for(const _ in I)i[_]=I[_]}}}return i}const kT=t=>(e,n)=>{const r=A.useContext(Pc),i=A.useContext(Ic),s=()=>tb(t,e,r,i);return n?s():em(s)};function km(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(St(r[o])||e.style&&St(e.style[o])||AT(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const rb=kT({scrapeMotionValuesFromProps:km,createRenderState:Im});function bT(t,e,n){const r=km(t,e,n);for(const i in t)if(St(t[i])||St(e[i])){const s=Zs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const ib=kT({scrapeMotionValuesFromProps:bT,createRenderState:PT}),sb=Symbol.for("motionComponentSymbol");function gs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ob(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gs(n)&&(n.current=r))},[e])}const bm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ab="framerAppearId",VT="data-"+bm(ab),NT=A.createContext({});function lb(t,e,n,r,i){var I,k;const{visualElement:s}=A.useContext(Pc),o=A.useContext(TT),a=A.useContext(Ic),u=A.useContext(xm).reducedMotion,c=A.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,f=A.useContext(NT);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&ub(c.current,n,i,f);const p=A.useRef(!1);A.useInsertionEffect(()=>{h&&p.current&&h.update(n,a)});const y=n[VT],C=A.useRef(!!y&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,y))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,y)));return RE(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),C.current&&h.animationState&&h.animationState.animateChanges())}),A.useEffect(()=>{h&&(!C.current&&h.animationState&&h.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,y)}),C.current=!1),h.enteringChildren=void 0)}),h}function ub(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DT(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&gs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:c})}function DT(t){if(t)return t.options.allowProjection!==!1?t.projection:DT(t.parent)}function zh(t,{forwardMotionProps:e=!1}={},n,r){n&&Lk(n);const i=Pm(t)?ib:rb;function s(a,u){let c;const h={...A.useContext(xm),...a,layoutId:cb(a)},{isStatic:f}=h,p=Bk(a),y=i(a,f);if(!f&&tm){hb();const C=db(h);c=C.MeasureLayout,p.visualElement=lb(t,y,h,r,C.ProjectionNode)}return g.jsxs(Pc.Provider,{value:p,children:[c&&p.visualElement?g.jsx(c,{visualElement:p.visualElement,...h}):null,eb(t,a,ob(y,p.visualElement,u),y,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=A.forwardRef(s);return o[sb]=t,o}function cb({layoutId:t}){const e=A.useContext(Zp).id;return e&&t!==void 0?e+"-"+t:t}function hb(t,e){A.useContext(TT).strict}function db(t){const{drag:e,layout:n}=js;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function fb(t,e){if(typeof Proxy>"u")return zh;const n=new Map,r=(s,o)=>zh(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,zh(o,void 0,t,e)),n.get(o))})}function MT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pb({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mb(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hh(t){return t===void 0||t===1}function wf({scale:t,scaleX:e,scaleY:n}){return!Hh(t)||!Hh(e)||!Hh(n)}function Ti(t){return wf(t)||LT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LT(t){return Wv(t.x)||Wv(t.y)}function Wv(t){return t&&t!=="0%"}function Wu(t,e,n){const r=t-n,i=e*r;return n+i}function qv(t,e,n,r,i){return i!==void 0&&(t=Wu(t,i,r)),Wu(t,n,r)+e}function Ef(t,e=0,n=1,r,i){t.min=qv(t.min,e,n,r,i),t.max=qv(t.max,e,n,r,i)}function OT(t,{x:e,y:n}){Ef(t.x,e.translate,e.scale,e.originPoint),Ef(t.y,n.translate,n.scale,n.originPoint)}const Kv=.999999999999,Gv=1.0000000000001;function gb(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&vs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,OT(t,o)),r&&Ti(s.latestValues)&&vs(t,s.latestValues))}e.x<Gv&&e.x>Kv&&(e.x=1),e.y<Gv&&e.y>Kv&&(e.y=1)}function ys(t,e){t.min=t.min+e,t.max=t.max+e}function Qv(t,e,n,r,i=.5){const s=Me(t.min,t.max,i);Ef(t,e,n,s,r)}function vs(t,e){Qv(t.x,e.x,e.scaleX,e.scale,e.originX),Qv(t.y,e.y,e.scaleY,e.scale,e.originY)}function jT(t,e){return MT(mb(t.getBoundingClientRect(),e))}function yb(t,e,n){const r=jT(t,n),{scroll:i}=e;return i&&(ys(r.x,i.offset.x),ys(r.y,i.offset.y)),r}const Yv=()=>({translate:0,scale:1,origin:0,originPoint:0}),_s=()=>({x:Yv(),y:Yv()}),Xv=()=>({min:0,max:0}),$e=()=>({x:Xv(),y:Xv()}),Tf={current:null},FT={current:!1};function vb(){if(FT.current=!0,!!tm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Tf.current=t.matches;t.addEventListener("change",e),e()}else Tf.current=!1}const _b=new WeakMap;function wb(t,e,n){for(const r in e){const i=e[r],s=n[r];if(St(i))t.addValue(r,i);else if(St(s))t.addValue(r,Os(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Os(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Jv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Eb{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Bt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Ve.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=kc(n),this.isVariantNode=ST(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];u[p]!==void 0&&St(y)&&y.set(u[p])}}mount(e){var n;this.current=e,_b.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),FT.current||vb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=eo.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in js){const n=js[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Jv.length;r++){const i=Jv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Os(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kE(r)||VE(r))?r=parseFloat(r):!Rk(r)&&ei.test(n)&&(r=fT(e,n)),this.setBaseTarget(e,St(r)?r.get():r)),St(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Rm(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!St(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new om),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Em.render(this.render)}}class UT extends Eb{constructor(){super(...arguments),this.KeyframeResolver=yk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function BT(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function Tb(t){return window.getComputedStyle(t)}class xb extends UT{constructor(){super(...arguments),this.type="html",this.renderInstance=BT}readValueFromInstance(e,n){var r;if(eo.has(n))return(r=this.projection)!=null&&r.isProjecting?ff(n):L2(e,n);{const i=Tb(e),s=(um(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jT(e,n)}build(e,n,r){Cm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return km(e,n,r)}}const $T=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sb(t,e,n,r){BT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($T.has(i)?i:bm(i),e.attrs[i])}class Ab extends UT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(eo.has(n)){const r=dT(n);return r&&r.default||0}return n=$T.has(n)?n:bm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bT(e,n,r)}build(e,n,r){IT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Sb(e,n,r,i)}mount(e){this.isSVGTag=RT(e.tagName),super.mount(e)}}const Cb=(t,e)=>Pm(t)?new Ab(e):new xb(e,{allowProjection:t!==A.Fragment});function Cs(t,e,n){const r=t.getProps();return Rm(r,e,n!==void 0?n:r.custom,t)}const xf=t=>Array.isArray(t);function Ib(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Os(n))}function Pb(t){return xf(t)?t[t.length-1]||0:t}function Rb(t,e){const n=Cs(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Pb(s[o]);Ib(t,o,a)}}function kb(t){return!!(St(t)&&t.add)}function Sf(t,e){const n=t.getValue("willChange");if(kb(n))return n.add(e);if(!n&&gr.WillChange){const r=new gr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function zT(t){return t.props[VT]}const bb=t=>t!==null;function Vb(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(bb),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Nb={type:"spring",stiffness:500,damping:25,restSpeed:10},Db=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mb={type:"keyframes",duration:.8},Lb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ob=(t,{keyframes:e})=>e.length>2?Mb:eo.has(t)?t.startsWith("scale")?Db(e[1]):Nb:Lb;function jb({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const Vm=(t,e,n,r={},i,s)=>o=>{const a=_m(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-$n(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};jb(a)||Object.assign(h,Ob(t,h)),h.duration&&(h.duration=$n(h.duration)),h.repeatDelay&&(h.repeatDelay=$n(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(vf(h),h.delay===0&&(f=!0)),(gr.instantAnimations||gr.skipAnimations)&&(f=!0,vf(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const p=Vb(h.keyframes,a);if(p!==void 0){Ve.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new ym(h):new sk(h)};function Fb({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function HT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),p=a[h];if(p===void 0||c&&Fb(c,h))continue;const y={delay:n,..._m(s||{},h)},C=f.get();if(C!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===C&&!y.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const E=zT(t);if(E){const _=window.MotionHandoffAnimation(E,h,Ve);_!==null&&(y.startTime=_,I=!0)}}Sf(t,h),f.start(Vm(h,f,p,t.shouldReduceMotion&&uT.has(h)?{type:!1}:y,t,I));const k=f.animation;k&&u.push(k)}return o&&Promise.all(u).then(()=>{Ve.update(()=>{o&&Rb(t,o)})}),u}function WT(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function Af(t,e,n={}){var u;const r=Cs(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(HT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return Ub(t,e,c,h,f,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function Ub(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),a.push(Af(u,e,{...o,delay:n+(typeof r=="function"?0:r)+WT(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(a)}function Bb(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Af(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Af(t,e,n);else{const i=typeof e=="function"?Cs(t,e,n.custom):e;r=Promise.all(HT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function qT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $b=Am.length;function KT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?KT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$b;n++){const r=Am[n],i=t.props[r];(Ca(i)||i===!1)&&(e[r]=i)}return e}const zb=[...Sm].reverse(),Hb=Sm.length;function Wb(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Bb(t,n,r)))}function qb(t){let e=Wb(t),n=Zv(),r=!0;const i=u=>(c,h)=>{var p;const f=Cs(t,h,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:C,...I}=f;c={...c,...I,...C}}return c};function s(u){e=u(t)}function o(u){const{props:c}=t,h=KT(t.parent)||{},f=[],p=new Set;let y={},C=1/0;for(let k=0;k<Hb;k++){const E=zb[k],_=n[E],w=c[E]!==void 0?c[E]:h[E],V=Ca(w),D=E===u?_.isActive:null;D===!1&&(C=k);let O=w===h[E]&&w!==c[E]&&V;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...y},!_.isActive&&D===null||!w&&!_.prevProp||Rc(w)||typeof w=="boolean")continue;const x=Kb(_.prevProp,w);let v=x||E===u&&_.isActive&&!O&&V||k>C&&V,S=!1;const P=Array.isArray(w)?w:[w];let b=P.reduce(i(E),{});D===!1&&(b={});const{prevResolvedValues:N={}}=_,R={...N,...b},Se=ge=>{v=!0,p.has(ge)&&(S=!0,p.delete(ge)),_.needsAnimating[ge]=!0;const z=t.getValue(ge);z&&(z.liveStyle=!1)};for(const ge in R){const z=b[ge],G=N[ge];if(y.hasOwnProperty(ge))continue;let Y=!1;xf(z)&&xf(G)?Y=!qT(z,G):Y=z!==G,Y?z!=null?Se(ge):p.add(ge):z!==void 0&&p.has(ge)?Se(ge):_.protectedKeys[ge]=!0}_.prevProp=w,_.prevResolvedValues=b,_.isActive&&(y={...y,...b}),r&&t.blockInitialAnimation&&(v=!1);const nt=O&&x;v&&(!nt||S)&&f.push(...P.map(ge=>{const z={type:E};if(typeof ge=="string"&&r&&!nt&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,Y=Cs(G,ge);if(G.enteringChildren&&Y){const{delayChildren:pe}=Y.transition||{};z.delay=WT(G.enteringChildren,t,pe)}}return{animation:ge,options:z}}))}if(p.size){const k={};if(typeof c.initial!="boolean"){const E=Cs(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(k.transition=E.transition)}p.forEach(E=>{const _=t.getBaseTarget(E),w=t.getValue(E);w&&(w.liveStyle=!0),k[E]=_??null}),f.push({animation:k})}let I=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(f):Promise.resolve()}function a(u,c){var f;if(n[u].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(u,c)}),n[u].isActive=c;const h=o(u);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Zv()}}}function Kb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qT(e,t):!1}function _i(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zv(){return{animate:_i(!0),whileInView:_i(),whileHover:_i(),whileTap:_i(),whileDrag:_i(),whileFocus:_i(),exit:_i()}}class ci{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gb extends ci{constructor(e){super(e),e.animationState||(e.animationState=qb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Qb=0;class Yb extends ci{constructor(){super(...arguments),this.id=Qb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xb={animation:{Feature:Gb},exit:{Feature:Yb}};function Pa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Qa(t){return{point:{x:t.pageX,y:t.pageY}}}const Jb=t=>e=>Tm(e)&&t(e,Qa(e));function Xo(t,e,n,r){return Pa(t,e,Jb(n),r)}const GT=1e-4,Zb=1-GT,eV=1+GT,QT=.01,tV=0-QT,nV=0+QT;function Nt(t){return t.max-t.min}function rV(t,e,n){return Math.abs(t-e)<=n}function e0(t,e,n,r=.5){t.origin=r,t.originPoint=Me(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Me(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Zb&&t.scale<=eV||isNaN(t.scale))&&(t.scale=1),(t.translate>=tV&&t.translate<=nV||isNaN(t.translate))&&(t.translate=0)}function Jo(t,e,n,r){e0(t.x,e.x,n.x,r?r.originX:void 0),e0(t.y,e.y,n.y,r?r.originY:void 0)}function t0(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function iV(t,e,n){t0(t.x,e.x,n.x),t0(t.y,e.y,n.y)}function n0(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function Zo(t,e,n){n0(t.x,e.x,n.x),n0(t.y,e.y,n.y)}function on(t){return[t("x"),t("y")]}const YT=({current:t})=>t?t.ownerDocument.defaultView:null,r0=(t,e)=>Math.abs(t-e);function sV(t,e){const n=r0(t.x,e.x),r=r0(t.y,e.y);return Math.sqrt(n**2+r**2)}class XT{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=qh(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,C=sV(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!C)return;const{point:I}=p,{timestamp:k}=ht;this.history.push({...I,timestamp:k});const{onStart:E,onMove:_}=this.handlers;y||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Wh(y,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=qh(p.type==="pointercancel"?this.lastMoveEventInfo:Wh(y,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,E),I&&I(p,E)},!Tm(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Qa(e),u=Wh(a,this.transformPagePoint),{point:c}=u,{timestamp:h}=ht;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,qh(u,this.history)),this.removeListeners=qa(Xo(this.contextWindow,"pointermove",this.handlePointerMove),Xo(this.contextWindow,"pointerup",this.handlePointerUp),Xo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function Wh(t,e){return e?{point:e(t.point)}:t}function i0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qh({point:t},e){return{point:t,delta:i0(t,JT(e)),offset:i0(t,oV(e)),velocity:aV(e,.1)}}function oV(t){return t[0]}function JT(t){return t[t.length-1]}function aV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=JT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$n(e)));)n--;if(!r)return{x:0,y:0};const s=hn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function lV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Me(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Me(n,t,r.max):Math.min(t,n)),t}function s0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uV(t,{top:e,left:n,bottom:r,right:i}){return{x:s0(t.x,n,i),y:s0(t.y,e,r)}}function o0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cV(t,e){return{x:o0(t.x,e.x),y:o0(t.y,e.y)}}function hV(t,e){let n=.5;const r=Nt(t),i=Nt(e);return i>r?n=xa(e.min,e.max-r,t.min):r>i&&(n=xa(t.min,t.max-i,e.min)),mr(0,1,n)}function dV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Cf=.35;function fV(t=Cf){return t===!1?t=0:t===!0&&(t=Cf),{x:a0(t,"left","right"),y:a0(t,"top","bottom")}}function a0(t,e,n){return{min:l0(t,e),max:l0(t,n)}}function l0(t,e){return typeof t=="number"?t:t[e]||0}const pV=new WeakMap;class mV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Qa(f).point)},o=(f,p)=>{const{drag:y,dragPropagation:C,onDragStart:I}=this.getProps();if(y&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ek(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),on(E=>{let _=this.getAxisMotionValue(E).get()||0;if(zn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const V=w.layout.layoutBox[E];V&&(_=Nt(V)*(parseFloat(_)/100))}}this.originPoint[E]=_}),I&&Ve.postRender(()=>I(f,p)),Sf(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:C,onDirectionLock:I,onDrag:k}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:E}=p;if(C&&this.currentDirection===null){this.currentDirection=gV(E),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),k&&k(f,p)},u=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>on(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new XT(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:YT(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ve.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ll(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&gs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uV(r.layoutBox,e):this.constraints=!1,this.elastic=fV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&on(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=dV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=yb(r,i.root,this.visualElement.getTransformPagePoint());let o=cV(i.layout.layoutBox,s);if(n){const a=n(pb(o));this.hasMutatedConstraints=!!a,a&&(o=MT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=on(h=>{if(!Ll(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,C={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,C)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sf(this.visualElement,e),r.start(Vm(e,r,0,n,this.visualElement,!1))}stopAnimation(){on(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){on(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){on(n=>{const{drag:r}=this.getProps();if(!Ll(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Me(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};on(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=hV({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),on(o=>{if(!Ll(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Me(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;pV.set(this.visualElement,this);const e=this.visualElement.current,n=Xo(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();gs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ve.read(r);const o=Pa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(on(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Cf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ll(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yV extends ci{constructor(e){super(e),this.removeGroupControls=fn,this.removeListeners=fn,this.controls=new mV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const u0=t=>(e,n)=>{t&&Ve.postRender(()=>t(e,n))};class vV extends ci{constructor(){super(...arguments),this.removePointerDownListener=fn}onPointerDown(e){this.session=new XT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:u0(e),onStart:u0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Ve.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Xo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ko={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=c0(t,e.target.x),r=c0(t,e.target.y);return`${n}% ${r}%`}},_V={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ei.parse(t);if(i.length>5)return r;const s=ei.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=Me(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let Kh=!1;class wV extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;$k(EV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Kh&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,Kh=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Em.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Kh=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZT(t){const[e,n]=wT(),r=A.useContext(Zp);return g.jsx(wV,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(NT),isPresent:e,safeToRemove:n})}const EV={borderRadius:{...ko,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ko,borderTopRightRadius:ko,borderBottomLeftRadius:ko,borderBottomRightRadius:ko,boxShadow:_V};function TV(t,e,n){const r=St(t)?t:Os(t);return r.start(Vm("",r,e,n)),r.animation}const xV=(t,e)=>t.depth-e.depth;class SV{constructor(){this.children=[],this.isDirty=!1}add(e){nm(this.children,e),this.isDirty=!0}remove(e){rm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xV),this.isDirty=!1,this.children.forEach(e)}}function AV(t,e){const n=Bt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Zr(r),t(s-e))};return Ve.setup(r,!0),()=>Zr(r)}const ex=["TopLeft","TopRight","BottomLeft","BottomRight"],CV=ex.length,h0=t=>typeof t=="string"?parseFloat(t):t,d0=t=>typeof t=="number"||ee.test(t);function IV(t,e,n,r,i,s){i?(t.opacity=Me(0,n.opacity??1,PV(r)),t.opacityExit=Me(e.opacity??1,0,RV(r))):s&&(t.opacity=Me(e.opacity??1,n.opacity??1,r));for(let o=0;o<CV;o++){const a=`border${ex[o]}Radius`;let u=f0(e,a),c=f0(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||d0(u)===d0(c)?(t[a]=Math.max(Me(h0(u),h0(c),r),0),(zn.test(c)||zn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Me(e.rotate||0,n.rotate||0,r))}function f0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const PV=tx(0,.5,UE),RV=tx(.5,.95,fn);function tx(t,e,n){return r=>r<t?0:r>e?1:n(xa(t,e,r))}function p0(t,e){t.min=e.min,t.max=e.max}function sn(t,e){p0(t.x,e.x),p0(t.y,e.y)}function m0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function g0(t,e,n,r,i){return t-=e,t=Wu(t,1/n,r),i!==void 0&&(t=Wu(t,1/i,r)),t}function kV(t,e=0,n=1,r=.5,i,s=t,o=t){if(zn.test(e)&&(e=parseFloat(e),e=Me(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Me(s.min,s.max,r);t===s&&(a-=e),t.min=g0(t.min,e,n,a,i),t.max=g0(t.max,e,n,a,i)}function y0(t,e,[n,r,i],s,o){kV(t,e[n],e[r],e[i],e.scale,s,o)}const bV=["x","scaleX","originX"],VV=["y","scaleY","originY"];function v0(t,e,n,r){y0(t.x,e,bV,n?n.x:void 0,r?r.x:void 0),y0(t.y,e,VV,n?n.y:void 0,r?r.y:void 0)}function _0(t){return t.translate===0&&t.scale===1}function nx(t){return _0(t.x)&&_0(t.y)}function w0(t,e){return t.min===e.min&&t.max===e.max}function NV(t,e){return w0(t.x,e.x)&&w0(t.y,e.y)}function E0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rx(t,e){return E0(t.x,e.x)&&E0(t.y,e.y)}function T0(t){return Nt(t.x)/Nt(t.y)}function x0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DV{constructor(){this.members=[]}add(e){nm(this.members,e),e.scheduleRender()}remove(e){if(rm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function MV(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:C}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const Gh=["","X","Y","Z"],LV=1e3;let OV=0;function Qh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function ix(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=zT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&ix(r)}function sx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=OV++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UV),this.nodes.forEach(HV),this.nodes.forEach(WV),this.nodes.forEach(BV)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new SV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new om),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=_T(o)&&!Ik(o),this.instance=o;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,h&&h(),h=AV(p,250),uu.hasAnimatedSinceResize&&(uu.hasAnimatedSinceResize=!1,this.nodes.forEach(C0)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||c.getDefaultTransition()||YV,{onLayoutAnimationStart:I,onLayoutAnimationComplete:k}=c.getProps(),E=!this.targetLayout||!rx(this.targetLayout,y),_=!f&&p;if(this.options.layoutRoot||this.resumeFrom||_||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={..._m(C,"layout"),onPlay:I,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,_)}else f||C0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ix(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zV),this.nodes.forEach(jV),this.nodes.forEach(FV)):this.nodes.forEach(A0),this.clearAllSnapshots();const a=Bt.now();ht.delta=mr(0,1e3/60,a-ht.timestamp),ht.timestamp=a,ht.isProcessing=!0,Oh.update.process(ht),Oh.preRender.process(ht),Oh.render.process(ht),ht.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Em.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($V),this.sharedNodes.forEach(KV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!nx(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Ti(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),XV(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return $e();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(JV))){const{scroll:h}=this.root;h&&(ys(a.x,h.offset.x),ys(a.y,h.offset.y))}return a}removeElementScroll(o){var u;const a=$e();if(sn(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&sn(a,o),ys(a.x,f.offset.x),ys(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const u=$e();sn(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vs(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ti(h.latestValues)&&vs(u,h.latestValues)}return Ti(this.latestValues)&&vs(u,this.latestValues),u}removeTransform(o){const a=$e();sn(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ti(c.latestValues))continue;wf(c.latestValues)&&c.updateSnapshot();const h=$e(),f=c.measurePageBox();sn(h,f),v0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ti(this.latestValues)&&v0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ht.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=ht.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Zo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sn(this.target,this.layout.layoutBox),OT(this.target,this.targetDelta)):sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Zo(this.relativeTargetOrigin,this.target,y.target),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wf(this.parent.latestValues)||LT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ht.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;sn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;gb(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=$e());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(m0(this.prevProjectionDelta.x,this.projectionDelta.x),m0(this.prevProjectionDelta.y,this.projectionDelta.y)),Jo(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!x0(this.projectionDelta.x,this.prevProjectionDelta.x)||!x0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_s(),this.projectionDelta=_s(),this.projectionDeltaWithTransform=_s()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=_s();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=$e(),y=u?u.source:void 0,C=this.layout?this.layout.source:void 0,I=y!==C,k=this.getStack(),E=!k||k.members.length<=1,_=!!(I&&!E&&this.options.crossfade===!0&&!this.path.some(QV));this.animationProgress=0;let w;this.mixTargetDelta=V=>{const D=V/1e3;I0(f.x,o.x,D),I0(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GV(this.relativeTarget,this.relativeTargetOrigin,p,D),w&&NV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$e()),sn(w,this.relativeTarget)),I&&(this.animationValues=h,IV(h,c,this.latestValues,D,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{uu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Os(0)),this.currentAnimation=TV(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LV),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&ox(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||$e();const f=Nt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Nt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}sn(a,u),vs(a,h),Jo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new DV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Qh("z",o,c,this.animationValues);for(let h=0;h<Gh.length;h++)Qh(`rotate${Gh[h]}`,o,c,this.animationValues),Qh(`skew${Gh[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=lu(a==null?void 0:a.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=lu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ti(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=MV(this.projectionDeltaWithTransform,this.treeScale,h);u&&(f=u(h,f)),o.transform=f;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in Ia){if(h[C]===void 0)continue;const{correct:I,applyTo:k,isCSSVariable:E}=Ia[C],_=f==="none"?h[C]:I(h[C],c);if(k){const w=k.length;for(let V=0;V<w;V++)o[k[V]]=_}else E?this.options.visualElement.renderState.vars[C]=_:o[C]=_}this.options.layoutId&&(o.pointerEvents=c===this?lu(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(S0),this.root.sharedNodes.clear()}}}function jV(t){t.updateLayout()}function FV(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?on(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Nt(p);p.min=r[f].min,p.max=p.min+y}):ox(s,e.layoutBox,r)&&on(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Nt(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=_s();Jo(a,r,e.layoutBox);const u=_s();o?Jo(u,t.applyTransform(i,!0),e.measuredBox):Jo(u,r,e.layoutBox);const c=!nx(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const C=$e();Zo(C,e.layoutBox,p.layoutBox);const I=$e();Zo(I,r,y.layoutBox),rx(C,I)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function UV(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function BV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $V(t){t.clearSnapshot()}function S0(t){t.clearMeasurements()}function A0(t){t.isLayoutDirty=!1}function zV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function C0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HV(t){t.resolveTargetDelta()}function WV(t){t.calcProjection()}function qV(t){t.resetSkewAndRotation()}function KV(t){t.removeLeadSnapshot()}function I0(t,e,n){t.translate=Me(e.translate,0,n),t.scale=Me(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P0(t,e,n,r){t.min=Me(e.min,n.min,r),t.max=Me(e.max,n.max,r)}function GV(t,e,n,r){P0(t.x,e.x,n.x,r),P0(t.y,e.y,n.y,r)}function QV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YV={duration:.45,ease:[.4,0,.1,1]},R0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),k0=R0("applewebkit/")&&!R0("chrome/")?Math.round:fn;function b0(t){t.min=k0(t.min),t.max=k0(t.max)}function XV(t){b0(t.x),b0(t.y)}function ox(t,e,n){return t==="position"||t==="preserve-aspect"&&!rV(T0(e),T0(n),.2)}function JV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ZV=sx({attachResizeListener:(t,e)=>Pa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yh={current:void 0},ax=sx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yh.current){const t=new ZV({});t.mount(window),t.setOptions({layoutScroll:!0}),Yh.current=t}return Yh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eN={pan:{Feature:vV},drag:{Feature:yV,ProjectionNode:ax,MeasureLayout:ZT}};function V0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ve.postRender(()=>s(e,Qa(e)))}class tN extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=Tk(e,(n,r)=>(V0(this.node,r,"Start"),i=>V0(this.node,i,"End"))))}unmount(){}}class nN extends ci{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qa(Pa(this.node.current,"focus",()=>this.onFocus()),Pa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ve.postRender(()=>s(e,Qa(e)))}class rN extends ci{mount(){const{current:e}=this.node;e&&(this.unmount=Ck(e,(n,r)=>(N0(this.node,r,"Start"),(i,{success:s})=>N0(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const If=new WeakMap,Xh=new WeakMap,iN=t=>{const e=If.get(t.target);e&&e(t)},sN=t=>{t.forEach(iN)};function oN({root:t,...e}){const n=t||document;Xh.has(n)||Xh.set(n,{});const r=Xh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(sN,{root:t,...e})),r[i]}function aN(t,e,n){const r=oN(e);return If.set(t,n),r.observe(t),()=>{If.delete(t),r.unobserve(t)}}const lN={some:0,all:1};class uN extends ci{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lN[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(u)};return aN(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(cN(e,n))&&this.startObserver()}unmount(){}}function cN({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hN={inView:{Feature:uN},tap:{Feature:rN},focus:{Feature:nN},hover:{Feature:tN}},dN={layout:{ProjectionNode:ax,MeasureLayout:ZT}},fN={...Xb,...hN,...eN,...dN},Fn=fb(fN,Cb);function lx(){const t=new Date().getFullYear();return g.jsx("footer",{style:{background:"linear-gradient(180deg, #fffaff 0%, #fff1f7 100%)",borderTop:"1px solid #eadfff",paddingTop:40,paddingBottom:32},children:g.jsxs("div",{className:"container",style:{textAlign:"center"},children:[g.jsx(Fn.h3,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},style:{fontWeight:800,fontSize:"1.45rem",color:"#6a3ba6",marginBottom:6},children:"Pastelera Nancy "}),g.jsx(Fn.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2,duration:.6},style:{color:"#a28cbf",fontSize:"0.95rem",marginBottom:18,fontWeight:500},children:"Hecho con amor en Miranda, Cauca "}),g.jsx(Fn.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},transition:{duration:.8},style:{height:1,background:"#eadfff",margin:"0 auto 18px",borderRadius:2}}),g.jsxs("p",{style:{color:"#857b9a",fontSize:"0.9rem",margin:0,letterSpacing:.2},children:[" ",t," Pastelera Nancy  Todos los derechos reservados."]})]})})}function ux(){return A.useEffect(()=>{const t=document.querySelector(".header"),e=()=>{t&&t.classList.toggle("scrolled",window.scrollY>40)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),g.jsx("header",{className:"header",children:g.jsxs("nav",{className:"container nav",children:[g.jsxs("a",{href:"/",className:"brand","aria-label":"Ir al inicio",children:[g.jsx("img",{src:"/logo.png",alt:"Logo Pastelera Nancy",className:"brand-logo"}),g.jsx("span",{className:"brand-text",children:"Pastelera Nancy"})]}),g.jsxs("div",{className:"actions",children:[g.jsx("a",{className:"btn secondary",href:"/galeria",children:"Galera"}),g.jsx("a",{className:"btn secondary",href:"#sedes",children:"Sedes"}),g.jsx("a",{className:"btn",href:"#contacto",children:"Contactar"})]})]})})}function bc({id:t,variant:e="default",center:n,children:r,className:i,style:s}){const o=A.useRef(null);return A.useEffect(()=>{const a=o.current;if(!a)return;const u=a.querySelectorAll("[data-reveal]"),c=new IntersectionObserver(h=>{h.forEach(f=>{f.isIntersecting&&f.target.classList.add("reveal-in")})},{threshold:.15});return u.forEach(h=>c.observe(h)),()=>c.disconnect()},[]),g.jsxs("section",{id:t,ref:o,className:`section ${e} ${n?"center":""} ${i??""}`,"aria-labelledby":t?`${t}-title`:void 0,style:s,children:[g.jsx("div",{className:"container",children:r}),g.jsx("div",{className:"divider","aria-hidden":"true"})]})}function pN(){return A.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>{i.forEach(s=>{if(s.isIntersecting){const o=s.target;o.classList.add("reveal-in"),n.unobserve(o)}})},{threshold:.2,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[]),g.jsxs(bc,{center:!0,variant:"brand",id:"inicio","aria-label":"Portada pastelera",style:{paddingTop:0,marginTop:0},children:[g.jsx("span",{className:"orb orb--1","aria-hidden":"true"}),g.jsx("span",{className:"orb orb--2","aria-hidden":"true"}),g.jsx("span",{className:"orb orb--3","aria-hidden":"true"}),g.jsx("div",{className:"container hero-wrap",children:g.jsxs("div",{className:"split",children:[g.jsxs("div",{"data-reveal":!0,className:"hero-copy",children:[g.jsx("p",{className:"eyebrow",children:"Pastelera artesanal"}),g.jsx("h1",{className:"h1",children:"La excelencia en pastelera"}),g.jsx("p",{className:"lead",children:"Tortas elegantes, frescas y con el toque perfecto para tus momentos especiales."}),g.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones principales",children:[g.jsx("a",{className:"btn btn-lg",href:"#sedes",children:"Ver sedes"}),g.jsx("a",{className:"btn secondary btn-lg",href:"#redes",children:"Sguenos"})]})]}),g.jsx("div",{"data-reveal":!0,className:"hero-media",children:g.jsxs("picture",{children:[g.jsx("source",{srcSet:"/hero-cake.png",type:"image/webp"}),g.jsx("img",{src:"/hero-cake.png",width:520,height:520,decoding:"async",fetchPriority:"high",alt:"Torta de cumpleaos con mariposas doradas",className:"hero-img floaty"})]})})]})}),g.jsx("div",{className:"divider","aria-hidden":"true"})]})}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),D0=t=>{const e=gN(t);return e.charAt(0).toUpperCase()+e.slice(1)},cx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>A.createElement("svg",{ref:u,...vN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cx("lucide",i),...!s&&!yN(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>A.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(_N,{ref:s,iconNode:e,className:cx(`lucide-${mN(D0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=D0(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EN=Zn("clock",wN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xN=Zn("folder-plus",TN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],AN=Zn("image-plus",SN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],M0=Zn("loader-circle",CN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PN=Zn("map-pin",IN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],kN=Zn("message-circle",RN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],VN=Zn("navigation",bN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],DN=Zn("rocket",NN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],LN=Zn("tag",MN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ol=Zn("upload",ON),jN=[{label:"LunSb",time:"8:00AM  6:00PM"},{label:"Dom",time:"8:30AM  2:00PM"},{label:"Festivos",time:"8:30AM  1:00PM"}],FN=[{id:"miranda",name:"Sede Miranda",phone:"+57 315 5287225",whatsapp:"573155287225",address:"Calle 8 # 7 - 23",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+8+%23+7+-+23,+Miranda,+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-miranda.jpg"},{id:"florida",name:"Sede Florida",phone:"+57 315 0815246",whatsapp:"573150815246",address:"Calle 6 # 14-40",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+6+con+Carrera+15,+Florida,+Valle+del+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-florida.png"}];function UN(t){return(t??"").replace(/\D+/g,"")}function BN(t,e){const n=UN(t);if(!n)return;const r=`?text=${encodeURIComponent(e)}`;return`https://wa.me/${n}${r}`}function $N(){A.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>i.forEach(s=>{if(s.isIntersecting){const o=s.target;o.classList.add("reveal-in"),n.unobserve(o)}}),{threshold:.16,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[])}const zN={hidden:{opacity:0,y:16,scale:.98},show:{opacity:1,y:0,scale:1,transition:{duration:.55}}};function HN({b:t}){const e=BN(t.whatsapp,"Hola! Quiero ms info ");return g.jsxs(Fn.article,{className:"branch card-out",variants:zN,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},"aria-label":`Informacin de ${t.name}`,children:[g.jsxs("div",{className:"branch-head",children:[g.jsx("img",{src:t.image,alt:"",className:"branch-head__img",loading:"lazy",decoding:"async"}),g.jsx("div",{className:"branch-head__overlay"}),g.jsxs("div",{className:"branch-head__content",children:[g.jsx("h3",{className:"branch-head__title",children:t.name}),g.jsxs("p",{className:"branch-head__sub",children:[g.jsx(PN,{size:16,style:{marginRight:6,verticalAlign:"-2px"}}),t.address]})]})]}),g.jsxs("div",{className:"branch-body",children:[g.jsxs("div",{className:"hours-card hours-card--out",role:"group","aria-label":`Horarios de ${t.name}`,children:[g.jsxs("div",{className:"hours-card__header",children:[g.jsx(EN,{size:18,"aria-hidden":"true"}),g.jsx("span",{children:"Horarios"})]}),g.jsx("ul",{className:"hours-list",children:jN.map(({label:n,time:r})=>g.jsxs("li",{className:"hour-row",children:[g.jsx("span",{className:"hour-label",children:n}),g.jsx("span",{className:"hour-time",children:r})]},n))})]}),g.jsxs("div",{className:"banner-cta",role:"group","aria-label":`Acciones de ${t.name}`,children:[e&&g.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"btn",children:[g.jsx(kN,{size:18,"aria-hidden":"true"})," WhatsApp"]}),t.mapsUrl&&g.jsxs("a",{href:t.mapsUrl,target:"_blank",rel:"noopener noreferrer",className:"btn secondary",children:[g.jsx(VN,{size:18,"aria-hidden":"true"})," Ver en Maps"]})]})]})]})}function WN(){return $N(),g.jsx(bc,{id:"sedes",variant:"alt",style:{background:"linear-gradient(180deg, #FFF1F7 0%, #F6F8FF 100%),radial-gradient(circle at top left, rgba(255, 182, 255, 0.25), transparent 60%),radial-gradient(circle at bottom right, rgba(180, 230, 255, 0.3), transparent 60%)",paddingBlock:"64px"},"aria-labelledby":"sedes-title",center:!0,children:g.jsxs("div",{className:"container",style:{textAlign:"center"},children:[g.jsxs("header",{"data-reveal":!0,style:{marginBottom:28},children:[g.jsx("h2",{id:"sedes-title",className:"h2",children:"Nuestras sedes"}),g.jsx("p",{className:"lead",children:"Elige tu sede y contctanos de una "})]}),g.jsx("div",{className:"branch-grid-2 branch-grid-2--center",children:g.jsx(ET,{children:FN.map(t=>g.jsx(HN,{b:t},t.id))})})]})})}const qN=[{id:"instagram",label:"Instagram",href:"https://instagram.com/pasteleria.nancy",handle:"@pasteleria.nancy"},{id:"tiktok",label:"TikTok",href:"https://tiktok.com/@pasteleria_nancy",handle:"@pasteleria_nancy"},{id:"facebook",label:"Facebook",href:"https://www.facebook.com/p/Pasteleria-Nancy-100054205523535/",handle:"Pastelera Nancy"}],KN="https://wa.me/573155287225?text="+encodeURIComponent("Hola!"),GN="https://wa.me/573150815246?text="+encodeURIComponent("Hola!"),jl={ig:()=>g.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"5",stroke:"currentColor",strokeWidth:"2"}),g.jsx("circle",{cx:"12",cy:"12",r:"3.5",stroke:"currentColor",strokeWidth:"2"}),g.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.2",fill:"currentColor"})]}),tt:()=>g.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("path",{d:"M14 3v6.5a4.5 4.5 0 1 1-4.5-4.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M14 6c1.2 1.8 3.1 3 5 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),fb:()=>g.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:g.jsx("path",{d:"M14 9h3V6h-3a3 3 0 0 0-3 3v3H8v3h3v6h3v-6h3l1-3h-4V9a1 1 0 0 1 1-1z",fill:"currentColor"})}),wa:()=>g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 32 32",fill:"none",children:[g.jsx("path",{d:"M16 3C9.37 3 4 8.37 4 15c0 2.1.54 4.1 1.49 5.83L4 29l8.4-1.46A11.9 11.9 0 0 0 16 27c6.63 0 12-5.37 12-12S22.63 3 16 3z",fill:"currentColor"}),g.jsx("path",{d:"M22.1 19.9c-.2.57-1.16 1.08-1.6 1.1-.43.03-.97.04-1.56-.1-.36-.09-.83-.27-1.43-.53-2.51-1.08-4.14-3.7-4.27-3.88-.13-.18-1.02-1.36-1.02-2.6 0-1.23.65-1.83.88-2.09s.5-.33.66-.33H14c.15 0 .35-.06.55.42.2.49.67 1.7.73 1.83.06.13.1.28.02.46a2 2 0 0 1-.72.89c-.12.12-.25.26-.11.51.14.26.62 1.02 1.34 1.66.92.82 1.68 1.07 1.94 1.19.26.12.42.1.58-.06.16-.16.67-.78.85-1.05.18-.26.36-.22.6-.13.24.09 1.49.7 1.75.83.26.13.43.19.49.3.06.11.06.63-.14 1.2z",fill:"#fff"})]})},L0={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},O0={hidden:{opacity:0,y:10,scale:.97},show:{opacity:1,y:0,scale:1,transition:{duration:.4}}};function QN(){return g.jsxs(bc,{id:"redes",variant:"surface",center:!0,style:{background:"linear-gradient(180deg,#fff7fe 0%,#f9faff 40%,#fff1f7 100%)"},children:[g.jsxs("header",{"data-reveal":!0,style:{textAlign:"center",marginBottom:24},children:[g.jsx("h2",{id:"redes-title",className:"h2",children:"Sguenos y antojate"}),g.jsx("p",{className:"lead",children:"Promos, nuevos sabores y un vistazo al detrs de nuestras creaciones."})]}),g.jsx(Fn.div,{className:"social-center",variants:L0,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},children:qN.map(t=>g.jsxs(Fn.a,{href:t.href,target:"_blank",rel:"noreferrer",className:`social-card ${t.id}`,variants:O0,whileHover:{y:-4,boxShadow:"0 10px 24px rgba(183,108,253,0.25)",scale:1.03},style:{borderRadius:18,background:"#fff",border:"1px solid #eadfff",padding:"16px 18px",display:"flex",alignItems:"center",gap:14,transition:"all 0.2s ease"},children:[g.jsx("span",{className:"icon",style:{color:t.id==="instagram"?"#E4405F":t.id==="facebook"?"#1877F2":"#000"},children:t.id==="instagram"?g.jsx(jl.ig,{}):t.id==="tiktok"?g.jsx(jl.tt,{}):g.jsx(jl.fb,{})}),g.jsxs("div",{className:"text",style:{textAlign:"left"},children:[g.jsx("strong",{style:{fontSize:"16px",display:"block"},children:t.label}),g.jsx("span",{className:"handle",style:{color:"#857b9a"},children:t.handle})]})]},t.id))}),g.jsx(Fn.div,{className:"wa-wrap",variants:L0,initial:"hidden",whileInView:"show",viewport:{once:!0},style:{marginTop:36,gap:16,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[{href:KN,label:"Sede Miranda"},{href:GN,label:"Sede Florida"}].map((t,e)=>g.jsxs(Fn.a,{href:t.href,target:"_blank",rel:"noreferrer",variants:O0,whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(37,211,102,0.25)"},style:{display:"flex",alignItems:"center",gap:8,background:"linear-gradient(90deg,#25D366,#128C7E)",color:"#fff",borderRadius:999,padding:"12px 20px",fontWeight:700,boxShadow:"0 6px 14px rgba(37,211,102,0.3)",transition:"all 0.2s ease"},children:[g.jsx(jl.wa,{}),"WhatsApp ",t.label]},e))})]})}const YN=()=>{};var j0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new JN;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZN=function(t){const e=hx(t);return dx.encodeByteArray(e,!0)},qu=function(t){return ZN(t).replace(/\./g,"")},eD=function(t){try{return dx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=()=>tD().__FIREBASE_DEFAULTS__,rD=()=>{if(typeof process>"u"||typeof j0>"u")return;const t=j0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eD(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return YN()||nD()||rD()||iD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sD=t=>{var e,n;return(n=(e=Nm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fx=t=>{const e=sD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},px=()=>{var t;return(t=Nm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qu(JSON.stringify(n)),qu(JSON.stringify(o)),""].join(".")}const ea={};function aD(){const t={prod:[],emulator:[]};for(const e of Object.keys(ea))ea[e]?t.emulator.push(e):t.prod.push(e);return t}function lD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let F0=!1;function yx(t,e){if(typeof window>"u"||typeof document>"u"||!Vc(window.location.host)||ea[t]===e||ea[t]||F0)return;ea[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=aD().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{F0=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=lD(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),h(k,I);const V=c();u(_,E),w.append(_,C,k,V),document.body.appendChild(w)}s?(C.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cD(){var e;const t=(e=Nm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hD(){return!cD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dD(){try{return typeof indexedDB=="object"}catch{return!1}}function fD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pD,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vx.prototype.create)}}class vx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Wi(i,a,r)}}function mD(t,e){return t.replace(gD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gD=/\{\$([^}]+)}/g;function Ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(U0(s)&&U0(o)){if(!Ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_D(e))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xi){return this.instances.has(e)}getOptions(e=xi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xi){return this.component?this.component.multipleInstances?e:xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vD(t){return t===xi?void 0:t}function _D(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const ED={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},TD=ue.INFO,xD={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},SD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _x{constructor(e){this.name=e,this._logLevel=TD,this._logHandler=SD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ED[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const AD=(t,e)=>e.some(n=>t instanceof n);let B0,$0;function CD(){return B0||(B0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ID(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wx=new WeakMap,Pf=new WeakMap,Ex=new WeakMap,Jh=new WeakMap,Dm=new WeakMap;function PD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wx.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function RD(t){if(Pf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pf.set(t,e)}let Rf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ex.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kD(t){Rf=t(Rf)}function bD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zh(this),e,...n);return Ex.set(r,e.sort?e.sort():[e]),Wr(r)}:ID().includes(t)?function(...e){return t.apply(Zh(this),e),Wr(wx.get(this))}:function(...e){return Wr(t.apply(Zh(this),e))}}function VD(t){return typeof t=="function"?bD(t):(t instanceof IDBTransaction&&RD(t),AD(t,CD())?new Proxy(t,Rf):t)}function Wr(t){if(t instanceof IDBRequest)return PD(t);if(Jh.has(t))return Jh.get(t);const e=VD(t);return e!==t&&(Jh.set(t,e),Dm.set(e,t)),e}const Zh=t=>Dm.get(t);function ND(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wr(o.result),u.oldVersion,u.newVersion,Wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const DD=["get","getKey","getAll","getAllKeys","count"],MD=["put","add","delete","clear"],ed=new Map;function z0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=MD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DD.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ed.set(e,s),s}kD(t=>({...t,get:(e,n,r)=>z0(e,n)||t.get(e,n,r),has:(e,n)=>!!z0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",H0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new _x("@firebase/app"),jD="@firebase/app-compat",FD="@firebase/analytics-compat",UD="@firebase/analytics",BD="@firebase/app-check-compat",$D="@firebase/app-check",zD="@firebase/auth",HD="@firebase/auth-compat",WD="@firebase/database",qD="@firebase/data-connect",KD="@firebase/database-compat",GD="@firebase/functions",QD="@firebase/functions-compat",YD="@firebase/installations",XD="@firebase/installations-compat",JD="@firebase/messaging",ZD="@firebase/messaging-compat",eM="@firebase/performance",tM="@firebase/performance-compat",nM="@firebase/remote-config",rM="@firebase/remote-config-compat",iM="@firebase/storage",sM="@firebase/storage-compat",oM="@firebase/firestore",aM="@firebase/ai",lM="@firebase/firestore-compat",uM="firebase",cM="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="[DEFAULT]",hM={[kf]:"fire-core",[jD]:"fire-core-compat",[UD]:"fire-analytics",[FD]:"fire-analytics-compat",[$D]:"fire-app-check",[BD]:"fire-app-check-compat",[zD]:"fire-auth",[HD]:"fire-auth-compat",[WD]:"fire-rtdb",[qD]:"fire-data-connect",[KD]:"fire-rtdb-compat",[GD]:"fire-fn",[QD]:"fire-fn-compat",[YD]:"fire-iid",[XD]:"fire-iid-compat",[JD]:"fire-fcm",[ZD]:"fire-fcm-compat",[eM]:"fire-perf",[tM]:"fire-perf-compat",[nM]:"fire-rc",[rM]:"fire-rc-compat",[iM]:"fire-gcs",[sM]:"fire-gcs-compat",[oM]:"fire-fst",[lM]:"fire-fst-compat",[aM]:"fire-vertex","fire-js":"fire-js",[uM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Map,dM=new Map,Vf=new Map;function W0(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ra(t){const e=t.name;if(Vf.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,t);for(const n of Gu.values())W0(n,t);for(const n of dM.values())W0(n,t);return!0}function Tx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xx(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new vx("app","Firebase",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=cM;function Ax(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=px()),!n)throw qr.create("no-options");const s=Gu.get(i);if(s){if(Ku(n,s.options)&&Ku(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new wD(i);for(const u of Vf.values())o.addComponent(u);const a=new pM(n,r,o);return Gu.set(i,a),a}function Cx(t=bf){const e=Gu.get(t);if(!e&&t===bf&&px())return Ax();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){let r=hM[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(o.join(" "));return}Ra(new Fs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="firebase-heartbeat-database",gM=1,ka="firebase-heartbeat-store";let td=null;function Ix(){return td||(td=ND(mM,gM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),td}async function yM(t){try{const n=(await Ix()).transaction(ka),r=await n.objectStore(ka).get(Px(t));return await n.done,r}catch(e){if(e instanceof Wi)yr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function q0(t,e){try{const r=(await Ix()).transaction(ka,"readwrite");await r.objectStore(ka).put(e,Px(t)),await r.done}catch(n){if(n instanceof Wi)yr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(r.message)}}}function Px(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1024,_M=30;class wM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_M){const o=xM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:r,unsentEntries:i}=EM(this._heartbeatsCache.heartbeats),s=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yr.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function EM(t,e=vM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),G0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),G0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dD()?fD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function G0(t){return qu(JSON.stringify({version:2,heartbeats:t})).length}function xM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){Ra(new Fs("platform-logger",e=>new LD(e),"PRIVATE")),Ra(new Fs("heartbeat",e=>new wM(e),"PRIVATE")),Kr(kf,H0,t),Kr(kf,H0,"esm2020"),Kr("fire-js","")}SM("");var AM="firebase",CM="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(AM,CM,"app");var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Rx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function S(){}S.prototype=v.prototype,x.F=v.prototype,x.prototype=new S,x.prototype.constructor=x,x.D=function(P,b,N){for(var R=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)R[Se-2]=arguments[Se];return v.prototype[b].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,v,S){S||(S=0);const P=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)P[b]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(b=0;b<16;++b)P[b]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=x.g[0],S=x.g[1],b=x.g[2];let N=x.g[3],R;R=v+(N^S&(b^N))+P[0]+3614090360&4294967295,v=S+(R<<7&4294967295|R>>>25),R=N+(b^v&(S^b))+P[1]+3905402710&4294967295,N=v+(R<<12&4294967295|R>>>20),R=b+(S^N&(v^S))+P[2]+606105819&4294967295,b=N+(R<<17&4294967295|R>>>15),R=S+(v^b&(N^v))+P[3]+3250441966&4294967295,S=b+(R<<22&4294967295|R>>>10),R=v+(N^S&(b^N))+P[4]+4118548399&4294967295,v=S+(R<<7&4294967295|R>>>25),R=N+(b^v&(S^b))+P[5]+1200080426&4294967295,N=v+(R<<12&4294967295|R>>>20),R=b+(S^N&(v^S))+P[6]+2821735955&4294967295,b=N+(R<<17&4294967295|R>>>15),R=S+(v^b&(N^v))+P[7]+4249261313&4294967295,S=b+(R<<22&4294967295|R>>>10),R=v+(N^S&(b^N))+P[8]+1770035416&4294967295,v=S+(R<<7&4294967295|R>>>25),R=N+(b^v&(S^b))+P[9]+2336552879&4294967295,N=v+(R<<12&4294967295|R>>>20),R=b+(S^N&(v^S))+P[10]+4294925233&4294967295,b=N+(R<<17&4294967295|R>>>15),R=S+(v^b&(N^v))+P[11]+2304563134&4294967295,S=b+(R<<22&4294967295|R>>>10),R=v+(N^S&(b^N))+P[12]+1804603682&4294967295,v=S+(R<<7&4294967295|R>>>25),R=N+(b^v&(S^b))+P[13]+4254626195&4294967295,N=v+(R<<12&4294967295|R>>>20),R=b+(S^N&(v^S))+P[14]+2792965006&4294967295,b=N+(R<<17&4294967295|R>>>15),R=S+(v^b&(N^v))+P[15]+1236535329&4294967295,S=b+(R<<22&4294967295|R>>>10),R=v+(b^N&(S^b))+P[1]+4129170786&4294967295,v=S+(R<<5&4294967295|R>>>27),R=N+(S^b&(v^S))+P[6]+3225465664&4294967295,N=v+(R<<9&4294967295|R>>>23),R=b+(v^S&(N^v))+P[11]+643717713&4294967295,b=N+(R<<14&4294967295|R>>>18),R=S+(N^v&(b^N))+P[0]+3921069994&4294967295,S=b+(R<<20&4294967295|R>>>12),R=v+(b^N&(S^b))+P[5]+3593408605&4294967295,v=S+(R<<5&4294967295|R>>>27),R=N+(S^b&(v^S))+P[10]+38016083&4294967295,N=v+(R<<9&4294967295|R>>>23),R=b+(v^S&(N^v))+P[15]+3634488961&4294967295,b=N+(R<<14&4294967295|R>>>18),R=S+(N^v&(b^N))+P[4]+3889429448&4294967295,S=b+(R<<20&4294967295|R>>>12),R=v+(b^N&(S^b))+P[9]+568446438&4294967295,v=S+(R<<5&4294967295|R>>>27),R=N+(S^b&(v^S))+P[14]+3275163606&4294967295,N=v+(R<<9&4294967295|R>>>23),R=b+(v^S&(N^v))+P[3]+4107603335&4294967295,b=N+(R<<14&4294967295|R>>>18),R=S+(N^v&(b^N))+P[8]+1163531501&4294967295,S=b+(R<<20&4294967295|R>>>12),R=v+(b^N&(S^b))+P[13]+2850285829&4294967295,v=S+(R<<5&4294967295|R>>>27),R=N+(S^b&(v^S))+P[2]+4243563512&4294967295,N=v+(R<<9&4294967295|R>>>23),R=b+(v^S&(N^v))+P[7]+1735328473&4294967295,b=N+(R<<14&4294967295|R>>>18),R=S+(N^v&(b^N))+P[12]+2368359562&4294967295,S=b+(R<<20&4294967295|R>>>12),R=v+(S^b^N)+P[5]+4294588738&4294967295,v=S+(R<<4&4294967295|R>>>28),R=N+(v^S^b)+P[8]+2272392833&4294967295,N=v+(R<<11&4294967295|R>>>21),R=b+(N^v^S)+P[11]+1839030562&4294967295,b=N+(R<<16&4294967295|R>>>16),R=S+(b^N^v)+P[14]+4259657740&4294967295,S=b+(R<<23&4294967295|R>>>9),R=v+(S^b^N)+P[1]+2763975236&4294967295,v=S+(R<<4&4294967295|R>>>28),R=N+(v^S^b)+P[4]+1272893353&4294967295,N=v+(R<<11&4294967295|R>>>21),R=b+(N^v^S)+P[7]+4139469664&4294967295,b=N+(R<<16&4294967295|R>>>16),R=S+(b^N^v)+P[10]+3200236656&4294967295,S=b+(R<<23&4294967295|R>>>9),R=v+(S^b^N)+P[13]+681279174&4294967295,v=S+(R<<4&4294967295|R>>>28),R=N+(v^S^b)+P[0]+3936430074&4294967295,N=v+(R<<11&4294967295|R>>>21),R=b+(N^v^S)+P[3]+3572445317&4294967295,b=N+(R<<16&4294967295|R>>>16),R=S+(b^N^v)+P[6]+76029189&4294967295,S=b+(R<<23&4294967295|R>>>9),R=v+(S^b^N)+P[9]+3654602809&4294967295,v=S+(R<<4&4294967295|R>>>28),R=N+(v^S^b)+P[12]+3873151461&4294967295,N=v+(R<<11&4294967295|R>>>21),R=b+(N^v^S)+P[15]+530742520&4294967295,b=N+(R<<16&4294967295|R>>>16),R=S+(b^N^v)+P[2]+3299628645&4294967295,S=b+(R<<23&4294967295|R>>>9),R=v+(b^(S|~N))+P[0]+4096336452&4294967295,v=S+(R<<6&4294967295|R>>>26),R=N+(S^(v|~b))+P[7]+1126891415&4294967295,N=v+(R<<10&4294967295|R>>>22),R=b+(v^(N|~S))+P[14]+2878612391&4294967295,b=N+(R<<15&4294967295|R>>>17),R=S+(N^(b|~v))+P[5]+4237533241&4294967295,S=b+(R<<21&4294967295|R>>>11),R=v+(b^(S|~N))+P[12]+1700485571&4294967295,v=S+(R<<6&4294967295|R>>>26),R=N+(S^(v|~b))+P[3]+2399980690&4294967295,N=v+(R<<10&4294967295|R>>>22),R=b+(v^(N|~S))+P[10]+4293915773&4294967295,b=N+(R<<15&4294967295|R>>>17),R=S+(N^(b|~v))+P[1]+2240044497&4294967295,S=b+(R<<21&4294967295|R>>>11),R=v+(b^(S|~N))+P[8]+1873313359&4294967295,v=S+(R<<6&4294967295|R>>>26),R=N+(S^(v|~b))+P[15]+4264355552&4294967295,N=v+(R<<10&4294967295|R>>>22),R=b+(v^(N|~S))+P[6]+2734768916&4294967295,b=N+(R<<15&4294967295|R>>>17),R=S+(N^(b|~v))+P[13]+1309151649&4294967295,S=b+(R<<21&4294967295|R>>>11),R=v+(b^(S|~N))+P[4]+4149444226&4294967295,v=S+(R<<6&4294967295|R>>>26),R=N+(S^(v|~b))+P[11]+3174756917&4294967295,N=v+(R<<10&4294967295|R>>>22),R=b+(v^(N|~S))+P[2]+718787259&4294967295,b=N+(R<<15&4294967295|R>>>17),R=S+(N^(b|~v))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+b&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.v=function(x,v){v===void 0&&(v=x.length);const S=v-this.blockSize,P=this.C;let b=this.h,N=0;for(;N<v;){if(b==0)for(;N<=S;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<v;)if(P[b++]=x.charCodeAt(N++),b==this.blockSize){i(this,P),b=0;break}}else for(;N<v;)if(P[b++]=x[N++],b==this.blockSize){i(this,P),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;v=this.o*8;for(var S=x.length-8;S<x.length;++S)x[S]=v&255,v/=256;for(this.v(x),x=Array(16),v=0,S=0;S<4;++S)for(let P=0;P<32;P+=8)x[v++]=this.g[S]>>>P&255;return x};function s(x,v){var S=a;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=v(x)}function o(x,v){this.h=v;const S=[];let P=!0;for(let b=x.length-1;b>=0;b--){const N=x[b]|0;P&&N==v||(S[b]=N,P=!1)}this.g=S}var a={};function u(x){return-128<=x&&x<128?s(x,function(v){return new o([v|0],v<0?-1:0)}):new o([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(x<0)return k(c(-x));const v=[];let S=1;for(let P=0;x>=S;P++)v[P]=x/S|0,S*=4294967296;return new o(v,0)}function h(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return k(h(x.substring(1),v));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(v,8));let P=f;for(let N=0;N<x.length;N+=8){var b=Math.min(8,x.length-N);const R=parseInt(x.substring(N,N+b),v);b<8?(b=c(Math.pow(v,b)),P=P.j(b).add(c(R))):(P=P.j(S),P=P.add(c(R)))}return P}var f=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();let x=0,v=1;for(let S=0;S<this.g.length;S++){const P=this.i(S);x+=(P>=0?P:4294967296+P)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(I(this))return"-"+k(this).toString(x);const v=c(Math.pow(x,6));var S=this;let P="";for(;;){const b=V(S,v).g;S=E(S,b.j(v));let N=((S.g.length>0?S.g[0]:S.h)>>>0).toString(x);if(S=b,C(S))return N+P;for(;N.length<6;)N="0"+N;P=N+P}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(let v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=E(this,x),I(x)?-1:C(x)?0:1};function k(x){const v=x.g.length,S=[];for(let P=0;P<v;P++)S[P]=~x.g[P];return new o(S,~x.h).add(p)}t.abs=function(){return I(this)?k(this):this},t.add=function(x){const v=Math.max(this.g.length,x.g.length),S=[];let P=0;for(let b=0;b<=v;b++){let N=P+(this.i(b)&65535)+(x.i(b)&65535),R=(N>>>16)+(this.i(b)>>>16)+(x.i(b)>>>16);P=R>>>16,N&=65535,R&=65535,S[b]=R<<16|N}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(x,v){return x.add(k(v))}t.j=function(x){if(C(this)||C(x))return f;if(I(this))return I(x)?k(this).j(k(x)):k(k(this).j(x));if(I(x))return k(this.j(k(x)));if(this.l(y)<0&&x.l(y)<0)return c(this.m()*x.m());const v=this.g.length+x.g.length,S=[];for(var P=0;P<2*v;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(let b=0;b<x.g.length;b++){const N=this.i(P)>>>16,R=this.i(P)&65535,Se=x.i(b)>>>16,nt=x.i(b)&65535;S[2*P+2*b]+=R*nt,_(S,2*P+2*b),S[2*P+2*b+1]+=N*nt,_(S,2*P+2*b+1),S[2*P+2*b+1]+=R*Se,_(S,2*P+2*b+1),S[2*P+2*b+2]+=N*Se,_(S,2*P+2*b+2)}for(x=0;x<v;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=v;x<2*v;x++)S[x]=0;return new o(S,0)};function _(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function w(x,v){this.g=x,this.h=v}function V(x,v){if(C(v))throw Error("division by zero");if(C(x))return new w(f,f);if(I(x))return v=V(k(x),v),new w(k(v.g),k(v.h));if(I(v))return v=V(x,k(v)),new w(k(v.g),v.h);if(x.g.length>30){if(I(x)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var S=p,P=v;P.l(x)<=0;)S=D(S),P=D(P);var b=O(S,1),N=O(P,1);for(P=O(P,2),S=O(S,2);!C(P);){var R=N.add(P);R.l(x)<=0&&(b=b.add(S),N=R),P=O(P,1),S=O(S,1)}return v=E(x,b.j(v)),new w(b,v)}for(b=f;x.l(v)>=0;){for(S=Math.max(1,Math.floor(x.m()/v.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),N=c(S),R=N.j(v);I(R)||R.l(x)>0;)S-=P,N=c(S),R=N.j(v);C(N)&&(N=p),b=b.add(N),x=E(x,R)}return new w(b,x)}t.B=function(x){return V(this,x).h},t.and=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let P=0;P<v;P++)S[P]=this.i(P)&x.i(P);return new o(S,this.h&x.h)},t.or=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let P=0;P<v;P++)S[P]=this.i(P)|x.i(P);return new o(S,this.h|x.h)},t.xor=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let P=0;P<v;P++)S[P]=this.i(P)^x.i(P);return new o(S,this.h^x.h)};function D(x){const v=x.g.length+1,S=[];for(let P=0;P<v;P++)S[P]=x.i(P)<<1|x.i(P-1)>>>31;return new o(S,x.h)}function O(x,v){const S=v>>5;v%=32;const P=x.g.length-S,b=[];for(let N=0;N<P;N++)b[N]=v>0?x.i(N+S)>>>v|x.i(N+S+1)<<32-v:x.i(N+S);return new o(b,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Rx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Gr=o}).apply(typeof Q0<"u"?Q0:typeof self<"u"?self:typeof window<"u"?window:{});var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kx,Oo,bx,cu,Nf,Vx,Nx,Dx;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fl=="object"&&Fl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var M=l[T];if(!(M in m))break e;m=m[M]}l=l[l.length-1],T=m[l],d=d(T),d!=T&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var m=[],T;for(T in d)Object.prototype.hasOwnProperty.call(d,T)&&m.push([T,d[T]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,m){return l.call.apply(l.bind,arguments)}function c(l,d,m){return c=u,c.apply(null,arguments)}function h(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function f(l,d){function m(){}m.prototype=d.prototype,l.Z=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(T,M,L){for(var H=Array(arguments.length-2),re=2;re<arguments.length;re++)H[re-2]=arguments[re];return d.prototype[M].apply(T,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const m=Array(d);for(let T=0;T<d;T++)m[T]=l[T];return m}return[]}function C(l,d){for(let T=1;T<arguments.length;T++){const M=arguments[T];var m=typeof M;if(m=m!="object"?m:M?Array.isArray(M)?"array":m:"null",m=="array"||m=="object"&&typeof M.length=="number"){m=l.length||0;const L=M.length||0;l.length=m+L;for(let H=0;H<L;H++)l[m+H]=M[H]}else l.push(M)}}class I{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function k(l){o.setTimeout(()=>{throw l},0)}function E(){var l=x;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class _{constructor(){this.h=this.g=null}add(d,m){const T=w.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var w=new I(()=>new V,l=>l.reset());class V{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,x=new _,v=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(S)}};function S(){for(var l;l=E();){try{l.h.call(l.g)}catch(m){k(m)}var d=w;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}O=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,d),o.removeEventListener("test",m,d)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function Se(l,d){b.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}f(Se,b),Se.prototype.init=function(l,d){const m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),Wt=0;function ge(l,d,m,T,M){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=M,this.key=++Wt,this.da=this.fa=!1}function z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function G(l,d,m){for(const T in l)d.call(m,l[T],T,l)}function Y(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function pe(l){const d={};for(const m in l)d[m]=l[m];return d}const Ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(l,d){let m,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(m in T)l[m]=T[m];for(let L=0;L<Ae.length;L++)m=Ae[L],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function yt(l){this.src=l,this.g={},this.h=0}yt.prototype.add=function(l,d,m,T,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const H=It(l,d,T,M);return H>-1?(d=l[H],m||(d.fa=!1)):(d=new ge(d,this.src,L,!!T,M),d.fa=m,l.push(d)),d};function Ct(l,d){const m=d.type;if(m in l.g){var T=l.g[m],M=Array.prototype.indexOf.call(T,d,void 0),L;(L=M>=0)&&Array.prototype.splice.call(T,M,1),L&&(z(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function It(l,d,m,T){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==d&&L.capture==!!m&&L.ha==T)return M}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ye={};function tr(l,d,m,T,M){if(Array.isArray(d)){for(let L=0;L<d.length;L++)tr(l,d[L],m,T,M);return null}return m=it(m),l&&l[nt]?l.J(d,m,a(T)?!!T.capture:!1,M):pi(l,d,m,!1,T,M)}function pi(l,d,m,T,M,L){if(!d)throw Error("Invalid event type");const H=a(M)?!!M.capture:!!M;let re=ae(l);if(re||(l[Pt]=re=new yt(l)),m=re.add(d,m,T,H,L),m.proxy)return m;if(T=F(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)N||(M=H),M===void 0&&(M=!1),l.addEventListener(d.toString(),T,M);else if(l.attachEvent)l.attachEvent(ce(d.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function F(){function l(m){return d.call(l.src,l.listener,m)}const d=rt;return l}function J(l,d,m,T,M){if(Array.isArray(d))for(var L=0;L<d.length;L++)J(l,d[L],m,T,M);else T=a(T)?!!T.capture:!!T,m=it(m),l&&l[nt]?(l=l.i,L=String(d).toString(),L in l.g&&(d=l.g[L],m=It(d,m,T,M),m>-1&&(z(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete l.g[L],l.h--)))):l&&(l=ae(l))&&(d=l.g[d.toString()],l=-1,d&&(l=It(d,m,T,M)),(m=l>-1?d[l]:null)&&_e(m))}function _e(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[nt])Ct(d.i,l);else{var m=l.type,T=l.proxy;d.removeEventListener?d.removeEventListener(m,T,l.capture):d.detachEvent?d.detachEvent(ce(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=ae(d))?(Ct(m,l),m.h==0&&(m.src=null,d[Pt]=null)):z(l)}}}function ce(l){return l in Ye?Ye[l]:Ye[l]="on"+l}function rt(l,d){if(l.da)l=!0;else{d=new Se(d,this);const m=l.listener,T=l.ha||l.src;l.fa&&_e(l),l=m.call(T,d)}return l}function ae(l){return l=l[Pt],l instanceof yt?l:null}var Kt="__closure_events_fn_"+(Math.random()*1e9>>>0);function it(l){return typeof l=="function"?l:(l[Kt]||(l[Kt]=function(d){return l.handleEvent(d)}),l[Kt])}function he(){P.call(this),this.i=new yt(this),this.M=this,this.G=null}f(he,P),he.prototype[nt]=!0,he.prototype.removeEventListener=function(l,d,m,T){J(this,l,d,m,T)};function Ee(l,d){var m,T=l.G;if(T)for(m=[];T;T=T.G)m.push(T);if(l=l.M,T=d.type||d,typeof d=="string")d=new b(d,l);else if(d instanceof b)d.target=d.target||l;else{var M=d;d=new b(T,l),qt(d,M)}M=!0;let L,H;if(m)for(H=m.length-1;H>=0;H--)L=d.g=m[H],M=ut(L,T,!0,d)&&M;if(L=d.g=l,M=ut(L,T,!0,d)&&M,M=ut(L,T,!1,d)&&M,m)for(H=0;H<m.length;H++)L=d.g=m[H],M=ut(L,T,!1,d)&&M}he.prototype.N=function(){if(he.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const m=l.g[d];for(let T=0;T<m.length;T++)z(m[T]);delete l.g[d],l.h--}}this.G=null},he.prototype.J=function(l,d,m,T){return this.i.add(String(l),d,!1,m,T)},he.prototype.K=function(l,d,m,T){return this.i.add(String(l),d,!0,m,T)};function ut(l,d,m,T){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let M=!0;for(let L=0;L<d.length;++L){const H=d[L];if(H&&!H.da&&H.capture==m){const re=H.listener,Xe=H.ha||H.src;H.fa&&Ct(l.i,H),M=re.call(Xe,T)!==!1&&M}}return M&&!T.defaultPrevented}function yn(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(l,d||0)}function rn(l){l.g=yn(()=>{l.g=null,l.i&&(l.i=!1,rn(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class nr extends P{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $(l){P.call(this),this.h=l,this.g={}}f($,P);var de=[];function ve(l){G(l.g,function(d,m){this.g.hasOwnProperty(m)&&_e(d)},l),l.g={}}$.prototype.N=function(){$.Z.N.call(this),ve(this)},$.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=o.JSON.stringify,Rt=o.JSON.parse,kn=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function rl(){}function Gt(){}var X={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bn(){b.call(this,"d")}f(bn,b);function Vn(){b.call(this,"c")}f(Vn,b);var kt={},il=null;function Er(){return il=il||new he}kt.Ia="serverreachability";function _g(l){b.call(this,kt.Ia,l)}f(_g,b);function oo(l){const d=Er();Ee(d,new _g(d))}kt.STAT_EVENT="statevent";function wg(l,d){b.call(this,kt.STAT_EVENT,l),this.stat=d}f(wg,b);function bt(l){const d=Er();Ee(d,new wg(d,l))}kt.Ja="timingevent";function Eg(l,d){b.call(this,kt.Ja,l),this.size=d}f(Eg,b);function ao(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},d)}function lo(){this.g=!0}lo.prototype.ua=function(){this.g=!1};function fA(l,d,m,T,M,L){l.info(function(){if(l.g)if(L){var H="",re=L.split("&");for(let we=0;we<re.length;we++){var Xe=re[we].split("=");if(Xe.length>1){const st=Xe[0];Xe=Xe[1];const Dn=st.split("_");H=Dn.length>=2&&Dn[1]=="type"?H+(st+"="+Xe+"&"):H+(st+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+d+`
`+m+`
`+H})}function pA(l,d,m,T,M,L,H){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+d+`
`+m+`
`+L+" "+H})}function Gi(l,d,m,T){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+gA(l,m)+(T?" "+T:"")})}function mA(l,d){l.info(function(){return"TIMEOUT: "+d})}lo.prototype.info=function(){};function gA(l,d){if(!l.g)return d;if(!d)return null;try{const L=JSON.parse(d);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var T=m[1];if(Array.isArray(T)&&!(T.length<1)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(let H=1;H<T.length;H++)T[H]=""}}}}return Ce(L)}catch{return d}}var sl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Tg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xg;function Qc(){}f(Qc,rl),Qc.prototype.g=function(){return new XMLHttpRequest},xg=new Qc;function uo(l){return encodeURIComponent(String(l))}function yA(l){var d=1;l=l.split(":");const m=[];for(;d>0&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function Tr(l,d,m,T){this.j=l,this.i=d,this.l=m,this.S=T||1,this.V=new $(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sg}function Sg(){this.i=null,this.g="",this.h=!1}var Ag={},Yc={};function Xc(l,d,m){l.M=1,l.A=al(Nn(d)),l.u=m,l.R=!0,Cg(l,null)}function Cg(l,d){l.F=Date.now(),ol(l),l.B=Nn(l.A);var m=l.B,T=l.S;Array.isArray(T)||(T=[String(T)]),Fg(m.i,"t",T),l.C=0,m=l.j.L,l.h=new Sg,l.g=ry(l.j,m?d:null,!l.u),l.P>0&&(l.O=new nr(c(l.Y,l,l.g),l.P)),d=l.V,m=l.g,T=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(de[0]=M.toString()),M=de);for(let L=0;L<M.length;L++){const H=tr(m,M[L],T||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=l.J?pe(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),oo(),fA(l.i,l.v,l.B,l.l,l.S,l.u)}Tr.prototype.ba=function(l){l=l.target;const d=this.O;d&&Ar(l)==3?d.j():this.Y(l)},Tr.prototype.Y=function(l){try{if(l==this.g)e:{const re=Ar(this.g),Xe=this.g.ya(),we=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||qg(this.g)))){this.K||re!=4||Xe==7||(Xe==8||we<=0?oo(3):oo(2)),Jc(this);var d=this.g.ca();this.X=d;var m=vA(this);if(this.o=d==200,pA(this.i,this.v,this.B,this.l,this.S,re,d),this.o){if(this.U&&!this.L){t:{if(this.g){var T,M=this.g;if((T=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var L=T;break t}}L=null}if(l=L)Gi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zc(this,l);else{this.o=!1,this.m=3,bt(12),mi(this),co(this);break e}}if(this.R){l=!0;let st;for(;!this.K&&this.C<m.length;)if(st=_A(this,m),st==Yc){re==4&&(this.m=4,bt(14),l=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(st==Ag){this.m=4,bt(15),Gi(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else Gi(this.i,this.l,st,null),Zc(this,st);if(Ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||m.length!=0||this.h.h||(this.m=1,bt(16),l=!1),this.o=this.o&&l,!l)Gi(this.i,this.l,m,"[Invalid Chunked Response]"),mi(this),co(this);else if(m.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),ah(H),H.P=!0,bt(11))}}else Gi(this.i,this.l,m,null),Zc(this,m);re==4&&mi(this),this.o&&!this.K&&(re==4?Zg(this.j,this):(this.o=!1,ol(this)))}else NA(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),mi(this),co(this)}}}catch{}finally{}};function vA(l){if(!Ig(l))return l.g.la();const d=qg(l.g);if(d==="")return"";let m="";const T=d.length,M=Ar(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return mi(l),co(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<T;L++)l.h.h=!0,m+=l.h.i.decode(d[L],{stream:!(M&&L==T-1)});return d.length=0,l.h.g+=m,l.C=0,l.h.g}function Ig(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function _A(l,d){var m=l.C,T=d.indexOf(`
`,m);return T==-1?Yc:(m=Number(d.substring(m,T)),isNaN(m)?Ag:(T+=1,T+m>d.length?Yc:(d=d.slice(T,T+m),l.C=T+m,d)))}Tr.prototype.cancel=function(){this.K=!0,mi(this)};function ol(l){l.T=Date.now()+l.H,Pg(l,l.H)}function Pg(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ao(c(l.aa,l),d)}function Jc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Tr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(mA(this.i,this.B),this.M!=2&&(oo(),bt(17)),mi(this),this.m=2,co(this)):Pg(this,this.T-l)};function co(l){l.j.I==0||l.K||Zg(l.j,l)}function mi(l){Jc(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,ve(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Zc(l,d){try{var m=l.j;if(m.I!=0&&(m.g==l||eh(m.h,l))){if(!l.L&&eh(m.h,l)&&m.I==3){try{var T=m.Ba.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)dl(m),cl(m);else break e;oh(m),bt(18)}}else m.xa=M[1],0<m.xa-m.K&&M[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=ao(c(m.Va,m),6e3));bg(m.h)<=1&&m.ta&&(m.ta=void 0)}else yi(m,11)}else if((l.L||m.g==l)&&dl(m),!R(d))for(M=m.Ba.g.parse(d),d=0;d<M.length;d++){let we=M[d];const st=we[0];if(!(st<=m.K))if(m.K=st,we=we[1],m.I==2)if(we[0]=="c"){m.M=we[1],m.ba=we[2];const Dn=we[3];Dn!=null&&(m.ka=Dn,m.j.info("VER="+m.ka));const vi=we[4];vi!=null&&(m.za=vi,m.j.info("SVER="+m.za));const Cr=we[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(T=1.5*Cr,m.O=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const Ir=l.g;if(Ir){const pl=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pl){var L=T.h;L.g||pl.indexOf("spdy")==-1&&pl.indexOf("quic")==-1&&pl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(th(L,L.h),L.h=null))}if(T.G){const lh=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;lh&&(T.wa=lh,Ie(T.J,T.G,lh))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),T=m;var H=l;if(T.na=ny(T,T.L?T.ba:null,T.W),H.L){Vg(T.h,H);var re=H,Xe=T.O;Xe&&(re.H=Xe),re.D&&(Jc(re),ol(re)),T.g=H}else Xg(T);m.i.length>0&&hl(m)}else we[0]!="stop"&&we[0]!="close"||yi(m,7);else m.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?yi(m,7):sh(m):we[0]!="noop"&&m.l&&m.l.qa(we),m.A=0)}}oo(4)}catch{}}var wA=class{constructor(l,d){this.g=l,this.map=d}};function Rg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function bg(l){return l.h?1:l.g?l.g.size:0}function eh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function th(l,d){l.g?l.g.add(d):l.h=d}function Vg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Rg.prototype.cancel=function(){if(this.i=Ng(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ng(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.G);return d}return y(l.i)}var Dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EA(l,d){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const T=l[m].indexOf("=");let M,L=null;T>=0?(M=l[m].substring(0,T),L=l[m].substring(T+1)):M=l[m],d(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof xr?(this.l=l.l,ho(this,l.j),this.o=l.o,this.g=l.g,fo(this,l.u),this.h=l.h,nh(this,Ug(l.i)),this.m=l.m):l&&(d=String(l).match(Dg))?(this.l=!1,ho(this,d[1]||"",!0),this.o=po(d[2]||""),this.g=po(d[3]||"",!0),fo(this,d[4]),this.h=po(d[5]||"",!0),nh(this,d[6]||"",!0),this.m=po(d[7]||"")):(this.l=!1,this.i=new go(null,this.l))}xr.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(mo(d,Mg,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(mo(d,Mg,!0),"@"),l.push(uo(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(mo(m,m.charAt(0)=="/"?SA:xA,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",mo(m,CA)),l.join("")},xr.prototype.resolve=function(l){const d=Nn(this);let m=!!l.j;m?ho(d,l.j):m=!!l.o,m?d.o=l.o:m=!!l.g,m?d.g=l.g:m=l.u!=null;var T=l.h;if(m)fo(d,l.u);else if(m=!!l.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var M=d.h.lastIndexOf("/");M!=-1&&(T=d.h.slice(0,M+1)+T)}if(M=T,M==".."||M==".")T="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){T=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let H=0;H<M.length;){const re=M[H++];re=="."?T&&H==M.length&&L.push(""):re==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),T&&H==M.length&&L.push("")):(L.push(re),T=!0)}T=L.join("/")}else T=M}return m?d.h=T:m=l.i.toString()!=="",m?nh(d,Ug(l.i)):m=!!l.m,m&&(d.m=l.m),d};function Nn(l){return new xr(l)}function ho(l,d,m){l.j=m?po(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function fo(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function nh(l,d,m){d instanceof go?(l.i=d,IA(l.i,l.l)):(m||(d=mo(d,AA)),l.i=new go(d,l.l))}function Ie(l,d,m){l.i.set(d,m)}function al(l){return Ie(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function po(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function mo(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,TA),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function TA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Mg=/[#\/\?@]/g,xA=/[#\?:]/g,SA=/[#\?]/g,AA=/[#\?@]/g,CA=/#/g;function go(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function gi(l){l.g||(l.g=new Map,l.h=0,l.i&&EA(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=go.prototype,t.add=function(l,d){gi(this),this.i=null,l=Qi(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Lg(l,d){gi(l),d=Qi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Og(l,d){return gi(l),d=Qi(l,d),l.g.has(d)}t.forEach=function(l,d){gi(this),this.g.forEach(function(m,T){m.forEach(function(M){l.call(d,M,T,this)},this)},this)};function jg(l,d){gi(l);let m=[];if(typeof d=="string")Og(l,d)&&(m=m.concat(l.g.get(Qi(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)m=m.concat(l[d]);return m}t.set=function(l,d){return gi(this),this.i=null,l=Qi(this,l),Og(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=jg(this,l),l.length>0?String(l[0]):d):d};function Fg(l,d,m){Lg(l,d),m.length>0&&(l.i=null,l.g.set(Qi(l,d),y(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let T=0;T<d.length;T++){var m=d[T];const M=uo(m);m=jg(this,m);for(let L=0;L<m.length;L++){let H=M;m[L]!==""&&(H+="="+uo(m[L])),l.push(H)}}return this.i=l.join("&")};function Ug(l){const d=new go;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function Qi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function IA(l,d){d&&!l.j&&(gi(l),l.i=null,l.g.forEach(function(m,T){const M=T.toLowerCase();T!=M&&(Lg(this,T),Fg(this,M,m))},l)),l.j=d}function PA(l,d){const m=new lo;if(o.Image){const T=new Image;T.onload=h(Sr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=h(Sr,m,"TestLoadImage: error",!1,d,T),T.onabort=h(Sr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=h(Sr,m,"TestLoadImage: timeout",!1,d,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else d(!1)}function RA(l,d){const m=new lo,T=new AbortController,M=setTimeout(()=>{T.abort(),Sr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:T.signal}).then(L=>{clearTimeout(M),L.ok?Sr(m,"TestPingServer: ok",!0,d):Sr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),Sr(m,"TestPingServer: error",!1,d)})}function Sr(l,d,m,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(m)}catch{}}function kA(){this.g=new kn}function rh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(rh,rl),rh.prototype.g=function(){return new ll(this.i,this.h)};function ll(l,d){he.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(ll,he),t=ll.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,vo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vo(this)),this.g&&(this.readyState=3,vo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Bg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Bg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?yo(this):vo(this),this.readyState==3&&Bg(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,yo(this))},t.Na=function(l){this.g&&(this.response=l,yo(this))},t.ga=function(){this.g&&yo(this)};function yo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,vo(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function vo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function $g(l){let d="";return G(l,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function ih(l,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=$g(m),typeof l=="string"?m!=null&&uo(m):Ie(l,d,m))}function Fe(l){he.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Fe,he);var bA=/^https?$/i,VA=["POST","PUT"];t=Fe.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){zg(this,L);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)m.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())m.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(VA,d,void 0)>=0)||T||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of m)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){zg(this,L)}};function zg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,Hg(l),ul(l)}function Hg(l){l.A||(l.A=!0,Ee(l,"complete"),Ee(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ee(this,"complete"),Ee(this,"abort"),ul(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),Fe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Wg(this):this.Xa())},t.Xa=function(){Wg(this)};function Wg(l){if(l.h&&typeof s<"u"){if(l.v&&Ar(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ee(l,"readystatechange"),Ar(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=L===0){let H=String(l.D).match(Dg)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),T=!bA.test(H?H.toLowerCase():"")}m=T}if(m)Ee(l,"complete"),Ee(l,"success");else{l.o=6;try{var M=Ar(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Hg(l)}}finally{ul(l)}}}}function ul(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,d||Ee(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ar(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Ar(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Rt(d)}};function qg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function NA(l){const d={};l=(l.g&&Ar(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(R(l[T]))continue;var m=yA(l[T]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=d[M]||[];d[M]=L,L.push(m)}Y(d,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Kg(l){this.za=0,this.i=[],this.j=new lo,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_o("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_o("baseRetryDelayMs",5e3,l),this.Za=_o("retryDelaySeedMs",1e4,l),this.Ta=_o("forwardChannelMaxRetries",2,l),this.va=_o("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Rg(l&&l.concurrentRequestLimit),this.Ba=new kA,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Kg.prototype,t.ka=8,t.I=1,t.connect=function(l,d,m,T){bt(0),this.W=l,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.J=ny(this,null,this.W),hl(this)};function sh(l){if(Gg(l),l.I==3){var d=l.V++,m=Nn(l.J);if(Ie(m,"SID",l.M),Ie(m,"RID",d),Ie(m,"TYPE","terminate"),wo(l,m),d=new Tr(l,l.j,d),d.M=2,d.A=al(Nn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=d.A,m=!0),m||(d.g=ry(d.j,null),d.g.ea(d.A)),d.F=Date.now(),ol(d)}ty(l)}function cl(l){l.g&&(ah(l),l.g.cancel(),l.g=null)}function Gg(l){cl(l),l.v&&(o.clearTimeout(l.v),l.v=null),dl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function hl(l){if(!kg(l.h)&&!l.m){l.m=!0;var d=l.Ea;D||v(),O||(D(),O=!0),x.add(d,l),l.D=0}}function DA(l,d){return bg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ao(c(l.Ea,l,d),ey(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new Tr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=pe(L),qt(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=Yg(this,M,d),m=Nn(this.J),Ie(m,"RID",l),Ie(m,"CVER",22),this.G&&Ie(m,"X-HTTP-Session-Id",this.G),wo(this,m),L&&(this.R?d="headers="+uo($g(L))+"&"+d:this.u&&ih(m,this.u,L)),th(this.h,M),this.Ra&&Ie(m,"TYPE","init"),this.S?(Ie(m,"$req",d),Ie(m,"SID","null"),M.U=!0,Xc(M,m,null)):Xc(M,m,d),this.I=2}}else this.I==3&&(l?Qg(this,l):this.i.length==0||kg(this.h)||Qg(this))};function Qg(l,d){var m;d?m=d.l:m=l.V++;const T=Nn(l.J);Ie(T,"SID",l.M),Ie(T,"RID",m),Ie(T,"AID",l.K),wo(l,T),l.u&&l.o&&ih(T,l.u,l.o),m=new Tr(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),d&&(l.i=d.G.concat(l.i)),d=Yg(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),th(l.h,m),Xc(m,T,d)}function wo(l,d){l.H&&G(l.H,function(m,T){Ie(d,T,m)}),l.l&&G({},function(m,T){Ie(d,T,m)})}function Yg(l,d,m){m=Math.min(l.i.length,m);const T=l.l?c(l.l.Ka,l.l,l):null;e:{var M=l.i;let re=-1;for(;;){const Xe=["count="+m];re==-1?m>0?(re=M[0].g,Xe.push("ofs="+re)):re=0:Xe.push("ofs="+re);let we=!0;for(let st=0;st<m;st++){var L=M[st].g;const Dn=M[st].map;if(L-=re,L<0)re=Math.max(0,M[st].g-100),we=!1;else try{L="req"+L+"_"||"";try{var H=Dn instanceof Map?Dn:Object.entries(Dn);for(const[vi,Cr]of H){let Ir=Cr;a(Cr)&&(Ir=Ce(Cr)),Xe.push(L+vi+"="+encodeURIComponent(Ir))}}catch(vi){throw Xe.push(L+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Dn)}}if(we){H=Xe.join("&");break e}}H=void 0}return l=l.i.splice(0,m),d.G=l,H}function Xg(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;D||v(),O||(D(),O=!0),x.add(d,l),l.A=0}}function oh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ao(c(l.Da,l),ey(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Jg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ao(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),cl(this),Jg(this))};function ah(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Jg(l){l.g=new Tr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=Nn(l.na);Ie(d,"RID","rpc"),Ie(d,"SID",l.M),Ie(d,"AID",l.K),Ie(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ie(d,"TO",l.ia),Ie(d,"TYPE","xmlhttp"),wo(l,d),l.u&&l.o&&ih(d,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=al(Nn(d)),m.u=null,m.R=!0,Cg(m,l)}t.Va=function(){this.C!=null&&(this.C=null,cl(this),oh(this),bt(19))};function dl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Zg(l,d){var m=null;if(l.g==d){dl(l),ah(l),l.g=null;var T=2}else if(eh(l.h,d))m=d.G,Vg(l.h,d),T=1;else return;if(l.I!=0){if(d.o)if(T==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var M=l.D;T=Er(),Ee(T,new Eg(T,m)),hl(l)}else Xg(l);else if(M=d.m,M==3||M==0&&d.X>0||!(T==1&&DA(l,d)||T==2&&oh(l)))switch(m&&m.length>0&&(d=l.h,d.i=d.i.concat(m)),M){case 1:yi(l,5);break;case 4:yi(l,10);break;case 3:yi(l,6);break;default:yi(l,2)}}}function ey(l,d){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*d}function yi(l,d){if(l.j.info("Error code "+d),d==2){var m=c(l.bb,l),T=l.Ua;const M=!T;T=new xr(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ho(T,"https"),al(T),M?PA(T.toString(),m):RA(T.toString(),m)}else bt(2);l.I=0,l.l&&l.l.pa(d),ty(l),Gg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function ty(l){if(l.I=0,l.ja=[],l.l){const d=Ng(l.h);(d.length!=0||l.i.length!=0)&&(C(l.ja,d),C(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function ny(l,d,m){var T=m instanceof xr?Nn(m):new xr(m);if(T.g!="")d&&(T.g=d+"."+T.g),fo(T,T.u);else{var M=o.location;T=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;const L=new xr(null);T&&ho(L,T),d&&(L.g=d),M&&fo(L,M),m&&(L.h=m),T=L}return m=l.G,d=l.wa,m&&d&&Ie(T,m,d),Ie(T,"VER",l.ka),wo(l,T),T}function ry(l,d,m){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new Fe(new rh({ab:m})):new Fe(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iy(){}t=iy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fl(){}fl.prototype.g=function(l,d){return new Qt(l,d)};function Qt(l,d){he.call(this),this.g=new Kg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!R(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!R(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Yi(this)}f(Qt,he),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){sh(this.g)},Qt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Ce(l),l=m);d.i.push(new wA(d.Ya++,l)),d.I==3&&hl(d)},Qt.prototype.N=function(){this.g.l=null,delete this.j,sh(this.g),delete this.g,Qt.Z.N.call(this)};function sy(l){bn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}f(sy,bn);function oy(){Vn.call(this),this.status=1}f(oy,Vn);function Yi(l){this.g=l}f(Yi,iy),Yi.prototype.ra=function(){Ee(this.g,"a")},Yi.prototype.qa=function(l){Ee(this.g,new sy(l))},Yi.prototype.pa=function(l){Ee(this.g,new oy)},Yi.prototype.oa=function(){Ee(this.g,"b")},fl.prototype.createWebChannel=fl.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,Dx=function(){return new fl},Nx=function(){return Er()},Vx=kt,Nf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,cu=sl,Tg.COMPLETE="complete",bx=Tg,Gt.EventType=X,X.OPEN="a",X.CLOSE="b",X.ERROR="c",X.MESSAGE="d",he.prototype.listen=he.prototype.J,Oo=Gt,Fe.prototype.listenOnce=Fe.prototype.K,Fe.prototype.getLastError=Fe.prototype.Ha,Fe.prototype.getLastErrorCode=Fe.prototype.ya,Fe.prototype.getStatus=Fe.prototype.ca,Fe.prototype.getResponseJson=Fe.prototype.La,Fe.prototype.getResponseText=Fe.prototype.la,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Fa,kx=Fe}).apply(typeof Fl<"u"?Fl:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",X0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new _x("@firebase/firestore");function Zi(){return Ui.logLevel}function q(t,...e){if(Ui.logLevel<=ue.DEBUG){const n=e.map(Mm);Ui.debug(`Firestore (${to}): ${t}`,...n)}}function vr(t,...e){if(Ui.logLevel<=ue.ERROR){const n=e.map(Mm);Ui.error(`Firestore (${to}): ${t}`,...n)}}function Us(t,...e){if(Ui.logLevel<=ue.WARN){const n=e.map(Mm);Ui.warn(`Firestore (${to}): ${t}`,...n)}}function Mm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Mx(t,r,n)}function Mx(t,e,n){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vr(r),new Error(r)}function me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Mx(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class PM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RM{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string",31837,{l:r}),new Lx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class kM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new kM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class J0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new J0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new J0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Df(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return nd(i)===nd(s)?se(i,s):nd(i)?1:-1}return se(t.length,e.length)}const DM=55296,MM=57343;function nd(t){const e=t.charCodeAt(0);return e>=DM&&e<=MM}function Bs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class On{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return On.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof On?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=On.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const r=On.isNumericId(e),i=On.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?On.extractNumericId(e).compare(On.extractNumericId(n)):Df(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Te extends On{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const LM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends On{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return LM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new ft([Z0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Te.fromString(e))}static fromName(e){return new Q(Te.fromString(e).popFirst(5))}static empty(){return new Q(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,n){if(!n)throw new W(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OM(t,e,n,r){if(e===!0&&r===!0)throw new W(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e_(t){if(!Q.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t_(t){if(Q.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Nc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nc(t);throw new W(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ya(t,e){if(!jx(t))throw new W(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new W(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*r_);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n_)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ya(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Qe("string",Re._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Re(0,0))}static max(){return new te(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=-1;function jM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new ti(i,Q.empty(),e)}function FM(t){return new ti(t.readTime,t.key,ba)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(te.min(),Q.empty(),ba)}static max(){return new ti(te.max(),Q.empty(),ba)}}function UM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==BM)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function zM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function Mc(t){return t==null}function Qu(t){return t===0&&1/t==-1/0}function HM(t){return typeof t=="number"&&Number.isInteger(t)&&!Qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="";function WM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i_(e)),e=qM(t.get(n),e);return i_(e)}function qM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Fx:n+="";break;default:n+=s}}return n}function i_(t){return t+Fx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ux(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ul(this.root,e,this.comparator,!0)}}class Ul{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new tt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Bx("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const KM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=KM.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ri(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="server_timestamp",zx="__type__",Hx="__previous_value__",Wx="__local_write_time__";function jm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zx])==null?void 0:r.stringValue)===$x}function Lc(t){const e=t.mapValue.fields[Hx];return jm(e)?Lc(e):e}function Va(t){const e=ni(t.mapValue.fields[Wx].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Yu="(default)";class Na{constructor(e,n){this.projectId=e,this.database=n||Yu}static empty(){return new Na("","")}get isDefaultDatabase(){return this.database===Yu}isEqual(e){return e instanceof Na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="__type__",QM="__max__",Bl={mapValue:{}},Kx="__vector__",Xu="value";function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jm(t)?4:XM(t)?9007199254740991:YM(t)?10:11:Z(28295,{value:t})}function Qn(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Va(t).isEqual(Va(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ni(i.timestampValue),a=ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ri(i.bytesValue).isEqual(ri(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ze(i.geoPointValue.latitude)===ze(s.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ze(i.integerValue)===ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ze(i.doubleValue),a=ze(s.doubleValue);return o===a?Qu(o)===Qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bs(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(s_(o)!==s_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Qn(o[u],a[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function Da(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ze(s.integerValue||s.doubleValue),u=ze(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(Va(t),Va(e));case 5:return Df(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ri(s),u=ri(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=se(a[c],u[c]);if(h!==0)return h}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=se(ze(s.latitude),ze(o.latitude));return a!==0?a:se(ze(s.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,y,C,I;const a=s.fields||{},u=o.fields||{},c=(p=a[Xu])==null?void 0:p.arrayValue,h=(y=u[Xu])==null?void 0:y.arrayValue,f=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:l_(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Bl.mapValue&&o===Bl.mapValue)return 0;if(s===Bl.mapValue)return 1;if(o===Bl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Df(u[f],h[f]);if(p!==0)return p;const y=$s(a[u[f]],c[h[f]]);if(y!==0)return y}return se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=ni(t),r=ni(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function l_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$s(n[i],r[i]);if(s)return s}return se(n.length,r.length)}function zs(t){return Mf(t)}function Mf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Mf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Mf(n.fields[o])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function hu(t){switch(ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(t);return e?16+hu(e):16;case 5:return 2*t.stringValue.length;case 6:return ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+hu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return hi(r.fields,(s,o)=>{i+=s.length+hu(o)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function u_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lf(t){return!!t&&"integerValue"in t}function Fm(t){return!!t&&"arrayValue"in t}function c_(t){return!!t&&"nullValue"in t}function h_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function du(t){return!!t&&"mapValue"in t}function YM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qx])==null?void 0:r.stringValue)===Kx}function ta(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ta(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ta(t.arrayValue.values[n]);return e}return{...t}}function XM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===QM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ta(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];du(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(ta(this.value))}}function Gx(t){const e=[];return hi(t.fields,(n,r)=>{const i=new ft([n]);if(du(r)){const s=Gx(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,te.min(),te.min(),te.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,te.min(),te.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,te.min(),te.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.position=e,this.inclusive=n}}function d_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=$s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n="asc"){this.field=e,this.dir=n}}function JM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class Ge extends Qx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eL(e,n,r):n==="array-contains"?new rL(e,r):n==="in"?new iL(e,r):n==="not-in"?new sL(e,r):n==="array-contains-any"?new oL(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tL(e,r):new nL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($s(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends Qx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pn(e,n)}matches(e){return Yx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Yx(t){return t.op==="and"}function Xx(t){return ZM(t)&&Yx(t)}function ZM(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function Of(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(Xx(t))return t.filters.map(e=>Of(e)).join(",");{const e=t.filters.map(n=>Of(n)).join(",");return`${t.op}(${e})`}}function Jx(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Qn(r.value,i.value)}(t,e):t instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Jx(o,i.filters[a]),!0):!1}(t,e):void Z(19439)}function Zx(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(Zx).join(" ,")+"}"}(t):"Filter"}class eL extends Ge{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class tL extends Ge{constructor(e,n){super(e,"in",n),this.keys=eS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nL extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=eS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class rL extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&Da(n.arrayValue,this.value)}}class iL extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Da(this.value.arrayValue,n)}}class sL extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(Da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Da(this.value.arrayValue,n)}}class oL extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Da(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function p_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aL(t,e,n,r,i,s,o)}function Um(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Of(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Te=n}return e.Te}function Bm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!JM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Jx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function jf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lL(t,e,n,r,i,s,o,a){return new io(t,e,n,r,i,s,o,a)}function tS(t){return new io(t)}function m_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nS(t){return t.collectionGroup!==null}function na(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ma(s,r))}),n.has(ft.keyField().canonicalString())||e.Ie.push(new Ma(ft.keyField(),r))}return e.Ie}function Hn(t){const e=ne(t);return e.Ee||(e.Ee=uL(e,na(t))),e.Ee}function uL(t,e){if(t.limitType==="F")return p_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ma(i.field,s)});const n=t.endAt?new Ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ju(t.startAt.position,t.startAt.inclusive):null;return p_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ff(t,e){const n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zu(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oc(t,e){return Bm(Hn(t),Hn(e))&&t.limitType===e.limitType}function rS(t){return`${Um(Hn(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Zx(i)).join(", ")}]`),Mc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function jc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of na(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=d_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,na(r),i)||r.endAt&&!function(o,a,u){const c=d_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,na(r),i))}(t,e)}function cL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iS(t){return(e,n)=>{let r=!1;for(const i of na(t)){const s=hL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function hL(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?$s(u,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new je(Q.comparator);function _r(){return dL}const sS=new je(Q.comparator);function jo(...t){let e=sS;for(const n of t)e=e.insert(n.key,n);return e}function oS(t){let e=sS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ri(){return ra()}function aS(){return ra()}function ra(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const fL=new je(Q.comparator),pL=new tt(Q.comparator);function oe(...t){let e=pL;for(const n of t)e=e.add(n);return e}const mL=new tt(se);function gL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qu(e)?"-0":e}}function lS(t){return{integerValue:""+t}}function yL(t,e){return HM(e)?lS(e):$m(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function vL(t,e,n){return t instanceof La?function(i,s){const o={fields:{[zx]:{stringValue:$x},[Wx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jm(s)&&(s=Lc(s)),s&&(o.fields[Hx]=s),{mapValue:o}}(n,e):t instanceof Oa?cS(t,e):t instanceof ja?hS(t,e):function(i,s){const o=uS(i,s),a=g_(o)+g_(i.Ae);return Lf(o)&&Lf(i.Ae)?lS(a):$m(i.serializer,a)}(t,e)}function _L(t,e,n){return t instanceof Oa?cS(t,e):t instanceof ja?hS(t,e):n}function uS(t,e){return t instanceof ec?function(r){return Lf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class La extends Fc{}class Oa extends Fc{constructor(e){super(),this.elements=e}}function cS(t,e){const n=dS(e);for(const r of t.elements)n.some(i=>Qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ja extends Fc{constructor(e){super(),this.elements=e}}function hS(t,e){let n=dS(e);for(const r of t.elements)n=n.filter(i=>!Qn(i,r));return{arrayValue:{values:n}}}class ec extends Fc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function g_(t){return ze(t.integerValue||t.doubleValue)}function dS(t){return Fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.field=e,this.transform=n}}function EL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oa&&i instanceof Oa||r instanceof ja&&i instanceof ja?Bs(r.elements,i.elements,Qn):r instanceof ec&&i instanceof ec?Qn(r.Ae,i.Ae):r instanceof La&&i instanceof La}(t.transform,e.transform)}class TL{constructor(e,n){this.version=e,this.transformResults=n}}class Cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uc{}function fS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,Cn.none()):new Xa(t.key,t.data,Cn.none());{const n=t.data,r=Ft.empty();let i=new tt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new di(t.key,r,new Jt(i.toArray()),Cn.none())}}function xL(t,e,n){t instanceof Xa?function(i,s,o){const a=i.value.clone(),u=v_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof di?function(i,s,o){if(!fu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=v_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(pS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ia(t,e,n,r){return t instanceof Xa?function(s,o,a,u){if(!fu(s.precondition,o))return a;const c=s.value.clone(),h=__(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof di?function(s,o,a,u){if(!fu(s.precondition,o))return a;const c=__(s.fieldTransforms,u,o),h=o.data;return h.setAll(pS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return fu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function SL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uS(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(s,o)=>EL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xa extends Uc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Uc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_L(o,a,n[i]))}return r}function __(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vL(s,o,e))}return r}class zm extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AL extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=aS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=fS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,r)=>y_(n,r))&&Bs(this.baseMutations,e.baseMutations,(n,r)=>y_(n,r))}}class Hm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return fL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,le;function RL(t){switch(t){case j.OK:return Z(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function mS(t){if(t===void 0)return vr("GRPC error has no .code"),j.UNKNOWN;switch(t){case We.OK:return j.OK;case We.CANCELLED:return j.CANCELLED;case We.UNKNOWN:return j.UNKNOWN;case We.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case We.INTERNAL:return j.INTERNAL;case We.UNAVAILABLE:return j.UNAVAILABLE;case We.UNAUTHENTICATED:return j.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case We.NOT_FOUND:return j.NOT_FOUND;case We.ALREADY_EXISTS:return j.ALREADY_EXISTS;case We.PERMISSION_DENIED:return j.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case We.ABORTED:return j.ABORTED;case We.OUT_OF_RANGE:return j.OUT_OF_RANGE;case We.UNIMPLEMENTED:return j.UNIMPLEMENTED;case We.DATA_LOSS:return j.DATA_LOSS;default:return Z(39323,{code:t})}}(le=We||(We={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Gr([4294967295,4294967295],0);function w_(t){const e=kL().encode(t),n=new Rx;return n.update(e),new Uint8Array(n.digest())}function E_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gr([n,r],0),new Gr([i,s],0)]}class Wm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fo(`Invalid padding: ${n}`);if(r<0)throw new Fo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Gr.fromNumber(r)));return i.compare(bL)===1&&(i=new Gr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=w_(e),[r,i]=E_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=w_(e),[r,i]=E_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bc(te.min(),i,new je(se),_r(),oe())}}class Ja{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ja(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gS{constructor(e,n){this.targetId=e,this.Ce=n}}class yS{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T_{constructor(){this.ve=0,this.Fe=x_(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),r=oe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new Ja(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=x_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VL{constructor(e){this.Ge=e,this.ze=new Map,this.je=_r(),this.Je=$l(),this.He=$l(),this.Ye=new je(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(jf(s))if(r===0){const o=new Q(s.path);this.et(n,o,xt.newNoDocument(o,te.min()))}else me(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ri(r).toUint8Array()}catch(u){if(u instanceof Bx)return Us("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Wm(o,i,s)}catch(u){return Us(u instanceof Fo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&jf(a.target)){const u=new Q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,xt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=oe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Bc(e,n,this.Ye,this.je,r);return this.je=_r(),this.Je=$l(),this.He=$l(),this.Ye=new je(se),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new T_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new tt(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new tt(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new T_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $l(){return new je(Q.comparator)}function x_(){return new je(Q.comparator)}const NL={asc:"ASCENDING",desc:"DESCENDING"},DL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ML={and:"AND",or:"OR"};class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uf(t,e){return t.useProto3Json||Mc(e)?e:{value:e}}function tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OL(t,e){return tc(t,e.toTimestamp())}function Wn(t){return me(!!t,49232),te.fromTimestamp(function(n){const r=ni(n);return new Re(r.seconds,r.nanos)}(t))}function qm(t,e){return Bf(t,e).canonicalString()}function Bf(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _S(t){const e=Te.fromString(t);return me(SS(e),10190,{key:e.toString()}),e}function $f(t,e){return qm(t.databaseId,e.path)}function rd(t,e){const n=_S(e);if(n.get(1)!==t.databaseId.projectId)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(ES(n))}function wS(t,e){return qm(t.databaseId,e)}function jL(t){const e=_S(t);return e.length===4?Te.emptyPath():ES(e)}function zf(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ES(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function S_(t,e,n){return{name:$f(t,e),fields:n.value.mapValue.fields}}function FL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(me(h===void 0||typeof h=="string",58123),gt.fromBase64String(h||"")):(me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),gt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?j.UNKNOWN:mS(c.code);return new W(h,c.message||"")}(o);n=new yS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rd(t,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):te.min(),a=new Ft({mapValue:{fields:r.document.fields}}),u=xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new pu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rd(t,r.document),s=r.readTime?Wn(r.readTime):te.min(),o=xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rd(t,r.document),s=r.removedTargetIds||[];n=new pu([],s,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new PL(i,s),a=r.targetId;n=new gS(a,o)}}return n}function UL(t,e){let n;if(e instanceof Xa)n={update:S_(t,e.key,e.value)};else if(e instanceof zm)n={delete:$f(t,e.key)};else if(e instanceof di)n={update:S_(t,e.key,e.data),updateMask:QL(e.fieldMask)};else{if(!(e instanceof AL))return Z(16599,{Vt:e.type});n={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof La)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ec)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Z(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:OL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(t,e.precondition)),n}function BL(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Wn(i.updateTime):Wn(s);return o.isEqual(te.min())&&(o=Wn(s)),new TL(o,i.transformResults||[])}(n,e))):[]}function $L(t,e){return{documents:[wS(t,e.path)]}}function zL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wS(t,i);const s=function(c){if(c.length!==0)return xS(Pn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ts(p.field),direction:qL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Uf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function HL(t){let e=jL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=TS(f);return p instanceof Pn&&Xx(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(C){return new Ma(ns(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Mc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,y=f.values||[];return new Ju(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,y=f.values||[];return new Ju(y,p)}(n.endAt)),lL(e,i,o,s,a,"F",u,c)}function WL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ns(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ns(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ns(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>TS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function qL(t){return NL[t]}function KL(t){return DL[t]}function GL(t){return ML[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return ft.fromServerFormat(t.fieldPath)}function xS(t){return t instanceof Ge?function(n){if(n.op==="=="){if(h_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:KL(n.op),value:n.value}}}(t):t instanceof Pn?function(n){const r=n.getFilters().map(i=>xS(i));return r.length===1?r[0]:{compositeFilter:{op:GL(n.op),filters:r}}}(t):Z(54877,{filter:t})}function QL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e){this.yt=e}}function XL(t){const e=HL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Cn=new ZL}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ti.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class ZL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class Ot{static withCacheSize(e){return new Ot(e,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ot.DEFAULT_COLLECTION_PERCENTILE=10,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ot.DEFAULT=new Ot(AS,Ot.DEFAULT_COLLECTION_PERCENTILE,Ot.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ot.DISABLED=new Ot(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hs(0)}static cr(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",e4=1048576;function I_([t,e],[n,r]){const i=se(t,n);return i===0?se(e,r):i}class t4{constructor(e){this.Ir=e,this.buffer=new tt(I_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();I_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(C_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ro(n)?q(C_,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)})}}class r4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Dc.ce);const r=new t4(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(A_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Zi()<=ue.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function i4(t,e){return new r4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ia(r.mutation,i,Jt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jo();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_r();const o=ra(),a=function(){return ra()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof di)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ia(h.mutation,c,h.mutation.getFieldMask(),Re.now())):o.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new o4(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ra();let i=new je((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Jt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=aS();h.forEach(p=>{if(!s.has(p)){const y=fS(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ri());let a=ba,u=s;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(h=>({batchId:a,changes:oS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=jo();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(f,p){return new io(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,xt.newInvalidDocument(h)))});let a=jo();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&ia(h.mutation,c,Jt.empty(),Re.now()),jc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:XL(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.overlays=new je(Q.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ri();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ri(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ri(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ri(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new IL(n,r));let s=this.qr.get(n);s===void 0&&(s=oe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Qr=new tt(ot.$r),this.Ur=new tt(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ot(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Te([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Te([])),r=new ot(n,e),i=new ot(n,e+1);let s=oe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ot(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new tt(ot.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Om:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(se);return n.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new ot(new Q(s),0);let a=new tt(se);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,i=>{const s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ot(n,0),i=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.ri=e,this.docs=function(){return new je(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=_r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_r();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||UM(FM(h),r)<=0||(i.has(h.key)||jc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f4(this)}getSize(e){return U.resolve(this.size)}}class f4 extends s4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.persistence=e,this.si=new qi(n=>Um(n),Bm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=Hs.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dc(0),this.li=!1,this.li=!0,this.hi=new c4,this.referenceDelegate=e(this),this.Pi=new p4(this),this.indexManager=new JL,this.remoteDocumentCache=function(i){return new d4(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new YL(n),this.Ii=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new h4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new m4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class m4 extends $M{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Km,this.Vi=null}static mi(e){return new Gm(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nc{constructor(e,n){this.persistence=e,this.pi=new qi(r=>WM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=i4(this,n)}static mi(e,n){return new nc(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hu(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hD()?8:zM(uD())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new g4;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Zi()<=ue.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(Zi()<=ue.DEBUG&&q("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Zi()<=ue.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):U.resolve())}ys(e,n){if(m_(n))return U.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zu(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,Zu(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return m_(n)||i.isEqual(te.min())?U.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?U.resolve(null):(Zi()<=ue.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.vs(e,o,n,jM(i,ba)).next(a=>a))})}Ds(e,n){let r=new tt(iS(e));return n.forEach((i,s)=>{jc(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Zi()<=ue.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",es(n)),this.ps.getDocumentsMatchingQuery(e,n,ti.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",v4=3e8;class _4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new je(se),this.xs=new qi(s=>Um(s),Bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function w4(t,e,n,r){return new _4(t,e,n,r)}async function IS(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function E4(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let y=U.resolve();return p.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(I=>{const k=c.docVersions.get(C);me(k!==null,48541),I.version.compareTo(k)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PS(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function T4(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(I,k,E){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=v4?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,y,h)&&a.push(n.Pi.updateTargetData(s,y))});let u=_r(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(x4(s,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function x4(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_r();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(Ym,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function S4(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A4(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Lr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Hf(t,e,n){const r=ne(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ro(o))throw o;q(Ym,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function P_(t,e,n){const r=ne(t);let i=te.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ne(u),p=f.xs.get(h);return p!==void 0?U.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,h)}(r,o,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:oe())).next(a=>(C4(r,cL(e),a),{documents:a,Qs:s})))}function C4(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class R_{constructor(){this.activeTargetIds=gL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I4{constructor(){this.Mo=new R_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new R_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class b_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function Wf(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="RestConnection",R4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Yu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Wf(),a=this.zo(e,n.toUriEncodedString());q(id,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(a),h=Vc(c);return this.Jo(e,a,u,r,h).then(f=>(q(id,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Us(id,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=R4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class V4 extends k4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Wf();return new Promise((a,u)=>{const c=new kx;c.setWithCredentials(!0),c.listenOnce(bx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const f=c.getResponseJson();q(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case cu.TIMEOUT:q(wt,`RPC '${e}' ${o} timed out`),u(new W(j.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const p=c.getStatus();if(q(wt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const I=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(C.status);u(new W(I,C.message))}else u(new W(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new W(j.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);q(wt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Wf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Dx(),a=Nx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");q(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let p=!1,y=!1;const C=new b4({Yo:k=>{y?q(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(q(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(wt,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},Zo:()=>f.close()}),I=(k,E,_)=>{k.listen(E,w=>{try{_(w)}catch(V){setTimeout(()=>{throw V},0)}})};return I(f,Oo.EventType.OPEN,()=>{y||(q(wt,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),I(f,Oo.EventType.CLOSE,()=>{y||(y=!0,q(wt,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(f))}),I(f,Oo.EventType.ERROR,k=>{y||(y=!0,Us(wt,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),C.a_(new W(j.UNAVAILABLE,"The operation could not be completed")))}),I(f,Oo.EventType.MESSAGE,k=>{var E;if(!y){const _=k.data[0];me(!!_,16349);const w=_,V=(w==null?void 0:w.error)||((E=w[0])==null?void 0:E.error);if(V){q(wt,`RPC '${e}' stream ${i} received error:`,V);const D=V.status;let O=function(S){const P=We[S];if(P!==void 0)return mS(P)}(D),x=V.message;O===void 0&&(O=j.INTERNAL,x="Unknown error status: "+D+" with message "+V.message),y=!0,C.a_(new W(O,x)),f.close()}else q(wt,`RPC '${e}' stream ${i} received:`,_),C.u_(_)}}),I(a,Vx.STAT_EVENT,k=>{k.stat===Nf.PROXY?q(wt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Nf.NOPROXY&&q(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class kS{constructor(e,n,r,i,s,o,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new W(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(V_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N4 extends kS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FL(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Wn(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=zf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=jf(u)?{documents:$L(s,u)}:{query:zL(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vS(s,o.resumeToken);const c=Uf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=tc(s,o.snapshotVersion.toTimestamp());const c=Uf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=WL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=zf(this.serializer),n.removeTarget=e,this.q_(n)}}class D4 extends kS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BL(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=zf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{}class L4 extends M4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Bf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(j.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Bf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(j.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class O4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="RemoteStore";class j4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ki(this)&&(q($i,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.Ea.add(4),await Za(c),c.Ra.set("Unknown"),c.Ea.delete(4),await zc(c)}(this))})}),this.Ra=new O4(r,i)}}async function zc(t){if(Ki(t))for(const e of t.da)await e(!0)}async function Za(t){for(const e of t.da)await e(!1)}function bS(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zm(n):so(n).O_()&&Jm(n,e))}function Xm(t,e){const n=ne(t),r=so(n);n.Ia.delete(e),r.O_()&&VS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ki(n)&&n.Ra.set("Unknown"))}function Jm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).Y_(e)}function VS(t,e){t.Va.Ue(e),so(t).Z_(e)}function Zm(t){t.Va=new VL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),so(t).start(),t.Ra.ua()}function eg(t){return Ki(t)&&!so(t).x_()&&t.Ia.size>0}function Ki(t){return ne(t).Ea.size===0}function NS(t){t.Va=void 0}async function F4(t){t.Ra.set("Online")}async function U4(t){t.Ia.forEach((e,n)=>{Jm(t,e)})}async function B4(t,e){NS(t),eg(t)?(t.Ra.ha(e),Zm(t)):t.Ra.set("Unknown")}async function $4(t,e,n){if(t.Ra.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){q($i,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rc(t,r)}else if(e instanceof pu?t.Va.Ze(e):e instanceof gS?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await PS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(gt.EMPTY_BYTE_STRING,h.snapshotVersion)),VS(s,u);const f=new Lr(h.target,u,c,h.sequenceNumber);Jm(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q($i,"Failed to raise snapshot:",r),await rc(t,r)}}async function rc(t,e,n){if(!ro(e))throw e;t.Ea.add(1),await Za(t),t.Ra.set("Offline"),n||(n=()=>PS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q($i,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zc(t)})}function DS(t,e){return e().catch(n=>rc(t,n,e))}async function Hc(t){const e=ne(t),n=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;z4(e);)try{const i=await S4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,H4(e,i)}catch(i){await rc(e,i)}MS(e)&&LS(e)}function z4(t){return Ki(t)&&t.Ta.length<10}function H4(t,e){t.Ta.push(e);const n=si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function MS(t){return Ki(t)&&!si(t).x_()&&t.Ta.length>0}function LS(t){si(t).start()}async function W4(t){si(t).ra()}async function q4(t){const e=si(t);for(const n of t.Ta)e.ea(n.mutations)}async function K4(t,e,n){const r=t.Ta.shift(),i=Hm.from(r,e,n);await DS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hc(t)}async function G4(t,e){e&&si(t).X_&&await async function(r,i){if(function(o){return RL(o)&&o!==j.ABORTED}(i.code)){const s=r.Ta.shift();si(r).B_(),await DS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hc(r)}}(t,e),MS(t)&&LS(t)}async function N_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q($i,"RemoteStore received new credentials");const r=Ki(n);n.Ea.add(3),await Za(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zc(n)}async function Q4(t,e){const n=ne(t);e?(n.Ea.delete(2),await zc(n)):e||(n.Ea.add(2),await Za(n),n.Ra.set("Unknown"))}function so(t){return t.ma||(t.ma=function(n,r,i){const s=ne(n);return s.sa(),new N4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:F4.bind(null,t),t_:U4.bind(null,t),r_:B4.bind(null,t),H_:$4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),eg(t)?Zm(t):t.Ra.set("Unknown")):(await t.ma.stop(),NS(t))})),t.ma}function si(t){return t.fa||(t.fa=function(n,r,i){const s=ne(n);return s.sa(),new D4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:W4.bind(null,t),r_:G4.bind(null,t),ta:q4.bind(null,t),na:K4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Hc(t)):(await t.fa.stop(),t.Ta.length>0&&(q($i,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new tg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(vr("AsyncQueue",`${e}: ${t}`),ro(t))return new W(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{static emptySet(e){return new Is(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=jo(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Is)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Is;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new je(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ws{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ws(e,n,Is.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class X4{constructor(){this.queries=M_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=M_(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(j.ABORTED,"Firestore shutting down"))}}function M_(){return new qi(t=>rS(t),Oc)}async function J4(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new Y4,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ng(o,`Initialization of query '${es(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&rg(n)}async function Z4(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eO(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&rg(n)}function tO(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function rg(t){t.Ca.forEach(e=>{e.next()})}var qf,L_;(L_=qf||(qf={})).Ma="default",L_.Cache="cache";class nO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.key=e}}class jS{constructor(e){this.key=e}}class rO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=iS(e),this.tu=new Is(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new D_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),y=jc(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;p&&y?p.data.isEqual(y.data)?C!==I&&(r.track({type:3,doc:y}),k=!0):this.su(p,y)||(r.track({type:2,doc:y}),k=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),k=!0):p&&!y&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(y?(o=o.add(y),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,C){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:k})}};return I(y)-I(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Ws(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=oe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new OS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class iO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sO{constructor(e){this.key=e,this.hu=!1}}class oO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new qi(a=>rS(a),Oc),this.Iu=new Map,this.Eu=new Set,this.du=new je(Q.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=Hs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aO(t,e,n=!0){const r=HS(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await FS(r,e,n,!0),i}async function lO(t,e){const n=HS(t);await FS(n,e,!0,!1)}async function FS(t,e,n,r){const i=await A4(t.localStore,Hn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await uO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&bS(t.remoteStore,i),a}async function uO(t,e,n,r,i){t.pu=(f,p,y)=>async function(I,k,E,_){let w=k.view.ru(E);w.Cs&&(w=await P_(I.localStore,k.query,!1).then(({documents:x})=>k.view.ru(x,w)));const V=_&&_.targetChanges.get(k.targetId),D=_&&_.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(w,I.isPrimaryClient,V,D);return j_(I,k.targetId,O.au),O.snapshot}(t,f,p,y);const s=await P_(t.localStore,e,!0),o=new rO(e,s.Qs),a=o.ru(s.documents),u=Ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);j_(t,n,c.au);const h=new iO(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function cO(t,e,n){const r=ne(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Oc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xm(r.remoteStore,i.targetId),Kf(r,i.targetId)}).catch(no)):(Kf(r,i.targetId),await Hf(r.localStore,i.targetId,!0))}async function hO(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(n.remoteStore,r.targetId))}async function dO(t,e,n){const r=_O(t);try{const i=await function(o,a){const u=ne(o),c=Re.now(),h=a.reduce((y,C)=>y.add(C.key),oe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=_r(),I=oe();return u.Ns.getEntries(y,h).next(k=>{C=k,C.forEach((E,_)=>{_.isValidDocument()||(I=I.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(k=>{f=k;const E=[];for(const _ of a){const w=SL(_,f.get(_.key).overlayedDocument);w!=null&&E.push(new di(_.key,w,Gx(w.value.mapValue),Cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,E,a)}).next(k=>{p=k;const E=k.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(y,k.batchId,E)})}).then(()=>({batchId:p.batchId,changes:oS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new je(se)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await el(r,i.changes),await Hc(r.remoteStore)}catch(i){const s=ng(i,"Failed to persist write");n.reject(s)}}async function US(t,e){const n=ne(t);try{const r=await T4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?me(o.hu,14607):i.removedDocuments.size>0&&(me(o.hu,42227),o.hu=!1))}),await el(n,r,e)}catch(r){await no(r)}}function O_(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ne(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&rg(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fO(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new je(Q.comparator);o=o.insert(s,xt.newNoDocument(s,te.min()));const a=oe().add(s),u=new Bc(te.min(),new Map,new je(se),o,a);await US(r,u),r.du=r.du.remove(s),r.Au.delete(e),sg(r)}else await Hf(r.localStore,e,!1).then(()=>Kf(r,e,n)).catch(no)}async function pO(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await E4(n.localStore,e);$S(n,r,null),BS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await el(n,i)}catch(i){await no(i)}}async function mO(t,e,n){const r=ne(t);try{const i=await function(o,a){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(me(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);$S(r,e,n),BS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await el(r,i)}catch(i){await no(i)}}function BS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function $S(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Kf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||zS(t,r)})}function zS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),sg(t))}function j_(t,e,n){for(const r of n)r instanceof OS?(t.Ru.addReference(r.key,e),gO(t,r)):r instanceof jS?(q(ig,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||zS(t,r.key)):Z(19791,{wu:r})}function gO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(ig,"New document in limbo: "+n),t.Eu.add(r),sg(t))}function sg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Te.fromString(e)),r=t.fu.next();t.Au.set(r,new sO(n)),t.du=t.du.insert(n,r),bS(t.remoteStore,new Lr(Hn(tS(n.path)),r,"TargetPurposeLimboResolution",Dc.ce))}}async function el(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Qm.As(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,p=>U.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>U.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!ro(f))throw f;q(Ym,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),C=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(p,I)}}}(r.localStore,s))}async function yO(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(ig,"User change. New user:",e.toKey());const r=await IS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new W(j.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await el(n,r.Ls)}}function vO(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return oe().add(r.key);{let i=oe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function HS(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fO.bind(null,e),e.Pu.H_=eO.bind(null,e.eventManager),e.Pu.yu=tO.bind(null,e.eventManager),e}function _O(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mO.bind(null,e),e}class ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w4(this.persistence,new y4,e.initialUser,this.serializer)}Cu(e){return new CS(Gm.mi,this.serializer)}Du(e){return new I4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ic.provider={build:()=>new ic};class wO extends ic{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof nc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ot.withCacheSize(this.cacheSizeBytes):Ot.DEFAULT;return new CS(r=>nc.mi(r,n),this.serializer)}}class Gf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await Q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X4}()}createDatastore(e){const n=$c(e.databaseInfo.databaseId),r=function(s){return new V4(s)}(e.databaseInfo);return function(s,o,a,u){return new L4(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new j4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O_(this.syncEngine,n,0),function(){return b_.v()?new b_:new P4}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new oO(i,s,o,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);q($i,"RemoteStore shutting down."),s.Ea.add(5),await Za(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gf.provider={build:()=>new Gf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class TO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(oi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(oi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function od(t,e){t.asyncQueue.verifyOperationInProgress(),q(oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function F_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xO(t);q(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e}async function xO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(oi,"Using user provided OfflineComponentProvider");try{await od(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Us("Error using user provided cache. Falling back to memory cache: "+n),await od(t,new ic)}}else q(oi,"Using default OfflineComponentProvider"),await od(t,new wO(void 0));return t._offlineComponents}async function WS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(oi,"Using user provided OnlineComponentProvider"),await F_(t,t._uninitializedComponentsProvider._online)):(q(oi,"Using default OnlineComponentProvider"),await F_(t,new Gf))),t._onlineComponents}function SO(t){return WS(t).then(e=>e.syncEngine)}async function AO(t){const e=await WS(t),n=e.eventManager;return n.onListen=aO.bind(null,e.syncEngine),n.onUnlisten=cO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function CO(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new EO({next:p=>{h.Nu(),o.enqueueAndForget(()=>Z4(s,f)),p.fromCache&&u.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new nO(a,h,{includeMetadataChanges:!0,qa:!0});return J4(s,f)}(await AO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="firestore.googleapis.com",B_=!0;class $_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KS,this.ssl=B_}else this.host=e.host,this.ssl=e.ssl??B_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e4)throw new W(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IM;switch(r.type){case"firstParty":return new bM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=U_.get(n);r&&(q("ComponentProvider","Removing Datastore"),U_.delete(n),r.terminate())}(this),Promise.resolve()}}function IO(t,e,n,r={}){var c;t=Bi(t,Wc);const i=Vc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(mx(`https://${a}`),yx("Firestore",!0)),s.host!==KS&&s.host!==a&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!Ku(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Et.MOCK_USER;else{h=gx(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new W(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(p)}t._authCredentials=new PM(new Lx(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}toJSON(){return{type:et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ya(n,et._jsonSchema))return new et(e,r||null,new Q(Te.fromString(n.referencePath)))}}et._jsonSchemaVersion="firestore/documentReference/1.0",et._jsonSchema={type:Qe("string",et._jsonSchemaVersion),referencePath:Qe("string")};class Yr extends fi{constructor(e,n,r){super(e,n,tS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new Q(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function ki(t,e,...n){if(t=Gn(t),Ox("collection","path",e),t instanceof Wc){const r=Te.fromString(e,...n);return t_(r),new Yr(t,null,r)}{if(!(t instanceof et||t instanceof Yr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return t_(r),new Yr(t.firestore,null,r)}}function Qf(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=Lm.newId()),Ox("doc","path",e),t instanceof Wc){const r=Te.fromString(e,...n);return e_(r),new et(t,null,new Q(r))}{if(!(t instanceof et||t instanceof Yr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return e_(r),new et(t.firestore,t instanceof Yr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RS(this,"async_queue_retry"),this._c=()=>{const r=sd();r&&q(z_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=sd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ro(e))throw e;q(z_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,vr("INTERNAL UNHANDLED ERROR: ",W_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=tg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:W_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function W_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tl extends Wc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new H_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function PO(t,e){const n=typeof t=="object"?t:Cx(),r=typeof t=="string"?t:Yu,i=Tx(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fx("firestore");s&&IO(i,...s)}return i}function GS(t){if(t._terminated)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RO(t),t._firestoreClient}function RO(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,c,h){return new GM(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new TO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new un(gt.fromBase64String(e))}catch(n){throw new W(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new un(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ya(e,un._jsonSchema))return un.fromBase64String(e.bytes)}}un._jsonSchemaVersion="firestore/bytes/1.0",un._jsonSchema={type:Qe("string",un._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qn._jsonSchemaVersion}}static fromJSON(e){if(Ya(e,qn._jsonSchema))return new qn(e.latitude,e.longitude)}}qn._jsonSchemaVersion="firestore/geoPoint/1.0",qn._jsonSchema={type:Qe("string",qn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ya(e,Kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Kn(e.vectorValues);throw new W(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kn._jsonSchemaVersion="firestore/vectorValue/1.0",Kn._jsonSchema={type:Qe("string",Kn._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=/^__.*__$/;class bO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xa(e,this.data,n,this.fieldTransforms)}}class QS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YS(this.Ac)&&kO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$c(e)}Cc(e,n,r,i=!1){return new og({Ac:e,methodName:n,Dc:r,path:ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(t){const e=t._freezeSettings(),n=$c(t._databaseId);return new VO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NO(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);ug("Data must be an object, but it was:",o,r);const a=XS(r,o);let u,c;if(s.merge)u=new Jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=Yf(e,f,n);if(!o.contains(p))throw new W(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ZS(h,p)||h.push(p)}u=new Jt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new bO(new Ft(a),u,c)}class Gc extends Kc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}class lg extends Kc{_toFieldTransform(e){return new wL(e.path,new La)}isEqual(e){return e instanceof lg}}function DO(t,e,n,r){const i=t.Cc(1,e,n);ug("Data must be an object, but it was:",i,r);const s=[],o=Ft.empty();hi(r,(u,c)=>{const h=cg(e,u,n);c=Gn(c);const f=i.yc(h);if(c instanceof Gc)s.push(h);else{const p=nl(c,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new Jt(s);return new QS(o,a,i.fieldTransforms)}function MO(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Yf(e,r,n)],u=[i];if(s.length%2!=0)throw new W(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Yf(e,s[p])),u.push(s[p+1]);const c=[],h=Ft.empty();for(let p=a.length-1;p>=0;--p)if(!ZS(c,a[p])){const y=a[p];let C=u[p];C=Gn(C);const I=o.yc(y);if(C instanceof Gc)c.push(y);else{const k=nl(C,I);k!=null&&(c.push(y),h.set(y,k))}}const f=new Jt(c);return new QS(h,f,o.fieldTransforms)}function LO(t,e,n,r=!1){return nl(n,t.Cc(r?4:3,e))}function nl(t,e){if(JS(t=Gn(t)))return ug("Unsupported field value:",e,t),XS(t,e);if(t instanceof Kc)return function(r,i){if(!YS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=nl(a,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Re.fromDate(r);return{timestampValue:tc(i.serializer,s)}}if(r instanceof Re){const s=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tc(i.serializer,s)}}if(r instanceof qn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof un)return{bytesValue:vS(i.serializer,r._byteString)};if(r instanceof et){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kn)return function(o,a){return{mapValue:{fields:{[qx]:{stringValue:Kx},[Xu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return $m(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Nc(r)}`)}(t,e)}function XS(t,e){const n={};return Ux(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(t,(r,i)=>{const s=nl(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof qn||t instanceof un||t instanceof et||t instanceof Kc||t instanceof Kn)}function ug(t,e,n){if(!JS(n)||!jx(n)){const r=Nc(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Yf(t,e,n){if((e=Gn(e))instanceof qc)return e._internalPath;if(typeof e=="string")return cg(t,e);throw sc("Field path arguments must be of type string or ",t,!1,void 0,n)}const OO=new RegExp("[~\\*/\\[\\]]");function cg(t,e,n){if(e.search(OO)>=0)throw sc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qc(...e.split("."))._internalPath}catch{throw sc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new W(j.INVALID_ARGUMENT,a+t+u)}function ZS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jO extends eA{data(){return super.data()}}function hg(t,e){return typeof e=="string"?cg(t,e):e instanceof qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class fg extends dg{}function UO(t,e,...n){let r=[];e instanceof dg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof mg).length,a=s.filter(u=>u instanceof pg).length;if(o>1||o>0&&a>0)throw new W(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class pg extends fg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=this._parse(e);return tA(e._query,n),new fi(e.firestore,e.converter,Ff(e._query,n))}_parse(e){const n=ag(e.firestore);return function(s,o,a,u,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new W(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){K_(f,h);const C=[];for(const I of f)C.push(q_(u,s,I));p={arrayValue:{values:C}}}else p=q_(u,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||K_(f,h),p=LO(a,o,f,h==="in"||h==="not-in");return Ge.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class mg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)tA(o,u),o=Ff(o,u)}(e._query,n),new fi(e.firestore,e.converter,Ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends fg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gg(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new W(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ma(s,o)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new io(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function BO(t,e="asc"){const n=e,r=hg("orderBy",t);return gg._create(r,n)}class yg extends fg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new yg(e,n,r)}_apply(e){return new fi(e.firestore,e.converter,Zu(e._query,this._limit,this._limitType))}}function $O(t){return yg._create("limit",t,"F")}function q_(t,e,n){if(typeof(n=Gn(n))=="string"){if(n==="")throw new W(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(e)&&n.indexOf("/")!==-1)throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!Q.isDocumentKey(r))throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return u_(t,new Q(r))}if(n instanceof et)return u_(t,n._key);throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(n)}.`)}function K_(t,e){if(!Array.isArray(t)||t.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zO{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Xu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>ze(o.doubleValue));return new Kn(n)}convertGeoPoint(e){return new qn(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=ni(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);me(SS(r),9688,{name:e});const i=new Na(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ps extends eA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ps._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ps._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ps._jsonSchema={type:Qe("string",Ps._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class mu extends Ps{data(e={}){return super.data(e)}}class Rs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new mu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:WO(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:Qe("string",Rs._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class qO extends zO{constructor(e){super(),this.firestore=e}convertBytes(e){return new un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function oc(t){t=Bi(t,fi);const e=Bi(t.firestore,tl),n=GS(e),r=new qO(e);return FO(t._query),CO(n,t._query).then(i=>new Rs(e,r,t,i))}function KO(t,e,n,...r){t=Bi(t,et);const i=Bi(t.firestore,tl),s=ag(i);let o;return o=typeof(e=Gn(e))=="string"||e instanceof qc?MO(s,"updateDoc",t._key,e,n,r):DO(s,"updateDoc",t._key,e),vg(i,[o.toMutation(t._key,Cn.exists(!0))])}function GO(t){return vg(Bi(t.firestore,tl),[new zm(t._key,Cn.none())])}function ad(t,e){const n=Bi(t.firestore,tl),r=Qf(t),i=HO(t.converter,e);return vg(n,[NO(ag(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cn.exists(!1))]).then(()=>r)}function vg(t,e){return function(r,i){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>dO(await SO(r),i,s)),s.promise}(GS(t),e)}function G_(){return new lg("serverTimestamp")}(function(e,n=!0){(function(i){to=i})(Sx),Ra(new Fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new tl(new RM(r.getProvider("auth-internal")),new VM(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Na(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(Y0,X0,e),Kr(Y0,X0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebasestorage.googleapis.com",QO="storageBucket",YO=2*60*1e3,XO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends Wi{constructor(e,n,r=0){super(ld(e),`Firebase Storage: ${n} (${ld(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ld(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yn||(Yn={}));function ld(t){return"storage/"+t}function JO(){const t="An unknown error occurred, please check the error payload for server response.";return new er(Yn.UNKNOWN,t)}function ZO(){return new er(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function e3(){return new er(Yn.CANCELED,"User canceled the upload/download.")}function t3(t){return new er(Yn.INVALID_URL,"Invalid URL '"+t+"'.")}function n3(t){return new er(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Q_(t){return new er(Yn.INVALID_ARGUMENT,t)}function rA(){return new er(Yn.APP_DELETED,"The Firebase app was deleted.")}function r3(t){return new er(Yn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw n3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${i}/o${p}`,"i"),C={bucket:1,path:3},I=n===nA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",E=new RegExp(`^https?://${I}/${i}/${k}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:y,indices:C,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<w.length;V++){const D=w[V],O=D.regex.exec(e);if(O){const x=O[D.indices.bucket];let v=O[D.indices.path];v||(v=""),r=new xn(x,v),D.postModify(r);break}}if(r==null)throw t3(e);return r}}class i3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...k){c||(c=!0,e.apply(null,k))}function f(k){i=setTimeout(()=>{i=null,t(y,u())},k)}function p(){s&&clearTimeout(s)}function y(k,...E){if(c){p();return}if(k){p(),h.call(null,k,...E);return}if(u()||o){p(),h.call(null,k,...E);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let C=!1;function I(k){C||(C=!0,p(),!c&&(i!==null?(k||(a=2),clearTimeout(i),f(0)):k||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function o3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return t!==void 0}function Y_(t,e,n,r){if(r<e)throw Q_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Q_(`Invalid value for '${t}'. Expected ${n} or less.`)}function l3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ac;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ac||(ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i,s,o,a,u,c,h,f,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,I)=>{this.resolve_=C,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ac.NO_ERROR,u=s.getStatus();if(!a||u3(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===ac.ABORT;r(!1,new Wl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Wl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());a3(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=JO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?rA():e3();o(u)}else{const u=ZO();o(u)}};this.canceled_?n(!1,new Wl(!1,null,!0)):this.backoffId_=s3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&o3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function h3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function d3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function f3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function p3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function m3(t,e,n,r,i,s,o=!0,a=!1){const u=l3(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return f3(h,e),h3(h,n),d3(h,s),p3(h,r),new c3(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function y3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lc(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return y3(this._location.path)}get storage(){return this._service}get parent(){const e=g3(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new lc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw r3(e)}}function X_(t,e){const n=e==null?void 0:e[QO];return n==null?null:xn.makeFromBucketSpec(n,t)}function v3(t,e,n,r={}){t.host=`${e}:${n}`;const i=Vc(e);i&&(mx(`https://${t.host}/b`),yx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:gx(s,t.app.options.projectId))}class _3{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=nA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YO,this._maxUploadRetryTime=XO,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=X_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=X_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Y_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Y_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(xx(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new i3(rA());{const o=m3(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const J_="@firebase/storage",Z_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="storage";function w3(t=Cx(),e){t=Gn(t);const r=Tx(t,iA).getImmediate({identifier:e}),i=fx("storage");return i&&E3(r,...i),r}function E3(t,e,n,r={}){v3(t,e,n,r)}function T3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _3(n,r,i,e,Sx)}function x3(){Ra(new Fs(iA,T3,"PUBLIC").setMultipleInstances(!0)),Kr(J_,Z_,""),Kr(J_,Z_,"esm2020")}x3();const S3={apiKey:"AIzaSyCoKmYtoTLJooWDGxRoAHECkH_7obFwcl0",authDomain:"pasteleria-landing.firebaseapp.com",projectId:"pasteleria-landing",storageBucket:"pasteleria-landing.firebasestorage.app",messagingSenderId:"880216670695",appId:"1:880216670695:web:d41b7c4305cd27b972bd42",measurementId:"G-WMM1JB5T6T"},sA=Ax(S3),ar=PO(sA);w3(sA);const oA=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},aA=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",lA=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},A3=(t,e)=>{let n=lA();!n&&t&&(n=oA(t));const r="f_auto,q_auto,dpr_auto";return n&&e?`${aA(n)}/${r},w_960,c_limit/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${r},w_960,c_limit/`):t},C3=(t,e)=>{let n=lA();!n&&t&&(n=oA(t));const r=[320,480,640,800,960,1200],i="f_auto,q_auto,dpr_auto,c_limit";if(n&&e)return r.map(s=>`${aA(n)}/${i},w_${s}/${e} ${s}w`).join(", ");if(t!=null&&t.includes("/image/upload/"))return r.map(s=>t.replace("/upload/",`/upload/${i},w_${s}/`)+` ${s}w`).join(", ")};function I3({items:t,sizes:e="(max-width:560px) 86vw, (max-width:900px) 78vw, 540px",ariaLabel:n="Carrusel",maxItems:r=12}){const i=A.useRef(null),s=A.useMemo(()=>t.slice(0,r),[t,r]),o=A.useCallback(u=>{const c=i.current;c&&c.scrollBy({left:u*Math.round(c.clientWidth*.95),behavior:"smooth"})},[]),a=u=>{u.key==="ArrowRight"&&o(1),u.key==="ArrowLeft"&&o(-1)};return s.length===0?null:g.jsxs("div",{className:"carousel",children:[g.jsx("button",{className:"car-btn car-btn--prev",onClick:()=>o(-1),"aria-label":"Anterior",children:""}),g.jsx("div",{ref:i,className:"car-track",tabIndex:0,"aria-roledescription":"Carrusel","aria-label":n,onKeyDown:a,children:s.map(u=>{const c=A3(u.imageUrl,u.publicId),h=C3(u.imageUrl,u.publicId);return g.jsx("div",{className:"car-slide",children:g.jsx("div",{className:"car-frame",children:g.jsx("img",{src:c,srcSet:h,sizes:e,alt:"Trabajo reciente",loading:"lazy",decoding:"async",width:960,height:720})})},u.id)})}),g.jsx("button",{className:"car-btn car-btn--next",onClick:()=>o(1),"aria-label":"Siguiente",children:""})]})}const P3=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},R3=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",k3=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},b3=(t,e,n=480)=>{let r=k3();!r&&t&&(r=P3(t));const i="f_auto,q_auto,dpr_auto,c_limit";return r&&e?`${R3(r)}/${i},w_${n}/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${i},w_${n}/`):t};function V3({items:t,maxItems:e=8,onSelect:n}){const r=A.useMemo(()=>t.slice(0,e),[t,e]);return r.length?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"gallery-grid","aria-label":"Vista rpida de trabajos",children:r.map((i,s)=>{const o=b3(i.imageUrl,i.publicId,480);return g.jsx("article",{className:"photo-tile photo-tile--plain",children:g.jsx("button",{className:"thumb-wrap",onClick:()=>n==null?void 0:n(s),"aria-label":"Ver grande",children:g.jsx("img",{src:o,alt:"Trabajo reciente",loading:"lazy",decoding:"async",width:480,height:480,style:{aspectRatio:"1 / 1",objectFit:"contain"}})})},i.id)})}),g.jsx("div",{className:"load-wrap narrow-560",children:g.jsx("a",{className:"btn",href:"/galeria",children:"Ver galera completa"})})]}):null}function N3(t){const[e,n]=A.useState(!1);return A.useEffect(()=>{var s;const r=window.matchMedia(t),i=()=>n(r.matches);return i(),(s=r.addEventListener)==null||s.call(r,"change",i),()=>{var o;return(o=r.removeEventListener)==null?void 0:o.call(r,"change",i)}},[t]),e}const D3=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},M3=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",L3=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},O3=(t,e,n=1600)=>{let r=L3();!r&&t&&(r=D3(t));const i="f_auto,q_auto,dpr_auto,c_limit";return r&&e?`${M3(r)}/${i},w_${n}/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${i},w_${n}/`):t};function j3({items:t,index:e,onClose:n,onPrev:r,onNext:i}){const s=A.useRef(null),[o,a]=A.useState(!0),u=t[e],c=O3(u.fullUrl||u.imageUrl,u.publicId);return A.useEffect(()=>{const h=f=>{f.key==="Escape"&&n(),f.key==="ArrowLeft"&&r(),f.key==="ArrowRight"&&i()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[n,r,i]),A.useEffect(()=>{a(!0);const h=new Image;h.onload=()=>a(!1),h.onerror=()=>a(!1),h.src=c},[c]),g.jsx("div",{className:"lb-overlay",role:"dialog","aria-modal":"true","aria-label":"Foto ampliada",onClick:n,children:g.jsxs("div",{className:"lb-content",onClick:h=>h.stopPropagation(),children:[g.jsx("button",{className:"lb-close","aria-label":"Cerrar",onClick:n,children:""}),g.jsx("button",{className:"lb-nav lb-prev","aria-label":"Anterior",onClick:r,children:""}),g.jsxs("figure",{className:"lb-figure",children:[o&&g.jsxs("div",{className:"lb-loading",children:[g.jsx("div",{className:"spinner"}),g.jsx("span",{children:"Cargando imagen"})]}),g.jsx("img",{src:c,alt:"Trabajo ampliado",loading:"eager",decoding:"async",onLoad:()=>a(!1),onError:()=>a(!1),style:{opacity:o?0:1,transition:"opacity 0.3s ease"},onTouchStart:h=>{s.current=h.touches[0].clientX},onTouchMove:h=>{if(s.current==null)return;const f=h.touches[0].clientX-s.current;Math.abs(f)>50&&(f>0?r():i(),s.current=null)},onTouchEnd:()=>{s.current=null}}),g.jsxs("figcaption",{className:"lb-cap",children:[e+1," / ",t.length]})]}),g.jsx("button",{className:"lb-nav lb-next","aria-label":"Siguiente",onClick:i,children:""}),g.jsx("style",{children:`
          .lb-overlay {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
          }
          .lb-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
          }
          .lb-figure {
            margin: 0;
            position: relative;
          }
          .lb-cap {
            text-align: center;
            margin-top: 8px;
            color: #fff;
            font-size: 0.9rem;
          }
          .lb-close, .lb-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: #fff;
            font-size: 2rem;
            background: none;
            border: none;
            cursor: pointer;
            z-index: 2;
            opacity: 0.7;
          }
          .lb-close {
            top: 16px;
            right: 24px;
            font-size: 2.2rem;
            transform: none;
          }
          .lb-prev { left: -40px; }
          .lb-next { right: -40px; }
          .lb-nav:hover, .lb-close:hover { opacity: 1; }

          .lb-loading {
            position: absolute;
            inset: 0;
            display: grid;
            place-items: center;
            background: rgba(0,0,0,.4);
            color: #fff;
            font-weight: 600;
            z-index: 5;
          }
          .spinner {
            width: 38px; height: 38px;
            border-radius: 50%;
            border: 3px solid rgba(255,255,255,.35);
            border-top-color: #fff;
            animation: spin .9s linear infinite;
          }
          @keyframes spin { to { transform: rotate(360deg); } }
        `})]})})}const F3=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},U3=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]};function ew(t,e,n){const r=(n==null?void 0:n.width)??1200,i=(n==null?void 0:n.quality)??"auto";if(!e)return t??"";let s;return!s&&t&&(s=U3(t)),s?`https://res.cloudinary.com/${s}/image/upload/f_auto,q_${i},dpr_auto,w_${r},c_limit/${e}`:t??""}function B3(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),i=N3("(min-width: 900px)"),[s,o]=A.useState(!1),[a,u]=A.useState(0),[c,h]=A.useState(!1);A.useEffect(()=>{(async()=>{r(!0);try{const V=UO(ki(ar,"gallery"),BO("createdAt","desc"),$O(60)),O=(await oc(V)).docs.map(x=>{var P;const v=x.data(),S=typeof(v==null?void 0:v.createdAt)=="number"&&v.createdAt||typeof(v==null?void 0:v.createdAt)=="object"&&typeof((P=v.createdAt)==null?void 0:P.toMillis)=="function"&&v.createdAt.toMillis()||0;return{id:x.id,imageUrl:(v==null?void 0:v.imageUrl)??"",publicId:v==null?void 0:v.publicId,createdAt:S??0}});e(F3(O))}finally{r(!1)}})()},[]);const f=A.useMemo(()=>{const w=i?1400:900,V=i?"auto":"eco";return t.map(D=>{const O=ew(D.imageUrl,D.publicId,{width:w,quality:V})||D.imageUrl,x=ew(D.imageUrl,D.publicId,{width:i?520:420,quality:"eco"})||D.imageUrl;return{...D,imageUrl:x,fullUrl:O,thumbUrl:x}})},[t,i]),p=i?12:8,y=A.useMemo(()=>f.slice(0,p),[f,p]),C=y.length>0,I=A.useCallback(w=>{u(w),o(!0)},[]),k=A.useCallback(()=>o(!1),[]),E=A.useCallback(()=>u(w=>(w-1+y.length)%y.length),[y.length]),_=A.useCallback(()=>u(w=>(w+1)%y.length),[y.length]);return A.useEffect(()=>{var v,S;if(!s||!y[a])return;h(!0);const w=y[a],V=w.fullUrl??w.imageUrl,D=new Image;D.onload=()=>h(!1),D.onerror=()=>h(!1),D.src=V;const O=(v=y[(a+1)%y.length])==null?void 0:v.fullUrl,x=(S=y[(a-1+y.length)%y.length])==null?void 0:S.fullUrl;if(O){const P=new Image;P.src=O}if(x){const P=new Image;P.src=x}},[s,a,y]),g.jsxs(bc,{id:"trabajos",variant:"surface","aria-label":"Algunos de nuestros trabajos",children:[g.jsxs("div",{className:"container",children:[g.jsxs("header",{className:"gal-header","data-reveal":!0,children:[g.jsxs("div",{children:[g.jsx("h2",{className:"h2",children:"Algunos de nuestros trabajos"}),g.jsx("p",{className:"lead",children:"Un vistazo rpido a lo que hacemos con amor "})]}),i&&g.jsx("div",{className:"btn-group",children:g.jsx("a",{className:"btn",href:"/galeria","aria-label":"Ver ms trabajos",children:"Ver ms"})})]}),n&&g.jsx("div",{className:"empty","data-reveal":!0,"aria-live":"polite",children:g.jsx("p",{children:"Cargando"})}),!n&&C&&g.jsx(g.Fragment,{children:i?g.jsx(I3,{items:y,maxItems:12,ariaLabel:"Trabajos recientes"}):g.jsx(V3,{items:y,maxItems:8,onSelect:I})}),!n&&!C&&g.jsx("div",{className:"empty","data-reveal":!0,children:g.jsx("p",{children:"An no hay elementos para mostrar."})})]}),g.jsx("div",{className:"divider","aria-hidden":"true"}),s&&g.jsxs(g.Fragment,{children:[c&&g.jsxs("div",{className:"lb-loading","aria-live":"polite","aria-busy":"true",children:[g.jsx("div",{className:"spinner"}),g.jsx("span",{children:"Cargando imagen"})]}),g.jsx(j3,{items:y,index:a,onClose:k,onPrev:E,onNext:_})]}),g.jsx("style",{children:`
        .lb-loading{
          position: fixed; inset: 0; z-index: 99999;
          display: grid; place-items: center; gap: 12px;
          background: rgba(0,0,0,.35);
          color: #fff; font-weight: 700; text-shadow: 0 2px 8px rgba(0,0,0,.6);
        }
        .spinner{
          width: 36px; height: 36px; border-radius: 50%;
          border: 3px solid rgba(255,255,255,.35);
          border-top-color: #fff;
          animation: spin .9s linear infinite;
        }
        @keyframes spin{ to { transform: rotate(360deg); } }
      `})]})}const $3=1600,z3=.82,H3=8;function W3(){const[t,e]=A.useState([]),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[u,c]=A.useState(""),[h,f]=A.useState([]),[p,y]=A.useState(!1),[C,I]=A.useState(!1),k=A.useRef(null),E=A.useRef(null),[_,w]=A.useState([]),[V,D]=A.useState(!1),[O,x]=A.useState(!1),v=A.useRef(null),S=A.useRef(null),[P,b]=A.useState({done:0,total:0});A.useEffect(()=>{(async()=>{const _e=(await oc(ki(ar,"categories"))).docs.map(ce=>{const rt=ce.data(),ae=(rt==null?void 0:rt.name)??"";return ae?{id:ce.id,name:ae}:null}).filter(ce=>ce!==null);e(_e)})()},[]),A.useEffect(()=>()=>h.forEach(F=>URL.revokeObjectURL(F.preview)),[h]),A.useEffect(()=>()=>_.forEach(F=>URL.revokeObjectURL(F.preview)),[_]);const N=async F=>{F.preventDefault(),n.trim()&&(await ad(ki(ar,"categories"),{name:n}),r(""),alert("Categora creada "))},R=async F=>{const J=F.type.startsWith("image/"),_e=/heic/i.test(F.type)||/\.heic$/i.test(F.name);if(!J||_e||F.size<=3*1024*1024)return F;const ce=await createImageBitmap(F),rt=ce.width/ce.height,ae=Math.min($3,ce.width),Kt=Math.round(ae/rt),it=document.createElement("canvas");it.width=ae,it.height=Kt,it.getContext("2d").drawImage(ce,0,0,ae,Kt);const Ee=F.type==="image/png"?"image/png":"image/jpeg",ut=await new Promise(rn=>it.toBlob(nr=>rn(nr),Ee,z3)),yn=F.name.replace(/\.\w+$/,"")+(Ee==="image/png"?".png":".jpg");return new File([ut],yn,{type:Ee})},Se=F=>Array.from(F).filter(_e=>_e.type.startsWith("image/")).map(_e=>({file:_e,preview:URL.createObjectURL(_e)})),nt=F=>{const J=Se(F);f(_e=>{const ce=new Set(_e.map(ae=>`${ae.file.name}-${ae.file.size}`)),rt=J.filter(ae=>!ce.has(`${ae.file.name}-${ae.file.size}`));return[..._e,...rt]})},Wt=F=>{const J=Se(F);w(_e=>{const ce=new Set(_e.map(ae=>`${ae.file.name}-${ae.file.size}`)),rt=J.filter(ae=>!ce.has(`${ae.file.name}-${ae.file.size}`));return[..._e,...rt]})},ge=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),I(!0),F.dataTransfer.dropEffect="copy"},[]),z=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),I(!0)},[]),G=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),E.current&&!E.current.contains(F.relatedTarget)&&I(!1)},[]),Y=A.useCallback(F=>{var J;F.preventDefault(),F.stopPropagation(),I(!1),(J=F.dataTransfer.files)!=null&&J.length&&(nt(F.dataTransfer.files),F.dataTransfer.clearData())},[]),pe=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),x(!0),F.dataTransfer.dropEffect="copy"},[]),Ae=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),x(!0)},[]),qt=A.useCallback(F=>{F.preventDefault(),F.stopPropagation(),S.current&&!S.current.contains(F.relatedTarget)&&x(!1)},[]),yt=A.useCallback(F=>{var J;F.preventDefault(),F.stopPropagation(),x(!1),(J=F.dataTransfer.files)!=null&&J.length&&(Wt(F.dataTransfer.files),F.dataTransfer.clearData())},[]);A.useEffect(()=>{const F=J=>{var ce;const _e=Array.from(((ce=J.clipboardData)==null?void 0:ce.files)||[]);_e.length&&Wt(_e)};return window.addEventListener("paste",F),()=>window.removeEventListener("paste",F)},[]);const Ct=()=>{var F;return(F=v.current)==null?void 0:F.click()},It=async F=>{if(F.preventDefault(),!h.length||!i)return alert("Selecciona categora y al menos 1 archivo");y(!0);try{throw new Error("Faltan VITE_CLOUDINARY_* en .env")}catch(J){console.error(J),alert("Error al subir imgenes ")}finally{y(!1)}},Pt=(F,J)=>Array.from({length:Math.ceil(F.length/J)},(_e,ce)=>F.slice(ce*J,ce*J+J)),Ye=async F=>{if(F.preventDefault(),!_.length)return alert("Agrega al menos 1 imagen");D(!0),b({done:0,total:_.length});try{throw new Error("Faltan VITE_CLOUDINARY_* en .env")}catch(J){console.error(J),alert("Error en carga masiva ")}finally{D(!1)}},tr=A.useMemo(()=>h.reduce((F,J)=>F+J.file.size,0),[h]),pi=A.useMemo(()=>_.reduce((F,J)=>F+J.file.size,0),[_]);return g.jsxs("section",{className:"section admin-gallery",children:[g.jsxs("div",{className:"container",children:[g.jsx(Fn.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"h2",children:"Panel de Galera"}),g.jsx("p",{className:"lead",children:"Agrega categoras y sube fotos de pedidos"}),g.jsxs("form",{onSubmit:N,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(xN,{size:18})," Nueva categora"]}),g.jsxs("div",{className:"input-group",children:[g.jsx("input",{type:"text",placeholder:"Ej: Tortas Infantiles",value:n,onChange:F=>r(F.target.value)}),g.jsx("button",{type:"submit",className:"btn",children:"Crear"})]})]}),g.jsxs("form",{onSubmit:It,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(AN,{size:18})," Subir imgenes"]}),g.jsxs("div",{className:"grid cols-2",children:[g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Ttulo base (opcional)"}),g.jsx("input",{type:"text",placeholder:"Ej: Torta de unicornio",value:u,onChange:F=>c(F.target.value)}),g.jsx("small",{className:"muted",children:"Si lo dejas vaco, se usar el nombre del archivo."})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Categora"}),g.jsxs("select",{value:i,onChange:F=>s(F.target.value),children:[g.jsx("option",{value:"",children:"Selecciona categora"}),t.map(F=>g.jsx("option",{value:F.name,children:F.name},F.id))]})]})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsxs("label",{children:[g.jsx(LN,{size:14})," Etiquetas (separadas por coma)"]}),g.jsx("input",{type:"text",placeholder:"Ej: chocolate, fondant, cumpleaos",value:o,onChange:F=>a(F.target.value)})]}),g.jsxs("div",{ref:E,className:`upload-zone ${C?"drag":""}`,onDragOver:ge,onDragEnter:z,onDragLeave:G,onDrop:Y,onClick:()=>{var F;return(F=k.current)==null?void 0:F.click()},role:"button",tabIndex:0,onKeyDown:F=>{var J;return(F.key==="Enter"||F.key===" ")&&((J=k.current)==null?void 0:J.click())},"aria-label":"Soltar o seleccionar imgenes",children:[g.jsx("input",{ref:k,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:F=>{const J=Array.from(F.target.files||[]);J.length&&nt(J),k.current&&(k.current.value="")}}),g.jsxs("div",{className:"drop-inner",children:[g.jsx(Ol,{}),g.jsx("p",{className:"drop-title",children:"Arrastra y suelta tus imgenes aqu"}),g.jsx("p",{className:"muted",children:"o haz clic para seleccionarlas"})]}),h.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"preview-grid",children:h.map((F,J)=>g.jsxs("div",{className:"thumb",title:F.file.name,children:[g.jsx("img",{src:F.preview,alt:`Preview ${J+1}`}),g.jsxs("small",{children:[(F.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${F.file.name}-${J}`))}),g.jsxs("div",{className:"muted total",children:["Total seleccionado: ",(tr/(1024*1024)).toFixed(2)," ","MB"]})]})]}),g.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:p||!h.length,children:[p?g.jsx(M0,{className:"spin"}):g.jsx(Ol,{})," Subir"," ",h.length?`(${h.length})`:""]})]}),g.jsxs("form",{onSubmit:Ye,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(DN,{size:18})," Carga masiva (sin ttulo, sin categora, sin tags)"]}),g.jsxs("p",{className:"muted",style:{marginTop:-6},children:["Sube todas tus imgenes tal cual. Se guardan vacas y se organizan en Cloudinary en ",g.jsx("code",{children:"pasteleria/gallery/bulk"}),"."]}),g.jsxs("div",{ref:S,className:`upload-zone ${O?"drag":""}`,onDragOver:pe,onDragEnter:Ae,onDragLeave:qt,onDrop:yt,onClick:Ct,role:"button",tabIndex:0,onKeyDown:F=>(F.key==="Enter"||F.key===" ")&&Ct(),"aria-label":"Soltar o seleccionar imgenes (carga masiva)",children:[g.jsx("input",{ref:v,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:F=>{const J=Array.from(F.target.files||[]);J.length&&Wt(J),v.current&&(v.current.value="")}}),g.jsxs("div",{className:"drop-inner",children:[g.jsx(Ol,{}),g.jsx("p",{className:"drop-title",children:"Suelta aqu (o haz clic) para carga masiva"}),g.jsx("p",{className:"muted",children:"Se suben directamente sin metadatos"})]}),_.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"preview-grid",children:_.map((F,J)=>g.jsxs("div",{className:"thumb",title:F.file.name,children:[g.jsx("img",{src:F.preview,alt:`Bulk ${J+1}`}),g.jsxs("small",{children:[(F.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${F.file.name}-${J}`))}),g.jsxs("div",{className:"muted total",children:["Total seleccionado:"," ",(pi/(1024*1024)).toFixed(2)," MB"]})]})]}),V&&g.jsxs("div",{className:"muted",style:{margin:"8px 0"},children:["Subiendo... ",P.done,"/",P.total,g.jsx("div",{style:{height:8,background:"#eee",borderRadius:6,overflow:"hidden",marginTop:6},children:g.jsx("div",{style:{height:"100%",width:`${P.total?P.done/P.total*100:0}%`,background:"#6366f1",transition:"width .2s ease"}})})]}),g.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:V||!_.length,children:[V?g.jsx(M0,{className:"spin"}):g.jsx(Ol,{})," Subir masivo ",_.length?`(${_.length})`:""]})]})]}),g.jsx("style",{children:`
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          margin-top: 1.5rem;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
        }
        h3 {
          display: flex;
          align-items: center;
          gap: 6px;
          font-weight: 700;
          margin-bottom: 0.75rem;
        }
        .input-group { display: flex; gap: 0.5rem; }
        .input-group input {
          flex: 1; padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .input-wrap { margin-bottom: 0.8rem; display: flex; flex-direction: column; }
        .input-wrap input, .input-wrap select {
          padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .upload-zone {
          margin: 1rem 0; border: 2px dashed #ccc; border-radius: 12px; padding: 1rem; text-align: center;
          transition: all .15s ease-in-out; cursor: pointer; outline: none;
        }
        .upload-zone:hover, .upload-zone:focus { border-color: #aaa; }
        .upload-zone.drag { border-color: #6366f1; background: #f8f9ff; }
        .drop-inner { display: grid; place-items: center; gap: 6px; color: #374151; }
        .drop-title { margin: 0; font-weight: 600; }
        .preview-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin-top: 12px; }
        .thumb {
          background: #fafafa; border: 1px solid #eee; border-radius: 10px; padding: 6px;
          display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center;
        }
        .thumb img { width: 100%; height: 90px; object-fit: cover; border-radius: 6px; }
        .muted { color: #6b7280; font-size: 12px; }
        .total { margin-top: 6px; }
        .upload-btn { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .spin { animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
      `})]})}function tw({title:t,children:e,onClose:n}){return A.useEffect(()=>{const r=i=>i.key==="Escape"&&n();return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n]),g.jsxs("div",{className:"modal-backdrop",onClick:n,role:"dialog","aria-modal":"true",children:[g.jsxs("div",{className:"modal",onClick:r=>r.stopPropagation(),children:[g.jsx("h3",{children:t}),e]}),g.jsx("style",{children:`
        .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,.35); display:grid; place-items:center; z-index:9999; }
        .modal { width:min(560px,92vw); background:#fff; border-radius:16px; border:1px solid #eee; box-shadow:0 20px 60px rgba(0,0,0,.2); padding:18px; }
        .modal h3 { margin:0 0 6px; font-size:1.22rem; }
        .modal-actions { display:flex; gap:10px; justify-content:flex-end; margin-top:14px; }
        .grid { display:grid; gap:12px; }
        @media (min-width:768px){ .grid.cols-2 { grid-template-columns:1fr 1fr; } }
        .input-wrap { display:flex; flex-direction:column; gap:6px; }
        .input-wrap input, .input-wrap select { padding:10px 12px; border-radius:12px; border:1px solid #e5e7eb; }
      `})]})}function q3({src:t,onClose:e}){const[n,r]=A.useState(!1),[i,s]=A.useState(!1);return A.useEffect(()=>{const o=u=>u.key==="Escape"&&e();document.addEventListener("keydown",o);const a=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",o),document.body.style.overflow=a}},[e]),g.jsxs("div",{className:"image-viewer-backdrop",onClick:e,role:"dialog","aria-modal":"true",children:[g.jsxs("div",{className:"image-viewer-stage",onClick:o=>o.stopPropagation(),children:[!n&&!i&&g.jsxs("div",{className:"viewer-loading",children:[g.jsx("div",{className:"loader-ring"}),g.jsx("p",{className:"viewer-loading-text",children:"Cargando imagen"})]}),i?g.jsxs("div",{className:"viewer-error",role:"alert",children:[g.jsx("p",{children:"No se pudo cargar la imagen."}),g.jsx("button",{className:"btn",onClick:e,type:"button",children:"Cerrar"})]}):g.jsx("img",{src:t,alt:"Vista ampliada",className:`image-viewer-img ${n?"in":"hide"}`,loading:"eager",decoding:"async",onLoad:()=>r(!0),onError:()=>s(!0)}),n&&g.jsx("button",{className:"image-viewer-close",onClick:e,"aria-label":"Cerrar vista",type:"button",children:""})]}),g.jsx("style",{children:`
        .image-viewer-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: grid; place-items: center; z-index: 2000; cursor: zoom-out; animation: fadeIn .25s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .image-viewer-stage{ position:relative; max-width:95vw; max-height:90vh; }
        .image-viewer-img { max-width: 95vw; max-height: 90vh; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,0.5); cursor: default; }
        .image-viewer-img.hide{ opacity:0; }
        .image-viewer-img.in{ opacity:1; transition: opacity .25s ease; }

        .viewer-loading{
          position:absolute; inset:0; display:grid; place-items:center; gap:10px;
          padding:24px; text-align:center;
          background: radial-gradient(1200px 600px at 50% 10%, rgba(255,255,255,.06), transparent);
          backdrop-filter: blur(2px);
        }
        .viewer-loading-text{ color:#e5e7eb; margin:0; font-weight:600; letter-spacing:.2px; }
        .loader-ring{
          width:64px; height:64px; border-radius:999px;
          border:4px solid rgba(255,255,255,.25);
          border-top-color:#b76cfd; border-right-color:#6be4dc;
          animation: spin .9s linear infinite;
          box-shadow: 0 0 22px rgba(183,108,253,.35), inset 0 0 12px rgba(107,228,220,.2);
        }
        @keyframes spin{ to { transform: rotate(360deg); } }
        .viewer-error{ position:absolute; inset:0; display:grid; place-items:center; gap:10px; color:#fff; }
        .image-viewer-close{
          position:absolute; top:12px; right:12px;
          background: rgba(255,255,255,0.95); color:#111; border:none;
          border-radius:999px; width:40px; height:40px; font-size:22px; font-weight:700;
          display:grid; place-items:center; cursor:pointer;
          box-shadow:0 6px 18px rgba(0,0,0,.25);
        }
      `})]})}function K3(t,e=350){const[n,r]=A.useState(t);return A.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n}const uA=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},cA=(t,e,n=1200)=>{let r;!r&&t&&(r=uA(t));const i=r?`https://res.cloudinary.com/${r}/image/upload`:"",s=`f_auto,q_auto,dpr_auto,c_limit,w_${n}`;if(r&&e)return`${i}/${s}/${e}`;const a=t.split("?")[0].replace(/\/upload\/([^/]*,)?fl_attachment[^/]*\//i,"/upload/").replace(/\/upload\/([^/]*,)?attachment[^/]*\//i,"/upload/");return a.includes("/image/upload/")?a.replace("/upload/",`/upload/${s}/`):a},hA=(t,e,n=420)=>{let r;return!r&&t&&(r=uA(t)),r&&e?`https://res.cloudinary.com/${r}/image/upload/f_auto,q_auto,h_${n},c_limit/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/f_auto,q_auto,h_${n},c_limit/`):t},G3=(t,e)=>hA(t,e,1600),Q3=t=>(t||"sin-cat").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Ji=t=>t.trim().replace(/[.]+$/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Y3=t=>{const e=t.trim().replace(/[.]+$/g,"");return e.charAt(0).toUpperCase()+e.slice(1)},X3=(t,e,n)=>{const r=cA(n,e.publicId),i=`https://wa.me/${t}`,s=`Hola, deseo ms info de esta torta:
${r}`;return`${i}?text=${encodeURIComponent(s)}`};function dA({id:t="galeria",title:e="Galera",pageSize:n=12,admin:r,branches:i}){const s=Jn(),[o,a]=PR(),u=A.useMemo(()=>typeof r=="boolean"?r:s.pathname.startsWith("/dashboard"),[r,s.pathname]),c=[{id:"mir",name:"Sede Miranda",phone:"573155287225"},{id:"flo",name:"Sede Florida",phone:"573150815246"}],h=i!=null&&i.length?i:c,[f,p]=A.useState(!0),[y,C]=A.useState(null),[I,k]=A.useState([]),[E,_]=A.useState([]),[w,V]=A.useState([]),[D,O]=A.useState(!1),[x,v]=A.useState(""),[S,P]=A.useState("todas"),[b,N]=A.useState([]),[R,Se]=A.useState("reciente"),[nt,Wt]=A.useState(n),ge=K3(x,300),[z,G]=A.useState(null),[Y,pe]=A.useState(null),[Ae,qt]=A.useState(""),[yt,Ct]=A.useState(!1),[It,Pt]=A.useState(!1),[Ye,tr]=A.useState(null),[pi,F]=A.useState(""),[J,_e]=A.useState("");A.useEffect(()=>{const $=o.get("categoria"),de=o.get("etiqueta");$&&P($),de&&N([de.toLowerCase()])},[]),A.useEffect(()=>{(async()=>{try{p(!0),C(null);const ve=(await oc(ki(ar,"categories"))).docs.map(Gt=>{var X;return(X=Gt.data())==null?void 0:X.name}).filter(Gt=>!!Gt);_(ve);const Rt=(await oc(ki(ar,"gallery"))).docs.map(Gt=>{const X=Gt.data(),bn=typeof(X==null?void 0:X.createdAt)=="object"&&"toMillis"in X.createdAt&&typeof X.createdAt.toMillis=="function"&&X.createdAt.toMillis()||typeof(X==null?void 0:X.createdAt)=="number"&&X.createdAt||typeof(X==null?void 0:X.createdAt)=="string"&&Date.parse(X.createdAt)||0,Vn=X==null?void 0:X.tags,kt=Array.isArray(Vn)?Vn.filter(Er=>typeof Er=="string"):[],il=kt.map(Er=>Ji(Er)).filter(Boolean);return{id:Gt.id,title:(X==null?void 0:X.title)||"",imageUrl:(X==null?void 0:X.imageUrl)??"",publicId:X==null?void 0:X.publicId,deleteToken:X==null?void 0:X.deleteToken,category:(X==null?void 0:X.category)||"",tags:kt,tagsNorm:il,createdAt:bn,description:X==null?void 0:X.description,author:X==null?void 0:X.author}});k(Rt);const kn=new Map;Rt.forEach(Gt=>{(Gt.tags??[]).forEach(X=>{const bn=Ji(X);if(!bn)return;const Vn=Y3(X),kt=kn.get(bn);kt?(kt.count+=1,Vn.length>kt.label.length&&(kt.label=Vn)):kn.set(bn,{norm:bn,label:Vn,count:1})})});const rl=Array.from(kn.values()).sort((Gt,X)=>X.count-Gt.count);V(rl)}catch(de){console.error(de),C("No se pudieron cargar los datos")}finally{p(!1)}})()},[]);const ce=A.useMemo(()=>{let $=I;S!=="todas"&&($=$.filter(ve=>ve.category===S)),b.length&&($=$.filter(ve=>{const Ce=ve.tagsNorm??ve.tags.map(Ji);return b.every(Rt=>Ce.includes(Rt))}));const de=Ji(ge);return de&&($=$.filter(ve=>(ve.tagsNorm??ve.tags.map(Ji)).some(Rt=>Rt.includes(de)))),$=[...$].sort((ve,Ce)=>{if(R==="titulo")return(ve.title||"").localeCompare(Ce.title||"");const Rt=new Date(ve.createdAt||0).getTime(),kn=new Date(Ce.createdAt||0).getTime();return R==="reciente"?kn-Rt:Rt-kn}),$},[I,S,b,ge,R]);A.useEffect(()=>Wt(n),[ge,S,b,R,n]);const rt=$=>{P($);const de=new URLSearchParams(o);$&&$!=="todas"?de.set("categoria",$):de.delete("categoria"),a(de)},ae=$=>{N(de=>{const Ce=de.includes($)?de.filter(kn=>kn!==$):[$],Rt=new URLSearchParams(o);return Ce.length>0?Rt.set("etiqueta",Ce[0]):Rt.delete("etiqueta"),a(Rt),Ce})},Kt=nt<ce.length,it=ce.slice(0,nt),he=$=>{tr($),F($.category||""),_e($.tags.join(", ")),Ct(!0)},Ee=async()=>{if(!Ye)return;const $=Qf(ar,"gallery",Ye.id),de=J.split(",").map(ve=>ve.trim()).filter(Boolean);await KO($,{category:pi,tags:de}),k(ve=>ve.map(Ce=>Ce.id===Ye.id?{...Ce,category:pi,tags:de,tagsNorm:de.map(Ji)}:Ce)),Ct(!1),tr(null)},ut=$=>{tr($),Pt(!0)},yn=async $=>{const ve=new FormData;return ve.append("token",$),(await fetch("https://api.cloudinary.com/v1_1/undefined/delete_by_token",{method:"POST",body:ve})).ok},rn=async $=>!1,nr=async()=>{if(Ye)try{Ye.deleteToken?await yn(Ye.deleteToken):Ye.publicId&&await rn(Ye.publicId),await GO(Qf(ar,"gallery",Ye.id)),k($=>$.filter(de=>de.id!==Ye.id))}catch($){console.error($),alert("No se pudo eliminar (revisa consola).")}finally{Pt(!1),tr(null)}};return g.jsxs("section",{id:t,className:"section alt","aria-labelledby":`${t}-title`,children:[g.jsxs("div",{className:"container",children:[g.jsxs("header",{className:"gal-header",children:[g.jsxs("div",{children:[g.jsx("h2",{id:`${t}-title`,className:"h2",children:e}),g.jsx("p",{className:"lead",children:"Filtra por etiquetas u ordena por fecha."})]}),g.jsxs("div",{className:"gal-controls",children:[g.jsx("div",{className:"input-wrap",children:g.jsx("input",{type:"search",placeholder:"Buscar por etiqueta",value:x,onChange:$=>v($.target.value),"aria-label":"Buscar en galer\\u00eda"})}),g.jsx("div",{className:"select-wrap",children:g.jsxs("select",{value:S,onChange:$=>rt($.target.value),"aria-label":"Filtrar por categor\\u00eda",children:[g.jsx("option",{value:"todas",children:"Todas las categoras"}),g.jsx("option",{value:"",children:"(sin categora)"}),E.map($=>g.jsx("option",{value:$,children:$},$))]})}),g.jsx("div",{className:"select-wrap",children:g.jsxs("select",{value:R,onChange:$=>Se($.currentTarget.value),"aria-label":"Ordenar resultados",children:[g.jsx("option",{value:"reciente",children:"Ms recientes"}),g.jsx("option",{value:"antiguo",children:"Ms antiguos"}),g.jsx("option",{value:"titulo",children:"Por ttulo (A-Z)"})]})})]}),w.length>0&&g.jsxs("div",{className:"chips",role:"group","aria-label":"Filtrar por etiquetas",children:[(D?w:w.slice(0,12)).map(({norm:$,label:de,count:ve})=>{const Ce=b.includes($);return g.jsx("button",{className:`chip ${Ce?"active":""}`,onClick:()=>ae($),"aria-pressed":Ce,type:"button",title:`${ve} coincidencia${ve===1?"":"s"}`,children:de},$)}),w.length>12&&g.jsx("button",{className:"chip clear",onClick:()=>O($=>!$),type:"button",children:D?"Ver menos":`Ver todas (${w.length})`}),b.length>0&&g.jsx("button",{className:"chip clear",onClick:()=>N([]),type:"button",children:"Limpiar etiquetas"})]})]}),f&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:"Cargando galera"})}),y&&!f&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:y})}),!f&&!y&&g.jsx(ET,{mode:"popLayout",children:g.jsxs("div",{className:"gallery-grid",children:[it.map($=>{const de=Q3($.category),ve=hA($.imageUrl,$.publicId),Ce=cA(G3($.imageUrl,$.publicId),$.publicId);return g.jsxs(Fn.figure,{className:"photo-tile photo-tile--plain",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.28},children:[g.jsxs("div",{className:"thumb-wrap thumb-wrap--frame clickable",onClick:()=>G(Ce),role:"button",tabIndex:0,children:[g.jsxs("span",{className:`ribbon ${de||"sin-cat"}`,children:[g.jsx("i",{"aria-hidden":!0,children:""})," ",$.category||"Sin categora"]}),g.jsx("img",{src:ve,alt:"Pedido",loading:"lazy",decoding:"async"})]}),g.jsx("figcaption",{className:"tile-caption",children:u?g.jsxs("div",{className:"tile-actions",children:[g.jsx("button",{type:"button",className:"btn sm",onClick:()=>he($),children:"Editar"}),g.jsx("button",{type:"button",className:"btn sm danger",onClick:()=>ut($),children:"Eliminar"})]}):g.jsx("div",{className:"tile-actions",children:g.jsx("button",{type:"button",className:"btn sm secondary",onClick:()=>{pe($),qt(Ce)},children:"Ms info"})})})]},$.id)}),it.length===0&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:"Sin resultados con los filtros actuales."})})]})}),!f&&!y&&Kt&&g.jsx("div",{className:"load-wrap",children:g.jsx("button",{className:"btn",onClick:()=>Wt($=>$+n),type:"button",children:"Cargar ms"})})]}),z&&g.jsx(q3,{src:z,onClose:()=>G(null)}),Y&&g.jsxs("div",{className:"modal-backdrop",onClick:()=>{pe(null),qt("")},children:[g.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[g.jsx("h3",{children:"A qu sede quieres escribir?"}),g.jsx("p",{className:"muted",style:{marginTop:0},children:"Enviaremos el link directo de esta imagen por WhatsApp."}),g.jsx("div",{className:"grid",children:h.map($=>{const de=X3($.phone,Y,Ae);return g.jsxs("a",{className:"btn",href:de,target:"_blank",rel:"noopener noreferrer",children:["WhatsApp ",$.name]},$.id)})}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"btn secondary",onClick:()=>{pe(null),qt("")},type:"button",children:"Cancelar"})})]}),g.jsx("style",{children:`
            .modal-backdrop { position:fixed; inset:0; background:rgba(0,0,0,.35); display:grid; place-items:center; z-index:9999; }
            .modal { width:min(560px,92vw); background:#fff; border-radius:16px; border:1px solid #eee; box-shadow:0 20px 60px rgba(0,0,0,.2); padding:18px; }
            .grid { display:grid; gap:12px; }
          `})]}),yt&&Ye&&g.jsxs(tw,{onClose:()=>Ct(!1),title:"Editar imagen",children:[g.jsx("div",{className:"grid cols-2",children:g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Categora"}),g.jsxs("select",{value:pi,onChange:$=>F($.target.value),children:[g.jsx("option",{value:"",children:"(sin categora)"}),E.map($=>g.jsx("option",{value:$,children:$},$))]})]})}),g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Etiquetas (coma separadas)"}),g.jsx("input",{type:"text",value:J,onChange:$=>_e($.target.value),placeholder:"chocolate, fondant, baby shower"})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn",onClick:Ee,type:"button",children:"Guardar cambios"}),g.jsx("button",{className:"btn secondary",onClick:()=>Ct(!1),type:"button",children:"Cancelar"})]})]}),It&&Ye&&g.jsxs(tw,{onClose:()=>Pt(!1),title:"Eliminar imagen",children:[g.jsxs("p",{children:["Seguro que quieres eliminar esta imagen?",g.jsx("br",{}),g.jsx("strong",{children:Ye.publicId})]}),g.jsxs("small",{className:"muted",children:["Se borrar el documento en Firestore y se intentar borrar el asset en Cloudinary (si hay ",g.jsx("code",{children:"deleteToken"})," o endpoint backend)."]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn danger",onClick:nr,type:"button",children:"S, eliminar"}),g.jsx("button",{className:"btn secondary",onClick:()=>Pt(!1),type:"button",children:"Cancelar"})]})]}),g.jsx("style",{children:`
        .photo-tile {
          position: relative;
          background:#fff; border:1px solid var(--ring); border-radius:16px; overflow:hidden;
          box-shadow:0 8px 20px var(--shadow);
          display:grid; grid-template-rows:auto auto;
          transition:transform .18s ease, box-shadow .18s ease;
        }
        .photo-tile:hover { transform: translateY(-3px); box-shadow: 0 14px 30px rgba(183,108,253,.22); }

        .thumb-wrap.thumb-wrap--frame {
          position: relative;
          max-height: 420px;
          background: linear-gradient(180deg,#faf7ff,#f7fffe);
          display:grid; place-items:center;
        }
        @media (max-width: 900px){ .thumb-wrap.thumb-wrap--frame { max-height: 360px; } }
        @media (max-width: 560px){ .thumb-wrap.thumb-wrap--frame { max-height: 300px; } }
        .thumb-wrap.thumb-wrap--frame img {
          height: 100%; width: auto; object-fit: contain; display:block;
          transition: transform .25s ease, filter .25s ease;
        }
        .thumb-wrap.clickable { cursor: zoom-in; }
        .photo-tile:hover .thumb-wrap--frame img { transform: scale(1.015); filter: contrast(1.02); }

        .tile-caption { padding: 10px 12px 12px; }
        .tile-actions { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; justify-content:center; }
        .btn.sm { padding:8px 12px; border-radius:12px; font-size:.9rem; }
        .btn.danger { background:#ef4444; } .btn.danger:hover { background:#f87171; }

        .ribbon {
          position: absolute; top: 10px; left: 10px; z-index: 2;
          display: inline-flex; align-items: center; gap: 6px;
          padding: 8px 12px; font-weight: 800; font-size: 12px; color: #fff;
          background: linear-gradient(135deg, var(--brand), var(--accent));
          border-radius: 999px; box-shadow: 0 6px 16px rgba(183,108,253,.28);
          backdrop-filter: blur(4px);
        }
        .ribbon i { font-style: normal; opacity: .95; }
        .ribbon.cumple { background: linear-gradient(135deg, #8aa7ff, #b76cfd); }
        .ribbon.baby-shower { background: linear-gradient(135deg, #f8aee3, #6be4dc); color:#3a2e4e; }
        .ribbon.chocolate { background: linear-gradient(135deg, #a77979, #e0b9a8); }

        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 18px; }
        .chip.clear{ background:#fff; color:#5b21b6; border:1px dashed #c4b5fd; }

        .empty { display:grid; place-items:center; min-height: 120px; }
      `})]})}const J3="1987",ud="dash_auth_ok";function Z3(){const[t,e]=A.useState(()=>localStorage.getItem(ud)==="1"),[n,r]=A.useState(""),[i,s]=A.useState("upload");A.useEffect(()=>{document.title="Dashboard"},[]);const o=u=>{u.preventDefault(),n===J3?(localStorage.setItem(ud,"1"),e(!0)):alert("PIN incorrecto")},a=()=>{localStorage.removeItem(ud),e(!1),r("")};return t?g.jsxs("section",{className:"section",children:[g.jsx("div",{className:"container",children:g.jsxs("div",{className:"dash-layout",children:[g.jsxs("aside",{className:"dash-sidebar","aria-label":"Men del dashboard",children:[g.jsxs("div",{className:"dash-brand",children:[g.jsx("strong",{children:"Dashboard"}),g.jsx("small",{className:"muted",children:"oculto"})]}),g.jsxs("nav",{className:"dash-nav",children:[g.jsx("button",{className:`dash-link ${i==="upload"?"active":""}`,onClick:()=>s("upload"),children:" Subir imgenes"}),g.jsx("button",{className:`dash-link ${i==="gallery"?"active":""}`,onClick:()=>s("gallery"),children:" Galera"}),g.jsx("button",{className:`dash-link ${i==="settings"?"active":""}`,onClick:()=>s("settings"),children:" Ajustes"})]}),g.jsx("div",{className:"dash-footer",children:g.jsx("button",{className:"btn btn-ghost",onClick:a,children:"Salir"})})]}),g.jsxs("main",{className:"dash-content",children:[i==="upload"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Subida de imgenes"}),g.jsx("p",{className:"lead",children:"Usa el cargador para subir con datos o la seccin de carga masiva (sin metadatos)."}),g.jsx(W3,{})]}),i==="gallery"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Galera"}),g.jsx("p",{className:"lead",children:"Explora lo que ya subiste, con filtros y bsqueda."}),g.jsx(dA,{})]}),i==="settings"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Ajustes"}),g.jsx("div",{className:"admin-card",children:g.jsx("p",{className:"muted",children:"Aqu puedes agregar opciones como cambiar el PIN, revisar variables de entorno, o mostrar info de tu cuenta de Cloudinary / Firestore."})})]})]})]})}),g.jsx("style",{children:`
        .dash-layout {
          display: grid;
          grid-template-columns: 240px 1fr;
          gap: 16px;
          min-height: 70vh;
        }
        @media (max-width: 960px) {
          .dash-layout {
            grid-template-columns: 1fr;
          }
          .dash-sidebar {
            position: sticky;
            top: 10px;
            z-index: 2;
          }
        }
        .dash-sidebar {
          background: #fff;
          border: 1px solid #eee;
          border-radius: 14px;
          padding: 14px;
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: fit-content;
        }
        .dash-brand {
          display: flex;
          align-items: baseline;
          gap: 6px;
          font-size: 18px;
        }
        .muted { color: #6b7280; font-size: 12px; }
        .dash-nav {
          display: grid;
          gap: 6px;
          margin-top: 8px;
        }
        .dash-link {
          text-align: left;
          border: 1px solid #eee;
          background: #fafafa;
          border-radius: 10px;
          padding: 10px 12px;
          cursor: pointer;
          transition: background .15s ease, border-color .15s ease, transform .05s ease;
        }
        .dash-link:hover { background: #f6f6f6; border-color: #e7e7e7; }
        .dash-link.active {
          background: #f0f2ff;
          border-color: #dfe3ff;
        }
        .dash-footer {
          margin-top: auto;
          display: flex;
          justify-content: flex-start;
        }
        .btn-ghost {
          background: transparent;
          border: 1px solid #eee;
          color: #374151;
        }
        .dash-content {
          display: grid;
          gap: 16px;
        }
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
          border: 1px solid #eee;
        }
      `})]}):g.jsx("section",{className:"section",children:g.jsxs("div",{className:"container",style:{maxWidth:420},children:[g.jsx("h2",{className:"h2",children:"Acceso"}),g.jsx("p",{className:"lead",children:"Ingresa el PIN para continuar"}),g.jsxs("form",{onSubmit:o,className:"admin-card",children:[g.jsx("input",{type:"password",placeholder:"PIN",value:n,onChange:u=>r(u.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:8,border:"1px solid #ddd"}}),g.jsx("button",{className:"btn",style:{marginTop:12},type:"submit",children:"Entrar"})]})]})})}function e6(){return A.useEffect(()=>{document.title="Galera"},[]),g.jsxs(g.Fragment,{children:[g.jsx(ux,{}),g.jsx("main",{children:g.jsx(dA,{id:"galeria",title:"Galera",pageSize:24})}),g.jsx(lx,{})]})}function t6(){return g.jsxs(g.Fragment,{children:[g.jsx(ux,{}),g.jsxs("main",{children:[g.jsx(pN,{}),g.jsx(B3,{}),g.jsx(WN,{}),g.jsx(QN,{})]}),g.jsx(lx,{})]})}function n6(){return g.jsxs(ZP,{children:[g.jsx(Mo,{path:"/",element:g.jsx(t6,{})}),g.jsx(Mo,{path:"/galeria",element:g.jsx(e6,{})})," ",g.jsx(Mo,{path:"/dashboard",element:g.jsx(Z3,{})}),g.jsx(Mo,{path:"*",element:g.jsx(XP,{to:"/"})})]})}cd.createRoot(document.getElementById("root")).render(g.jsx(XA.StrictMode,{children:g.jsx(xR,{children:g.jsx(n6,{})})}));
