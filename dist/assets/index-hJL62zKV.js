(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function rA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R0={exports:{}},Wu={},k0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),iA=Symbol.for("react.portal"),sA=Symbol.for("react.fragment"),oA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),lA=Symbol.for("react.provider"),uA=Symbol.for("react.context"),cA=Symbol.for("react.forward_ref"),hA=Symbol.for("react.suspense"),fA=Symbol.for("react.memo"),dA=Symbol.for("react.lazy"),jg=Symbol.iterator;function pA(t){return t===null||typeof t!="object"?null:(t=jg&&t[jg]||t["@@iterator"],typeof t=="function"?t:null)}var V0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D0=Object.assign,N0={};function Rs(t,e,n){this.props=t,this.context=e,this.refs=N0,this.updater=n||V0}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b0(){}b0.prototype=Rs.prototype;function Dd(t,e,n){this.props=t,this.context=e,this.refs=N0,this.updater=n||V0}var Nd=Dd.prototype=new b0;Nd.constructor=Dd;D0(Nd,Rs.prototype);Nd.isPureReactComponent=!0;var Ug=Array.isArray,M0=Object.prototype.hasOwnProperty,bd={current:null},L0={key:!0,ref:!0,__self:!0,__source:!0};function O0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)M0.call(e,r)&&!L0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ta,type:t,key:s,ref:o,props:i,_owner:bd.current}}function mA(t,e){return{$$typeof:Ta,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Md(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ta}function gA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bg=/\/+/g;function qc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gA(""+t.key):e.toString(36)}function Il(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ta:case iA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qc(o,0):r,Ug(i)?(n="",t!=null&&(n=t.replace(Bg,"$&/")+"/"),Il(i,e,n,"",function(c){return c})):i!=null&&(Md(i)&&(i=mA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Bg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ug(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+qc(s,a);o+=Il(s,e,n,u,i)}else if(u=pA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+qc(s,a++),o+=Il(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],i=0;return Il(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},Pl={transition:null},vA={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:bd};function F0(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!Md(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Rs;se.Fragment=sA;se.Profiler=aA;se.PureComponent=Dd;se.StrictMode=oA;se.Suspense=hA;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vA;se.act=F0;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)M0.call(e,u)&&!L0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ta,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:uA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lA,_context:t},t.Consumer=t};se.createElement=O0;se.createFactory=function(t){var e=O0.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:cA,render:t}};se.isValidElement=Md;se.lazy=function(t){return{$$typeof:dA,_payload:{_status:-1,_result:t},_init:yA}};se.memo=function(t,e){return{$$typeof:fA,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Pl.transition;Pl.transition={};try{t()}finally{Pl.transition=e}};se.unstable_act=F0;se.useCallback=function(t,e){return Tt.current.useCallback(t,e)};se.useContext=function(t){return Tt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Tt.current.useEffect(t,e)};se.useId=function(){return Tt.current.useId()};se.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Tt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};se.useRef=function(t){return Tt.current.useRef(t)};se.useState=function(t){return Tt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Tt.current.useTransition()};se.version="18.3.1";k0.exports=se;var R=k0.exports;const _A=rA(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wA=R,EA=Symbol.for("react.element"),TA=Symbol.for("react.fragment"),SA=Object.prototype.hasOwnProperty,xA=wA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AA={key:!0,ref:!0,__self:!0,__source:!0};function j0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)SA.call(e,r)&&!AA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EA,type:t,key:s,ref:o,props:i,_owner:xA.current}}Wu.Fragment=TA;Wu.jsx=j0;Wu.jsxs=j0;R0.exports=Wu;var A=R0.exports,Kh={},U0={exports:{}},jt={},B0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,K){var $=B.length;B.push(K);e:for(;0<$;){var ce=$-1>>>1,de=B[ce];if(0<i(de,K))B[ce]=K,B[$]=de,$=ce;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],$=B.pop();if($!==K){B[0]=$;e:for(var ce=0,de=B.length,On=de>>>1;ce<On;){var xt=2*(ce+1)-1,pn=B[xt],Nt=xt+1,mn=B[Nt];if(0>i(pn,$))Nt<de&&0>i(mn,pn)?(B[ce]=mn,B[Nt]=$,ce=Nt):(B[ce]=pn,B[xt]=$,ce=xt);else if(Nt<de&&0>i(mn,$))B[ce]=mn,B[Nt]=$,ce=Nt;else break e}}return K}function i(B,K){var $=B.sortIndex-K.sortIndex;return $!==0?$:B.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,p=3,g=!1,C=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=B)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function D(B){if(I=!1,w(B),!C)if(n(u)!==null)C=!0,Ce(M);else{var K=n(c);K!==null&&ie(D,K.startTime-B)}}function M(B,K){C=!1,I&&(I=!1,_(v),v=-1),g=!0;var $=p;try{for(w(K),d=n(u);d!==null&&(!(d.expirationTime>K)||B&&!V());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,p=d.priorityLevel;var de=ce(d.expirationTime<=K);K=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(u)&&r(u),w(K)}else r(u);d=n(u)}if(d!==null)var On=!0;else{var xt=n(c);xt!==null&&ie(D,xt.startTime-K),On=!1}return On}finally{d=null,p=$,g=!1}}var O=!1,T=null,v=-1,x=5,P=-1;function V(){return!(t.unstable_now()-P<x)}function N(){if(T!==null){var B=t.unstable_now();P=B;var K=!0;try{K=T(!0,B)}finally{K?S():(O=!1,T=null)}}else O=!1}var S;if(typeof y=="function")S=function(){y(N)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,re=Z.port2;Z.port1.onmessage=N,S=function(){re.postMessage(null)}}else S=function(){k(N,0)};function Ce(B){T=B,O||(O=!0,S())}function ie(B,K){v=k(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){C||g||(C=!0,Ce(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var $=p;p=K;try{return B()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=p;p=B;try{return K()}finally{p=$}},t.unstable_scheduleCallback=function(B,K,$){var ce=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=$+de,B={id:h++,callback:K,priorityLevel:B,startTime:$,expirationTime:de,sortIndex:-1},$>ce?(B.sortIndex=$,e(c,B),n(u)===null&&B===n(c)&&(I?(_(v),v=-1):I=!0,ie(D,$-ce))):(B.sortIndex=de,e(u,B),C||g||(C=!0,Ce(M))),B},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(B){var K=p;return function(){var $=p;p=K;try{return B.apply(this,arguments)}finally{p=$}}}})($0);B0.exports=$0;var CA=B0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=R,Ft=CA;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z0=new Set,zo={};function Ti(t,e){fs(t,e),fs(t+"Capture",e)}function fs(t,e){for(zo[t]=e,t=0;t<e.length;t++)z0.add(e[t])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gh=Object.prototype.hasOwnProperty,PA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$g={},zg={};function RA(t){return Gh.call(zg,t)?!0:Gh.call($g,t)?!1:PA.test(t)?zg[t]=!0:($g[t]=!0,!1)}function kA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VA(t,e,n,r){if(e===null||typeof e>"u"||kA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ld=/[\-:]([a-z])/g;function Od(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ld,Od);at[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ld,Od);at[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ld,Od);at[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fd(t,e,n,r){var i=at.hasOwnProperty(e)?at[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VA(e,n,i,r)&&(n=null),r||i===null?RA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rr=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ya=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Fi=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),H0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),Ud=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Yh=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),q0=Symbol.for("react.offscreen"),Hg=Symbol.iterator;function so(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,Kc;function go(t){if(Kc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kc=e&&e[1]||""}return`
`+Kc+t}var Gc=!1;function Qc(t,e){if(!t||Gc)return"";Gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Gc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?go(t):""}function DA(t){switch(t.tag){case 5:return go(t.type);case 16:return go("Lazy");case 13:return go("Suspense");case 19:return go("SuspenseList");case 0:case 2:case 15:return t=Qc(t.type,!1),t;case 11:return t=Qc(t.type.render,!1),t;case 1:return t=Qc(t.type,!0),t;default:return""}}function Jh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fi:return"Fragment";case Oi:return"Portal";case Qh:return"Profiler";case jd:return"StrictMode";case Xh:return"Suspense";case Yh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case W0:return(t.displayName||"Context")+".Consumer";case H0:return(t._context.displayName||"Context")+".Provider";case Ud:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bd:return e=t.displayName||null,e!==null?e:Jh(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return Jh(t(e))}catch{}}return null}function NA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jh(e);case 8:return e===jd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function K0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bA(t){var e=K0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ja(t){t._valueTracker||(t._valueTracker=bA(t))}function G0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zh(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q0(t,e){e=e.checked,e!=null&&Fd(t,"checked",e,!1)}function ef(t,e){Q0(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tf(t,e.type,n):e.hasOwnProperty("defaultValue")&&tf(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tf(t,e,n){(e!=="number"||Jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yo=Array.isArray;function ns(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(yo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function X0(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Za,J0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ho(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MA=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(t){MA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xo[e]=xo[t]})});function Z0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xo.hasOwnProperty(t)&&xo[t]?(""+e).trim():e+"px"}function ew(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Z0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var LA=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sf(t,e){if(e){if(LA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function of(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=null;function $d(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lf=null,rs=null,is=null;function Qg(t){if(t=Aa(t)){if(typeof lf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Xu(e),lf(t.stateNode,t.type,e))}}function tw(t){rs?is?is.push(t):is=[t]:rs=t}function nw(){if(rs){var t=rs,e=is;if(is=rs=null,Qg(t),e)for(t=0;t<e.length;t++)Qg(e[t])}}function rw(t,e){return t(e)}function iw(){}var Xc=!1;function sw(t,e,n){if(Xc)return t(e,n);Xc=!0;try{return rw(t,e,n)}finally{Xc=!1,(rs!==null||is!==null)&&(iw(),nw())}}function Wo(t,e){var n=t.stateNode;if(n===null)return null;var r=Xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var uf=!1;if(Kn)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){uf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{uf=!1}function OA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ao=!1,Zl=null,eu=!1,cf=null,FA={onError:function(t){Ao=!0,Zl=t}};function jA(t,e,n,r,i,s,o,a,u){Ao=!1,Zl=null,OA.apply(FA,arguments)}function UA(t,e,n,r,i,s,o,a,u){if(jA.apply(this,arguments),Ao){if(Ao){var c=Zl;Ao=!1,Zl=null}else throw Error(z(198));eu||(eu=!0,cf=c)}}function Si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ow(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xg(t){if(Si(t)!==t)throw Error(z(188))}function BA(t){var e=t.alternate;if(!e){if(e=Si(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xg(i),t;if(s===r)return Xg(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function aw(t){return t=BA(t),t!==null?lw(t):null}function lw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lw(t);if(e!==null)return e;t=t.sibling}return null}var uw=Ft.unstable_scheduleCallback,Yg=Ft.unstable_cancelCallback,$A=Ft.unstable_shouldYield,zA=Ft.unstable_requestPaint,Be=Ft.unstable_now,HA=Ft.unstable_getCurrentPriorityLevel,zd=Ft.unstable_ImmediatePriority,cw=Ft.unstable_UserBlockingPriority,tu=Ft.unstable_NormalPriority,WA=Ft.unstable_LowPriority,hw=Ft.unstable_IdlePriority,qu=null,Sn=null;function qA(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(qu,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:QA,KA=Math.log,GA=Math.LN2;function QA(t){return t>>>=0,t===0?32:31-(KA(t)/GA|0)|0}var el=64,tl=4194304;function vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=vo(a):(s&=o,s!==0&&(r=vo(s)))}else o=n&~i,o!==0?r=vo(o):s!==0&&(r=vo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),i=1<<n,r|=t[n],e&=~i;return r}function XA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=XA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fw(){var t=el;return el<<=1,!(el&4194240)&&(el=64),t}function Yc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function JA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-un(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function dw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pw,Wd,mw,gw,yw,ff=!1,nl=[],_r=null,wr=null,Er=null,qo=new Map,Ko=new Map,pr=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jg(t,e){switch(t){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":qo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(e.pointerId)}}function ao(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Aa(e),e!==null&&Wd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eC(t,e,n,r,i){switch(e){case"focusin":return _r=ao(_r,t,e,n,r,i),!0;case"dragenter":return wr=ao(wr,t,e,n,r,i),!0;case"mouseover":return Er=ao(Er,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qo.set(s,ao(qo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ko.set(s,ao(Ko.get(s)||null,t,e,n,r,i)),!0}return!1}function vw(t){var e=si(t.target);if(e!==null){var n=Si(e);if(n!==null){if(e=n.tag,e===13){if(e=ow(n),e!==null){t.blockedOn=e,yw(t.priority,function(){mw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=df(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);af=r,n.target.dispatchEvent(r),af=null}else return e=Aa(n),e!==null&&Wd(e),t.blockedOn=n,!1;e.shift()}return!0}function Zg(t,e,n){Rl(t)&&n.delete(e)}function tC(){ff=!1,_r!==null&&Rl(_r)&&(_r=null),wr!==null&&Rl(wr)&&(wr=null),Er!==null&&Rl(Er)&&(Er=null),qo.forEach(Zg),Ko.forEach(Zg)}function lo(t,e){t.blockedOn===e&&(t.blockedOn=null,ff||(ff=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,tC)))}function Go(t){function e(i){return lo(i,t)}if(0<nl.length){lo(nl[0],t);for(var n=1;n<nl.length;n++){var r=nl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_r!==null&&lo(_r,t),wr!==null&&lo(wr,t),Er!==null&&lo(Er,t),qo.forEach(e),Ko.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)vw(n),n.blockedOn===null&&pr.shift()}var ss=rr.ReactCurrentBatchConfig,ru=!0;function nC(t,e,n,r){var i=ye,s=ss.transition;ss.transition=null;try{ye=1,qd(t,e,n,r)}finally{ye=i,ss.transition=s}}function rC(t,e,n,r){var i=ye,s=ss.transition;ss.transition=null;try{ye=4,qd(t,e,n,r)}finally{ye=i,ss.transition=s}}function qd(t,e,n,r){if(ru){var i=df(t,e,n,r);if(i===null)ah(t,e,r,iu,n),Jg(t,r);else if(eC(i,t,e,n,r))r.stopPropagation();else if(Jg(t,r),e&4&&-1<ZA.indexOf(t)){for(;i!==null;){var s=Aa(i);if(s!==null&&pw(s),s=df(t,e,n,r),s===null&&ah(t,e,r,iu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ah(t,e,r,null,n)}}var iu=null;function df(t,e,n,r){if(iu=null,t=$d(r),t=si(t),t!==null)if(e=Si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ow(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function _w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HA()){case zd:return 1;case cw:return 4;case tu:case WA:return 16;case hw:return 536870912;default:return 16}default:return 16}}var gr=null,Kd=null,kl=null;function ww(){if(kl)return kl;var t,e=Kd,n=e.length,r,i="value"in gr?gr.value:gr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return kl=i.slice(t,1<r?1-r:void 0)}function Vl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rl(){return!0}function ey(){return!1}function Ut(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rl:ey,this.isPropagationStopped=ey,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Ut(ks),xa=be({},ks,{view:0,detail:0}),iC=Ut(xa),Jc,Zc,uo,Ku=be({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uo&&(uo&&t.type==="mousemove"?(Jc=t.screenX-uo.screenX,Zc=t.screenY-uo.screenY):Zc=Jc=0,uo=t),Jc)},movementY:function(t){return"movementY"in t?t.movementY:Zc}}),ty=Ut(Ku),sC=be({},Ku,{dataTransfer:0}),oC=Ut(sC),aC=be({},xa,{relatedTarget:0}),eh=Ut(aC),lC=be({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),uC=Ut(lC),cC=be({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hC=Ut(cC),fC=be({},ks,{data:0}),ny=Ut(fC),dC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mC[t])?!!e[t]:!1}function Qd(){return gC}var yC=be({},xa,{key:function(t){if(t.key){var e=dC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(t){return t.type==="keypress"?Vl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vC=Ut(yC),_C=be({},Ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=Ut(_C),wC=be({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),EC=Ut(wC),TC=be({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),SC=Ut(TC),xC=be({},Ku,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AC=Ut(xC),CC=[9,13,27,32],Xd=Kn&&"CompositionEvent"in window,Co=null;Kn&&"documentMode"in document&&(Co=document.documentMode);var IC=Kn&&"TextEvent"in window&&!Co,Ew=Kn&&(!Xd||Co&&8<Co&&11>=Co),iy=" ",sy=!1;function Tw(t,e){switch(t){case"keyup":return CC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function PC(t,e){switch(t){case"compositionend":return Sw(e);case"keypress":return e.which!==32?null:(sy=!0,iy);case"textInput":return t=e.data,t===iy&&sy?null:t;default:return null}}function RC(t,e){if(ji)return t==="compositionend"||!Xd&&Tw(t,e)?(t=ww(),kl=Kd=gr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var kC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kC[t.type]:e==="textarea"}function xw(t,e,n,r){tw(r),e=su(e,"onChange"),0<e.length&&(n=new Gd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Io=null,Qo=null;function VC(t){Mw(t,0)}function Gu(t){var e=$i(t);if(G0(e))return t}function DC(t,e){if(t==="change")return e}var Aw=!1;if(Kn){var th;if(Kn){var nh="oninput"in document;if(!nh){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),nh=typeof ay.oninput=="function"}th=nh}else th=!1;Aw=th&&(!document.documentMode||9<document.documentMode)}function ly(){Io&&(Io.detachEvent("onpropertychange",Cw),Qo=Io=null)}function Cw(t){if(t.propertyName==="value"&&Gu(Qo)){var e=[];xw(e,Qo,t,$d(t)),sw(VC,e)}}function NC(t,e,n){t==="focusin"?(ly(),Io=e,Qo=n,Io.attachEvent("onpropertychange",Cw)):t==="focusout"&&ly()}function bC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Qo)}function MC(t,e){if(t==="click")return Gu(e)}function LC(t,e){if(t==="input"||t==="change")return Gu(e)}function OC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:OC;function Xo(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gh.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function uy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,e){var n=uy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uy(n)}}function Iw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pw(){for(var t=window,e=Jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jl(t.document)}return e}function Yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FC(t){var e=Pw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iw(n.ownerDocument.documentElement,n)){if(r!==null&&Yd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cy(n,s);var o=cy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jC=Kn&&"documentMode"in document&&11>=document.documentMode,Ui=null,pf=null,Po=null,mf=!1;function hy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mf||Ui==null||Ui!==Jl(r)||(r=Ui,"selectionStart"in r&&Yd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Po&&Xo(Po,r)||(Po=r,r=su(pf,"onSelect"),0<r.length&&(e=new Gd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ui)))}function il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bi={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},rh={},Rw={};Kn&&(Rw=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Qu(t){if(rh[t])return rh[t];if(!Bi[t])return t;var e=Bi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rw)return rh[t]=e[n];return t}var kw=Qu("animationend"),Vw=Qu("animationiteration"),Dw=Qu("animationstart"),Nw=Qu("transitionend"),bw=new Map,fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(t,e){bw.set(t,e),Ti(e,[t])}for(var ih=0;ih<fy.length;ih++){var sh=fy[ih],UC=sh.toLowerCase(),BC=sh[0].toUpperCase()+sh.slice(1);zr(UC,"on"+BC)}zr(kw,"onAnimationEnd");zr(Vw,"onAnimationIteration");zr(Dw,"onAnimationStart");zr("dblclick","onDoubleClick");zr("focusin","onFocus");zr("focusout","onBlur");zr(Nw,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("cancel close invalid load scroll toggle".split(" ").concat(_o));function dy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UA(r,e,void 0,t),t.currentTarget=null}function Mw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;dy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;dy(i,a,c),s=u}}}if(eu)throw t=cf,eu=!1,cf=null,t}function Te(t,e){var n=e[wf];n===void 0&&(n=e[wf]=new Set);var r=t+"__bubble";n.has(r)||(Lw(e,t,2,!1),n.add(r))}function oh(t,e,n){var r=0;e&&(r|=4),Lw(n,t,r,e)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Yo(t){if(!t[sl]){t[sl]=!0,z0.forEach(function(n){n!=="selectionchange"&&($C.has(n)||oh(n,!1,t),oh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sl]||(e[sl]=!0,oh("selectionchange",!1,e))}}function Lw(t,e,n,r){switch(_w(e)){case 1:var i=nC;break;case 4:i=rC;break;default:i=qd}n=i.bind(null,e,n,t),i=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ah(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sw(function(){var c=s,h=$d(n),d=[];e:{var p=bw.get(t);if(p!==void 0){var g=Gd,C=t;switch(t){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":g=vC;break;case"focusin":C="focus",g=eh;break;case"focusout":C="blur",g=eh;break;case"beforeblur":case"afterblur":g=eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=oC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=EC;break;case kw:case Vw:case Dw:g=uC;break;case Nw:g=SC;break;case"scroll":g=iC;break;case"wheel":g=AC;break;case"copy":case"cut":case"paste":g=hC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ry}var I=(e&4)!==0,k=!I&&t==="scroll",_=I?p!==null?p+"Capture":null:p;I=[];for(var y=c,w;y!==null;){w=y;var D=w.stateNode;if(w.tag===5&&D!==null&&(w=D,_!==null&&(D=Wo(y,_),D!=null&&I.push(Jo(y,D,w)))),k)break;y=y.return}0<I.length&&(p=new g(p,C,null,n,h),d.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==af&&(C=n.relatedTarget||n.fromElement)&&(si(C)||C[Gn]))break e;if((g||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=c,C=C?si(C):null,C!==null&&(k=Si(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(g=null,C=c),g!==C)){if(I=ty,D="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=ry,D="onPointerLeave",_="onPointerEnter",y="pointer"),k=g==null?p:$i(g),w=C==null?p:$i(C),p=new I(D,y+"leave",g,n,h),p.target=k,p.relatedTarget=w,D=null,si(h)===c&&(I=new I(_,y+"enter",C,n,h),I.target=w,I.relatedTarget=k,D=I),k=D,g&&C)t:{for(I=g,_=C,y=0,w=I;w;w=Di(w))y++;for(w=0,D=_;D;D=Di(D))w++;for(;0<y-w;)I=Di(I),y--;for(;0<w-y;)_=Di(_),w--;for(;y--;){if(I===_||_!==null&&I===_.alternate)break t;I=Di(I),_=Di(_)}I=null}else I=null;g!==null&&py(d,p,g,I,!1),C!==null&&k!==null&&py(d,k,C,I,!0)}}e:{if(p=c?$i(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=DC;else if(oy(p))if(Aw)M=LC;else{M=bC;var O=NC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=MC);if(M&&(M=M(t,c))){xw(d,M,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&tf(p,"number",p.value)}switch(O=c?$i(c):window,t){case"focusin":(oy(O)||O.contentEditable==="true")&&(Ui=O,pf=c,Po=null);break;case"focusout":Po=pf=Ui=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,hy(d,n,h);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":hy(d,n,h)}var T;if(Xd)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ji?Tw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ew&&n.locale!=="ko"&&(ji||v!=="onCompositionStart"?v==="onCompositionEnd"&&ji&&(T=ww()):(gr=h,Kd="value"in gr?gr.value:gr.textContent,ji=!0)),O=su(c,v),0<O.length&&(v=new ny(v,t,null,n,h),d.push({event:v,listeners:O}),T?v.data=T:(T=Sw(n),T!==null&&(v.data=T)))),(T=IC?PC(t,n):RC(t,n))&&(c=su(c,"onBeforeInput"),0<c.length&&(h=new ny("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=T))}Mw(d,e)})}function Jo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function su(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wo(t,n),s!=null&&r.unshift(Jo(t,s,i)),s=Wo(t,e),s!=null&&r.push(Jo(t,s,i))),t=t.return}return r}function Di(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function py(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Wo(n,s),u!=null&&o.unshift(Jo(n,u,a))):i||(u=Wo(n,s),u!=null&&o.push(Jo(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zC=/\r\n?/g,HC=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(zC,`
`).replace(HC,"")}function ol(t,e,n){if(e=my(e),my(t)!==e&&n)throw Error(z(425))}function ou(){}var gf=null,yf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,WC=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,qC=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(t){return gy.resolve(null).then(t).catch(KC)}:_f;function KC(t){setTimeout(function(){throw t})}function lh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Go(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Go(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vs=Math.random().toString(36).slice(2),En="__reactFiber$"+Vs,Zo="__reactProps$"+Vs,Gn="__reactContainer$"+Vs,wf="__reactEvents$"+Vs,GC="__reactListeners$"+Vs,QC="__reactHandles$"+Vs;function si(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gn]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=yy(t);t!==null;){if(n=t[En])return n;t=yy(t)}return e}t=n,n=t.parentNode}return null}function Aa(t){return t=t[En]||t[Gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Xu(t){return t[Zo]||null}var Ef=[],zi=-1;function Hr(t){return{current:t}}function Ae(t){0>zi||(t.current=Ef[zi],Ef[zi]=null,zi--)}function _e(t,e){zi++,Ef[zi]=t.current,t.current=e}var br={},gt=Hr(br),kt=Hr(!1),mi=br;function ds(t,e){var n=t.type.contextTypes;if(!n)return br;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function au(){Ae(kt),Ae(gt)}function vy(t,e,n){if(gt.current!==br)throw Error(z(168));_e(gt,e),_e(kt,n)}function Ow(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,NA(t)||"Unknown",i));return be({},n,r)}function lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,mi=gt.current,_e(gt,t),_e(kt,kt.current),!0}function _y(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Ow(t,e,mi),r.__reactInternalMemoizedMergedChildContext=t,Ae(kt),Ae(gt),_e(gt,t)):Ae(kt),_e(kt,n)}var Bn=null,Yu=!1,uh=!1;function Fw(t){Bn===null?Bn=[t]:Bn.push(t)}function XC(t){Yu=!0,Fw(t)}function Wr(){if(!uh&&Bn!==null){uh=!0;var t=0,e=ye;try{var n=Bn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bn=null,Yu=!1}catch(i){throw Bn!==null&&(Bn=Bn.slice(t+1)),uw(zd,Wr),i}finally{ye=e,uh=!1}}return null}var Hi=[],Wi=0,uu=null,cu=0,Ht=[],Wt=0,gi=null,$n=1,zn="";function ti(t,e){Hi[Wi++]=cu,Hi[Wi++]=uu,uu=t,cu=e}function jw(t,e,n){Ht[Wt++]=$n,Ht[Wt++]=zn,Ht[Wt++]=gi,gi=t;var r=$n;t=zn;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$n=1<<32-un(e)+i|n<<i|r,zn=s+t}else $n=1<<s|n<<i|r,zn=t}function Jd(t){t.return!==null&&(ti(t,1),jw(t,1,0))}function Zd(t){for(;t===uu;)uu=Hi[--Wi],Hi[Wi]=null,cu=Hi[--Wi],Hi[Wi]=null;for(;t===gi;)gi=Ht[--Wt],Ht[Wt]=null,zn=Ht[--Wt],Ht[Wt]=null,$n=Ht[--Wt],Ht[Wt]=null}var Ot=null,Lt=null,Pe=!1,on=null;function Uw(t,e){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gi!==null?{id:$n,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,Lt=null,!0):!1;default:return!1}}function Tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sf(t){if(Pe){var e=Lt;if(e){var n=e;if(!wy(t,e)){if(Tf(t))throw Error(z(418));e=Tr(n.nextSibling);var r=Ot;e&&wy(t,e)?Uw(r,n):(t.flags=t.flags&-4097|2,Pe=!1,Ot=t)}}else{if(Tf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Pe=!1,Ot=t}}}function Ey(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function al(t){if(t!==Ot)return!1;if(!Pe)return Ey(t),Pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=Lt)){if(Tf(t))throw Bw(),Error(z(418));for(;e;)Uw(t,e),e=Tr(e.nextSibling)}if(Ey(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=Tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ot?Tr(t.stateNode.nextSibling):null;return!0}function Bw(){for(var t=Lt;t;)t=Tr(t.nextSibling)}function ps(){Lt=Ot=null,Pe=!1}function ep(t){on===null?on=[t]:on.push(t)}var YC=rr.ReactCurrentBatchConfig;function co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function ll(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ty(t){var e=t._init;return e(t._payload)}function $w(t){function e(_,y){if(t){var w=_.deletions;w===null?(_.deletions=[y],_.flags|=16):w.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Cr(_,y),_.index=0,_.sibling=null,_}function s(_,y,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<y?(_.flags|=2,y):w):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,w,D){return y===null||y.tag!==6?(y=gh(w,_.mode,D),y.return=_,y):(y=i(y,w),y.return=_,y)}function u(_,y,w,D){var M=w.type;return M===Fi?h(_,y,w.props.children,D,w.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===fr&&Ty(M)===y.type)?(D=i(y,w.props),D.ref=co(_,y,w),D.return=_,D):(D=Fl(w.type,w.key,w.props,null,_.mode,D),D.ref=co(_,y,w),D.return=_,D)}function c(_,y,w,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=yh(w,_.mode,D),y.return=_,y):(y=i(y,w.children||[]),y.return=_,y)}function h(_,y,w,D,M){return y===null||y.tag!==7?(y=fi(w,_.mode,D,M),y.return=_,y):(y=i(y,w),y.return=_,y)}function d(_,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gh(""+y,_.mode,w),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ya:return w=Fl(y.type,y.key,y.props,null,_.mode,w),w.ref=co(_,null,y),w.return=_,w;case Oi:return y=yh(y,_.mode,w),y.return=_,y;case fr:var D=y._init;return d(_,D(y._payload),w)}if(yo(y)||so(y))return y=fi(y,_.mode,w,null),y.return=_,y;ll(_,y)}return null}function p(_,y,w,D){var M=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(_,y,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ya:return w.key===M?u(_,y,w,D):null;case Oi:return w.key===M?c(_,y,w,D):null;case fr:return M=w._init,p(_,y,M(w._payload),D)}if(yo(w)||so(w))return M!==null?null:h(_,y,w,D,null);ll(_,w)}return null}function g(_,y,w,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(w)||null,a(y,_,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ya:return _=_.get(D.key===null?w:D.key)||null,u(y,_,D,M);case Oi:return _=_.get(D.key===null?w:D.key)||null,c(y,_,D,M);case fr:var O=D._init;return g(_,y,w,O(D._payload),M)}if(yo(D)||so(D))return _=_.get(w)||null,h(y,_,D,M,null);ll(y,D)}return null}function C(_,y,w,D){for(var M=null,O=null,T=y,v=y=0,x=null;T!==null&&v<w.length;v++){T.index>v?(x=T,T=null):x=T.sibling;var P=p(_,T,w[v],D);if(P===null){T===null&&(T=x);break}t&&T&&P.alternate===null&&e(_,T),y=s(P,y,v),O===null?M=P:O.sibling=P,O=P,T=x}if(v===w.length)return n(_,T),Pe&&ti(_,v),M;if(T===null){for(;v<w.length;v++)T=d(_,w[v],D),T!==null&&(y=s(T,y,v),O===null?M=T:O.sibling=T,O=T);return Pe&&ti(_,v),M}for(T=r(_,T);v<w.length;v++)x=g(T,_,v,w[v],D),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?v:x.key),y=s(x,y,v),O===null?M=x:O.sibling=x,O=x);return t&&T.forEach(function(V){return e(_,V)}),Pe&&ti(_,v),M}function I(_,y,w,D){var M=so(w);if(typeof M!="function")throw Error(z(150));if(w=M.call(w),w==null)throw Error(z(151));for(var O=M=null,T=y,v=y=0,x=null,P=w.next();T!==null&&!P.done;v++,P=w.next()){T.index>v?(x=T,T=null):x=T.sibling;var V=p(_,T,P.value,D);if(V===null){T===null&&(T=x);break}t&&T&&V.alternate===null&&e(_,T),y=s(V,y,v),O===null?M=V:O.sibling=V,O=V,T=x}if(P.done)return n(_,T),Pe&&ti(_,v),M;if(T===null){for(;!P.done;v++,P=w.next())P=d(_,P.value,D),P!==null&&(y=s(P,y,v),O===null?M=P:O.sibling=P,O=P);return Pe&&ti(_,v),M}for(T=r(_,T);!P.done;v++,P=w.next())P=g(T,_,v,P.value,D),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?v:P.key),y=s(P,y,v),O===null?M=P:O.sibling=P,O=P);return t&&T.forEach(function(N){return e(_,N)}),Pe&&ti(_,v),M}function k(_,y,w,D){if(typeof w=="object"&&w!==null&&w.type===Fi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ya:e:{for(var M=w.key,O=y;O!==null;){if(O.key===M){if(M=w.type,M===Fi){if(O.tag===7){n(_,O.sibling),y=i(O,w.props.children),y.return=_,_=y;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===fr&&Ty(M)===O.type){n(_,O.sibling),y=i(O,w.props),y.ref=co(_,O,w),y.return=_,_=y;break e}n(_,O);break}else e(_,O);O=O.sibling}w.type===Fi?(y=fi(w.props.children,_.mode,D,w.key),y.return=_,_=y):(D=Fl(w.type,w.key,w.props,null,_.mode,D),D.ref=co(_,y,w),D.return=_,_=D)}return o(_);case Oi:e:{for(O=w.key;y!==null;){if(y.key===O)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(_,y.sibling),y=i(y,w.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=yh(w,_.mode,D),y.return=_,_=y}return o(_);case fr:return O=w._init,k(_,y,O(w._payload),D)}if(yo(w))return C(_,y,w,D);if(so(w))return I(_,y,w,D);ll(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,w),y.return=_,_=y):(n(_,y),y=gh(w,_.mode,D),y.return=_,_=y),o(_)):n(_,y)}return k}var ms=$w(!0),zw=$w(!1),hu=Hr(null),fu=null,qi=null,tp=null;function np(){tp=qi=fu=null}function rp(t){var e=hu.current;Ae(hu),t._currentValue=e}function xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function os(t,e){fu=t,tp=qi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(tp!==t)if(t={context:t,memoizedValue:e,next:null},qi===null){if(fu===null)throw Error(z(308));qi=t,fu.dependencies={lanes:0,firstContext:t}}else qi=qi.next=t;return e}var oi=null;function ip(t){oi===null?oi=[t]:oi.push(t)}function Hw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ip(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qn(t,r)}function Qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ww(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qn(t,n)}return i=r.interleaved,i===null?(e.next=e,ip(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qn(t,n)}function Dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hd(t,n)}}function Sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var i=t.updateQueue;dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,I=a;switch(p=e,g=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){d=C.call(g,d,p);break e}d=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,p=typeof C=="function"?C.call(g,d,p):C,p==null)break e;d=be({},d,p);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=d):h=h.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);vi|=o,t.lanes=o,t.memoizedState=d}}function xy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Ca={},xn=Hr(Ca),ea=Hr(Ca),ta=Hr(Ca);function ai(t){if(t===Ca)throw Error(z(174));return t}function op(t,e){switch(_e(ta,e),_e(ea,t),_e(xn,Ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rf(e,t)}Ae(xn),_e(xn,e)}function gs(){Ae(xn),Ae(ea),Ae(ta)}function qw(t){ai(ta.current);var e=ai(xn.current),n=rf(e,t.type);e!==n&&(_e(ea,t),_e(xn,n))}function ap(t){ea.current===t&&(Ae(xn),Ae(ea))}var Ve=Hr(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ch=[];function lp(){for(var t=0;t<ch.length;t++)ch[t]._workInProgressVersionPrimary=null;ch.length=0}var Nl=rr.ReactCurrentDispatcher,hh=rr.ReactCurrentBatchConfig,yi=0,Ne=null,Ke=null,Ze=null,mu=!1,Ro=!1,na=0,JC=0;function ut(){throw Error(z(321))}function up(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function cp(t,e,n,r,i,s){if(yi=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nl.current=t===null||t.memoizedState===null?nI:rI,t=n(r,i),Ro){s=0;do{if(Ro=!1,na=0,25<=s)throw Error(z(301));s+=1,Ze=Ke=null,e.updateQueue=null,Nl.current=iI,t=n(r,i)}while(Ro)}if(Nl.current=gu,e=Ke!==null&&Ke.next!==null,yi=0,Ze=Ke=Ne=null,mu=!1,e)throw Error(z(300));return t}function hp(){var t=na!==0;return na=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Zt(){if(Ke===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=Ze===null?Ne.memoizedState:Ze.next;if(e!==null)Ze=e,Ke=t;else{if(t===null)throw Error(z(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Ze===null?Ne.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function ra(t,e){return typeof e=="function"?e(t):e}function fh(t){var e=Zt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((yi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=r):u=u.next=d,Ne.lanes|=h,vi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,hn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ne.lanes|=s,vi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dh(t){var e=Zt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hn(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Kw(){}function Gw(t,e){var n=Ne,r=Zt(),i=e(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Pt=!0),r=r.queue,fp(Yw.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ia(9,Xw.bind(null,n,r,i,e),void 0,null),et===null)throw Error(z(349));yi&30||Qw(n,e,i)}return i}function Qw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xw(t,e,n,r){e.value=n,e.getSnapshot=r,Jw(e)&&Zw(t)}function Yw(t,e,n){return n(function(){Jw(e)&&Zw(t)})}function Jw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function Zw(t){var e=Qn(t,1);e!==null&&cn(e,t,1,-1)}function Ay(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:t},e.queue=t,t=t.dispatch=tI.bind(null,Ne,t),[e.memoizedState,t]}function ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eE(){return Zt().memoizedState}function bl(t,e,n,r){var i=_n();Ne.flags|=t,i.memoizedState=ia(1|e,n,void 0,r===void 0?null:r)}function Ju(t,e,n,r){var i=Zt();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&up(r,o.deps)){i.memoizedState=ia(e,n,s,r);return}}Ne.flags|=t,i.memoizedState=ia(1|e,n,s,r)}function Cy(t,e){return bl(8390656,8,t,e)}function fp(t,e){return Ju(2048,8,t,e)}function tE(t,e){return Ju(4,2,t,e)}function nE(t,e){return Ju(4,4,t,e)}function rE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iE(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4,4,rE.bind(null,e,t),n)}function dp(){}function sE(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&up(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oE(t,e){var n=Zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&up(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aE(t,e,n){return yi&21?(hn(n,e)||(n=fw(),Ne.lanes|=n,vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function ZC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=hh.transition;hh.transition={};try{t(!1),e()}finally{ye=n,hh.transition=r}}function lE(){return Zt().memoizedState}function eI(t,e,n){var r=Ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uE(t))cE(e,n);else if(n=Hw(t,e,n,r),n!==null){var i=Et();cn(n,t,r,i),hE(n,e,r)}}function tI(t,e,n){var r=Ar(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uE(t))cE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,o)){var u=e.interleaved;u===null?(i.next=i,ip(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Hw(t,e,i,r),n!==null&&(i=Et(),cn(n,t,r,i),hE(n,e,r))}}function uE(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function cE(t,e){Ro=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hd(t,n)}}var gu={readContext:Jt,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},nI={readContext:Jt,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:Cy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bl(4194308,4,rE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return bl(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eI.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:Ay,useDebugValue:dp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=Ay(!1),e=t[0];return t=ZC.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,i=_n();if(Pe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),et===null)throw Error(z(349));yi&30||Qw(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Cy(Yw.bind(null,r,s,t),[t]),r.flags|=2048,ia(9,Xw.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_n(),e=et.identifierPrefix;if(Pe){var n=zn,r=$n;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=na++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rI={readContext:Jt,useCallback:sE,useContext:Jt,useEffect:fp,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:oE,useReducer:fh,useRef:eE,useState:function(){return fh(ra)},useDebugValue:dp,useDeferredValue:function(t){var e=Zt();return aE(e,Ke.memoizedState,t)},useTransition:function(){var t=fh(ra)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Kw,useSyncExternalStore:Gw,useId:lE,unstable_isNewReconciler:!1},iI={readContext:Jt,useCallback:sE,useContext:Jt,useEffect:fp,useImperativeHandle:iE,useInsertionEffect:tE,useLayoutEffect:nE,useMemo:oE,useReducer:dh,useRef:eE,useState:function(){return dh(ra)},useDebugValue:dp,useDeferredValue:function(t){var e=Zt();return Ke===null?e.memoizedState=t:aE(e,Ke.memoizedState,t)},useTransition:function(){var t=dh(ra)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:Kw,useSyncExternalStore:Gw,useId:lE,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zu={isMounted:function(t){return(t=t._reactInternals)?Si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Ar(t),s=Hn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,i),e!==null&&(cn(e,t,i,r),Dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Ar(t),s=Hn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Sr(t,s,i),e!==null&&(cn(e,t,i,r),Dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=Ar(t),i=Hn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sr(t,i,r),e!==null&&(cn(e,t,r,n),Dl(e,t,r))}};function Iy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xo(n,r)||!Xo(i,s):!0}function fE(t,e,n){var r=!1,i=br,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(i=Vt(e)?mi:gt.current,r=e.contextTypes,s=(r=r!=null)?ds(t,i):br),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Py(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zu.enqueueReplaceState(e,e.state,null)}function Cf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},sp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jt(s):(s=Vt(e)?mi:gt.current,i.context=ds(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Af(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zu.enqueueReplaceState(i,i.state,null),du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ys(t,e){try{var n="",r=e;do n+=DA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ph(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function If(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sI=typeof WeakMap=="function"?WeakMap:Map;function dE(t,e,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vu||(vu=!0,Of=r),If(t,e)},n}function pE(t,e,n){n=Hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){If(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){If(t,e),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_I.bind(null,t,e,n),e.then(t,t))}function ky(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Vy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hn(-1,1),e.tag=2,Sr(n,e,1))),n.lanes|=1),t)}var oI=rr.ReactCurrentOwner,Pt=!1;function _t(t,e,n,r){e.child=t===null?zw(e,null,n,r):ms(e,t.child,n,r)}function Dy(t,e,n,r,i){n=n.render;var s=e.ref;return os(e,i),r=cp(t,e,n,r,s,i),n=hp(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Pe&&n&&Jd(e),e.flags|=1,_t(t,e,r,i),e.child)}function Ny(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ep(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mE(t,e,s,r,i)):(t=Fl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(o,r)&&t.ref===e.ref)return Xn(t,e,i)}return e.flags|=1,t=Cr(s,r),t.ref=e.ref,t.return=e,e.child=t}function mE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xo(s,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Xn(t,e,i)}return Pf(t,e,n,r,i)}function gE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Gi,Mt),Mt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Gi,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(Gi,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_e(Gi,Mt),Mt|=r;return _t(t,e,i,n),e.child}function yE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,n,r,i){var s=Vt(n)?mi:gt.current;return s=ds(e,s),os(e,i),n=cp(t,e,n,r,s,i),r=hp(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Pe&&r&&Jd(e),e.flags|=1,_t(t,e,n,i),e.child)}function by(t,e,n,r,i){if(Vt(n)){var s=!0;lu(e)}else s=!1;if(os(e,i),e.stateNode===null)Ml(t,e),fE(e,n,r),Cf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=Vt(n)?mi:gt.current,c=ds(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Py(e,o,r,c),dr=!1;var p=e.memoizedState;o.state=p,du(e,r,o,i),u=e.memoizedState,a!==r||p!==u||kt.current||dr?(typeof h=="function"&&(Af(e,n,h,r),u=e.memoizedState),(a=dr||Iy(e,n,a,r,p,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ww(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rn(e.type,a),o.props=c,d=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jt(u):(u=Vt(n)?mi:gt.current,u=ds(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==u)&&Py(e,o,r,u),dr=!1,p=e.memoizedState,o.state=p,du(e,r,o,i);var C=e.memoizedState;a!==d||p!==C||kt.current||dr?(typeof g=="function"&&(Af(e,n,g,r),C=e.memoizedState),(c=dr||Iy(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Rf(t,e,n,r,s,i)}function Rf(t,e,n,r,i,s){yE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_y(e,n,!1),Xn(t,e,s);r=e.stateNode,oI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ms(e,t.child,null,s),e.child=ms(e,null,a,s)):_t(t,e,a,s),e.memoizedState=r.state,i&&_y(e,n,!0),e.child}function vE(t){var e=t.stateNode;e.pendingContext?vy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vy(t,e.context,!1),op(t,e.containerInfo)}function My(t,e,n,r,i){return ps(),ep(i),e.flags|=256,_t(t,e,n,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function _E(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ve,i&1),t===null)return Sf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=nc(o,r,0,null),t=fi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vf(n),e.memoizedState=kf,t):pp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Cr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Cr(a,s):(s=fi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=kf,r}return s=t.child,t=s.sibling,r=Cr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pp(t,e){return e=nc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ul(t,e,n,r){return r!==null&&ep(r),ms(e,t.child,null,n),t=pp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ph(Error(z(422))),ul(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=nc({mode:"visible",children:r.children},i,0,null),s=fi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ms(e,t.child,null,o),e.child.memoizedState=Vf(o),e.memoizedState=kf,s);if(!(e.mode&1))return ul(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=ph(s,r,void 0),ul(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pt||a){if(r=et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qn(t,i),cn(r,t,i,-1))}return wp(),r=ph(Error(z(421))),ul(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lt=Tr(i.nextSibling),Ot=e,Pe=!0,on=null,t!==null&&(Ht[Wt++]=$n,Ht[Wt++]=zn,Ht[Wt++]=gi,$n=t.id,zn=t.overflow,gi=e),e=pp(e,r.children),e.flags|=4096,e)}function Ly(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xf(t.return,e,n)}function mh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_t(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ly(t,n,e);else if(t.tag===19)Ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mh(e,!0,n,null,s);break;case"together":mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lI(t,e,n){switch(e.tag){case 3:vE(e),ps();break;case 5:qw(e);break;case 1:Vt(e.type)&&lu(e);break;case 4:op(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(hu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?_E(t,e,n):(_e(Ve,Ve.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);_e(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,gE(t,e,n)}return Xn(t,e,n)}var EE,Df,TE,SE;EE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Df=function(){};TE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ai(xn.current);var s=null;switch(n){case"input":i=Zh(t,i),r=Zh(t,r),s=[];break;case"select":i=be({},i,{value:void 0}),r=be({},r,{value:void 0}),s=[];break;case"textarea":i=nf(t,i),r=nf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}sf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Te("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SE=function(t,e,n,r){n!==r&&(e.flags|=4)};function ho(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ct(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uI(t,e,n){var r=e.pendingProps;switch(Zd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(e),null;case 1:return Vt(e.type)&&au(),ct(e),null;case 3:return r=e.stateNode,gs(),Ae(kt),Ae(gt),lp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Uf(on),on=null))),Df(t,e),ct(e),null;case 5:ap(e);var i=ai(ta.current);if(n=e.type,t!==null&&e.stateNode!=null)TE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return ct(e),null}if(t=ai(xn.current),al(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[En]=e,r[Zo]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<_o.length;i++)Te(_o[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Wg(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":Kg(r,s),Te("invalid",r)}sf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ol(r.textContent,a,t),i=["children",""+a]):zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":Ja(r),qg(r,s,!0);break;case"textarea":Ja(r),Gg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ou)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[En]=e,t[Zo]=r,EE(t,e,!1,!1),e.stateNode=t;e:{switch(o=of(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<_o.length;i++)Te(_o[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":Wg(t,r),i=Zh(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=be({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Kg(t,r),i=nf(t,r),Te("invalid",t);break;default:i=r}sf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ew(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&J0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ho(t,u):typeof u=="number"&&Ho(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Te("scroll",t):u!=null&&Fd(t,s,u,o))}switch(n){case"input":Ja(t),qg(t,r,!1);break;case"textarea":Ja(t),Gg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ns(t,!!r.multiple,s,!1):r.defaultValue!=null&&ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ct(e),null;case 6:if(t&&e.stateNode!=null)SE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ai(ta.current),ai(xn.current),al(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(s=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:ol(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ol(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return ct(e),null;case 13:if(Ae(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pe&&Lt!==null&&e.mode&1&&!(e.flags&128))Bw(),ps(),e.flags|=98560,s=!1;else if(s=al(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[En]=e}else ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ct(e),s=!1}else on!==null&&(Uf(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?Qe===0&&(Qe=3):wp())),e.updateQueue!==null&&(e.flags|=4),ct(e),null);case 4:return gs(),Df(t,e),t===null&&Yo(e.stateNode.containerInfo),ct(e),null;case 10:return rp(e.type._context),ct(e),null;case 17:return Vt(e.type)&&au(),ct(e),null;case 19:if(Ae(Ve),s=e.memoizedState,s===null)return ct(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ho(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=128,ho(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>vs&&(e.flags|=128,r=!0,ho(s,!1),e.lanes=4194304)}else{if(!r)if(t=pu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ho(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pe)return ct(e),null}else 2*Be()-s.renderingStartTime>vs&&n!==1073741824&&(e.flags|=128,r=!0,ho(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=Ve.current,_e(Ve,r?n&1|2:n&1),e):(ct(e),null);case 22:case 23:return _p(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ct(e),e.subtreeFlags&6&&(e.flags|=8192)):ct(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function cI(t,e){switch(Zd(e),e.tag){case 1:return Vt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gs(),Ae(kt),Ae(gt),lp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ap(e),null;case 13:if(Ae(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Ve),null;case 4:return gs(),null;case 10:return rp(e.type._context),null;case 22:case 23:return _p(),null;case 24:return null;default:return null}}var cl=!1,dt=!1,hI=typeof WeakSet=="function"?WeakSet:Set,q=null;function Ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fe(t,e,r)}else n.current=null}function Nf(t,e,n){try{n()}catch(r){Fe(t,e,r)}}var Oy=!1;function fI(t,e){if(gf=ru,t=Pw(),Yd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=t,p=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(u=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:t,selectionRange:n},ru=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,k=C.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:rn(e.type,I),k);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Fe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return C=Oy,Oy=!1,C}function ko(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nf(e,n,s)}i=i.next}while(i!==r)}}function ec(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xE(t){var e=t.alternate;e!==null&&(t.alternate=null,xE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[Zo],delete e[wf],delete e[GC],delete e[QC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AE(t){return t.tag===5||t.tag===3||t.tag===4}function Fy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(Mf(t,e,n),t=t.sibling;t!==null;)Mf(t,e,n),t=t.sibling}function Lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Lf(t,e,n),t=t.sibling;t!==null;)Lf(t,e,n),t=t.sibling}var tt=null,sn=!1;function cr(t,e,n){for(n=n.child;n!==null;)CE(t,e,n),n=n.sibling}function CE(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(qu,n)}catch{}switch(n.tag){case 5:dt||Ki(n,e);case 6:var r=tt,i=sn;tt=null,cr(t,e,n),tt=r,sn=i,tt!==null&&(sn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(sn?(t=tt,n=n.stateNode,t.nodeType===8?lh(t.parentNode,n):t.nodeType===1&&lh(t,n),Go(t)):lh(tt,n.stateNode));break;case 4:r=tt,i=sn,tt=n.stateNode.containerInfo,sn=!0,cr(t,e,n),tt=r,sn=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nf(n,e,o),i=i.next}while(i!==r)}cr(t,e,n);break;case 1:if(!dt&&(Ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fe(n,e,a)}cr(t,e,n);break;case 21:cr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,cr(t,e,n),dt=r):cr(t,e,n);break;default:cr(t,e,n)}}function jy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hI),e.forEach(function(r){var i=EI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,sn=!1;break e;case 3:tt=a.stateNode.containerInfo,sn=!0;break e;case 4:tt=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(tt===null)throw Error(z(160));CE(s,o,i),tt=null,sn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Fe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IE(e,t),e=e.sibling}function IE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),vn(t),r&4){try{ko(3,t,t.return),ec(3,t)}catch(I){Fe(t,t.return,I)}try{ko(5,t,t.return)}catch(I){Fe(t,t.return,I)}}break;case 1:tn(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(tn(e,t),vn(t),r&512&&n!==null&&Ki(n,n.return),t.flags&32){var i=t.stateNode;try{Ho(i,"")}catch(I){Fe(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Q0(i,s),of(a,o);var c=of(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?ew(i,d):h==="dangerouslySetInnerHTML"?J0(i,d):h==="children"?Ho(i,d):Fd(i,h,d,c)}switch(a){case"input":ef(i,s);break;case"textarea":X0(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ns(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?ns(i,!!s.multiple,s.defaultValue,!0):ns(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zo]=s}catch(I){Fe(t,t.return,I)}}break;case 6:if(tn(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){Fe(t,t.return,I)}}break;case 3:if(tn(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Go(e.containerInfo)}catch(I){Fe(t,t.return,I)}break;case 4:tn(e,t),vn(t);break;case 13:tn(e,t),vn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yp=Be())),r&4&&jy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(c=dt)||h,tn(e,t),dt=c):tn(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(d=q=h;q!==null;){switch(p=q,g=p.child,p.tag){case 0:case 11:case 14:case 15:ko(4,p,p.return);break;case 1:Ki(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){Fe(r,n,I)}}break;case 5:Ki(p,p.return);break;case 22:if(p.memoizedState!==null){By(d);continue}}g!==null?(g.return=p,q=g):By(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Z0("display",o))}catch(I){Fe(t,t.return,I)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(I){Fe(t,t.return,I)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(e,t),vn(t),r&4&&jy(t);break;case 21:break;default:tn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ho(i,""),r.flags&=-33);var s=Fy(t);Lf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Fy(t);Mf(t,a,o);break;default:throw Error(z(161))}}catch(u){Fe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dI(t,e,n){q=t,PE(t)}function PE(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||cl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||dt;a=cl;var c=dt;if(cl=o,(dt=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?$y(i):u!==null?(u.return=o,q=u):$y(i);for(;s!==null;)q=s,PE(s),s=s.sibling;q=i,cl=a,dt=c}Uy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Uy(t)}}function Uy(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||ec(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Go(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}dt||e.flags&512&&bf(e)}catch(p){Fe(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function By(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function $y(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ec(4,e)}catch(u){Fe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Fe(e,i,u)}}var s=e.return;try{bf(e)}catch(u){Fe(e,s,u)}break;case 5:var o=e.return;try{bf(e)}catch(u){Fe(e,o,u)}}}catch(u){Fe(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var pI=Math.ceil,yu=rr.ReactCurrentDispatcher,mp=rr.ReactCurrentOwner,Xt=rr.ReactCurrentBatchConfig,he=0,et=null,He=null,ot=0,Mt=0,Gi=Hr(0),Qe=0,sa=null,vi=0,tc=0,gp=0,Vo=null,It=null,yp=0,vs=1/0,Un=null,vu=!1,Of=null,xr=null,hl=!1,yr=null,_u=0,Do=0,Ff=null,Ll=-1,Ol=0;function Et(){return he&6?Be():Ll!==-1?Ll:Ll=Be()}function Ar(t){return t.mode&1?he&2&&ot!==0?ot&-ot:YC.transition!==null?(Ol===0&&(Ol=fw()),Ol):(t=ye,t!==0||(t=window.event,t=t===void 0?16:_w(t.type)),t):1}function cn(t,e,n,r){if(50<Do)throw Do=0,Ff=null,Error(z(185));Sa(t,n,r),(!(he&2)||t!==et)&&(t===et&&(!(he&2)&&(tc|=n),Qe===4&&mr(t,ot)),Dt(t,r),n===1&&he===0&&!(e.mode&1)&&(vs=Be()+500,Yu&&Wr()))}function Dt(t,e){var n=t.callbackNode;YA(t,e);var r=nu(t,t===et?ot:0);if(r===0)n!==null&&Yg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Yg(n),e===1)t.tag===0?XC(zy.bind(null,t)):Fw(zy.bind(null,t)),qC(function(){!(he&6)&&Wr()}),n=null;else{switch(dw(r)){case 1:n=zd;break;case 4:n=cw;break;case 16:n=tu;break;case 536870912:n=hw;break;default:n=tu}n=LE(n,RE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RE(t,e){if(Ll=-1,Ol=0,he&6)throw Error(z(327));var n=t.callbackNode;if(as()&&t.callbackNode!==n)return null;var r=nu(t,t===et?ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wu(t,r);else{e=r;var i=he;he|=2;var s=VE();(et!==t||ot!==e)&&(Un=null,vs=Be()+500,hi(t,e));do try{yI();break}catch(a){kE(t,a)}while(!0);np(),yu.current=s,he=i,He!==null?e=0:(et=null,ot=0,e=Qe)}if(e!==0){if(e===2&&(i=hf(t),i!==0&&(r=i,e=jf(t,i))),e===1)throw n=sa,hi(t,0),mr(t,r),Dt(t,Be()),n;if(e===6)mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!mI(i)&&(e=wu(t,r),e===2&&(s=hf(t),s!==0&&(r=s,e=jf(t,s))),e===1))throw n=sa,hi(t,0),mr(t,r),Dt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:ni(t,It,Un);break;case 3:if(mr(t,r),(r&130023424)===r&&(e=yp+500-Be(),10<e)){if(nu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_f(ni.bind(null,t,It,Un),e);break}ni(t,It,Un);break;case 4:if(mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-un(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pI(r/1960))-r,10<r){t.timeoutHandle=_f(ni.bind(null,t,It,Un),r);break}ni(t,It,Un);break;case 5:ni(t,It,Un);break;default:throw Error(z(329))}}}return Dt(t,Be()),t.callbackNode===n?RE.bind(null,t):null}function jf(t,e){var n=Vo;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=wu(t,e),t!==2&&(e=It,It=n,e!==null&&Uf(e)),t}function Uf(t){It===null?It=t:It.push.apply(It,t)}function mI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mr(t,e){for(e&=~gp,e&=~tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function zy(t){if(he&6)throw Error(z(327));as();var e=nu(t,0);if(!(e&1))return Dt(t,Be()),null;var n=wu(t,e);if(t.tag!==0&&n===2){var r=hf(t);r!==0&&(e=r,n=jf(t,r))}if(n===1)throw n=sa,hi(t,0),mr(t,e),Dt(t,Be()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,It,Un),Dt(t,Be()),null}function vp(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(vs=Be()+500,Yu&&Wr())}}function _i(t){yr!==null&&yr.tag===0&&!(he&6)&&as();var e=he;he|=1;var n=Xt.transition,r=ye;try{if(Xt.transition=null,ye=1,t)return t()}finally{ye=r,Xt.transition=n,he=e,!(he&6)&&Wr()}}function _p(){Mt=Gi.current,Ae(Gi)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,WC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Zd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:gs(),Ae(kt),Ae(gt),lp();break;case 5:ap(r);break;case 4:gs();break;case 13:Ae(Ve);break;case 19:Ae(Ve);break;case 10:rp(r.type._context);break;case 22:case 23:_p()}n=n.return}if(et=t,He=t=Cr(t.current,null),ot=Mt=e,Qe=0,sa=null,gp=tc=vi=0,It=Vo=null,oi!==null){for(e=0;e<oi.length;e++)if(n=oi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}oi=null}return t}function kE(t,e){do{var n=He;try{if(np(),Nl.current=gu,mu){for(var r=Ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(yi=0,Ze=Ke=Ne=null,Ro=!1,na=0,mp.current=null,n===null||n.return===null){Qe=1,sa=e,He=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ot,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=ky(o);if(g!==null){g.flags&=-257,Vy(g,o,a,s,e),g.mode&1&&Ry(s,c,e),e=g,u=c;var C=e.updateQueue;if(C===null){var I=new Set;I.add(u),e.updateQueue=I}else C.add(u);break e}else{if(!(e&1)){Ry(s,c,e),wp();break e}u=Error(z(426))}}else if(Pe&&a.mode&1){var k=ky(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Vy(k,o,a,s,e),ep(ys(u,a));break e}}s=u=ys(u,a),Qe!==4&&(Qe=2),Vo===null?Vo=[s]:Vo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=dE(s,u,e);Sy(s,_);break e;case 1:a=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xr===null||!xr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=pE(s,a,e);Sy(s,D);break e}}s=s.return}while(s!==null)}NE(n)}catch(M){e=M,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function VE(){var t=yu.current;return yu.current=gu,t===null?gu:t}function wp(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(vi&268435455)&&!(tc&268435455)||mr(et,ot)}function wu(t,e){var n=he;he|=2;var r=VE();(et!==t||ot!==e)&&(Un=null,hi(t,e));do try{gI();break}catch(i){kE(t,i)}while(!0);if(np(),he=n,yu.current=r,He!==null)throw Error(z(261));return et=null,ot=0,Qe}function gI(){for(;He!==null;)DE(He)}function yI(){for(;He!==null&&!$A();)DE(He)}function DE(t){var e=ME(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?NE(t):He=e,mp.current=null}function NE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cI(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=uI(n,e,Mt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function ni(t,e,n){var r=ye,i=Xt.transition;try{Xt.transition=null,ye=1,vI(t,e,n,r)}finally{Xt.transition=i,ye=r}return null}function vI(t,e,n,r){do as();while(yr!==null);if(he&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JA(t,s),t===et&&(He=et=null,ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,LE(tu,function(){return as(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xt.transition,Xt.transition=null;var o=ye;ye=1;var a=he;he|=4,mp.current=null,fI(t,n),IE(n,t),FC(yf),ru=!!gf,yf=gf=null,t.current=n,dI(n),zA(),he=a,ye=o,Xt.transition=s}else t.current=n;if(hl&&(hl=!1,yr=t,_u=i),s=t.pendingLanes,s===0&&(xr=null),qA(n.stateNode),Dt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,t=Of,Of=null,t;return _u&1&&t.tag!==0&&as(),s=t.pendingLanes,s&1?t===Ff?Do++:(Do=0,Ff=t):Do=0,Wr(),null}function as(){if(yr!==null){var t=dw(_u),e=Xt.transition,n=ye;try{if(Xt.transition=null,ye=16>t?16:t,yr===null)var r=!1;else{if(t=yr,yr=null,_u=0,he&6)throw Error(z(331));var i=he;for(he|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:ko(8,h,s)}var d=h.child;if(d!==null)d.return=h,q=d;else for(;q!==null;){h=q;var p=h.sibling,g=h.return;if(xE(h),h===c){q=null;break}if(p!==null){p.return=g,q=p;break}q=g}}}var C=s.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ko(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,q=_;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ec(9,a)}}catch(M){Fe(a,a.return,M)}if(a===o){q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,q=D;break e}q=a.return}}if(he=i,Wr(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(qu,t)}catch{}r=!0}return r}finally{ye=n,Xt.transition=e}}return!1}function Hy(t,e,n){e=ys(n,e),e=dE(t,e,1),t=Sr(t,e,1),e=Et(),t!==null&&(Sa(t,1,e),Dt(t,e))}function Fe(t,e,n){if(t.tag===3)Hy(t,t,n);else for(;e!==null;){if(e.tag===3){Hy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){t=ys(n,t),t=pE(e,t,1),e=Sr(e,t,1),t=Et(),e!==null&&(Sa(e,1,t),Dt(e,t));break}}e=e.return}}function _I(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(ot&n)===n&&(Qe===4||Qe===3&&(ot&130023424)===ot&&500>Be()-yp?hi(t,0):gp|=n),Dt(t,e)}function bE(t,e){e===0&&(t.mode&1?(e=tl,tl<<=1,!(tl&130023424)&&(tl=4194304)):e=1);var n=Et();t=Qn(t,e),t!==null&&(Sa(t,e,n),Dt(t,n))}function wI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bE(t,n)}function EI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),bE(t,n)}var ME;ME=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,lI(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Pe&&e.flags&1048576&&jw(e,cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ml(t,e),t=e.pendingProps;var i=ds(e,gt.current);os(e,n),i=cp(null,e,r,t,i,n);var s=hp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,lu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sp(e),i.updater=Zu,e.stateNode=i,i._reactInternals=e,Cf(e,r,t,n),e=Rf(null,e,r,!0,s,n)):(e.tag=0,Pe&&s&&Jd(e),_t(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ml(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SI(r),t=rn(r,t),i){case 0:e=Pf(null,e,r,t,n);break e;case 1:e=by(null,e,r,t,n);break e;case 11:e=Dy(null,e,r,t,n);break e;case 14:e=Ny(null,e,r,rn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Pf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),by(t,e,r,i,n);case 3:e:{if(vE(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ww(t,e),du(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ys(Error(z(423)),e),e=My(t,e,r,n,i);break e}else if(r!==i){i=ys(Error(z(424)),e),e=My(t,e,r,n,i);break e}else for(Lt=Tr(e.stateNode.containerInfo.firstChild),Ot=e,Pe=!0,on=null,n=zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===i){e=Xn(t,e,n);break e}_t(t,e,r,n)}e=e.child}return e;case 5:return qw(e),t===null&&Sf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vf(r,i)?o=null:s!==null&&vf(r,s)&&(e.flags|=32),yE(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&Sf(e),null;case 13:return _E(t,e,n);case 4:return op(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ms(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Dy(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_e(hu,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!kt.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Hn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),xf(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,os(e,n),i=Jt(i),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return r=e.type,i=rn(r,e.pendingProps),i=rn(r.type,i),Ny(t,e,r,i,n);case 15:return mE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rn(r,i),Ml(t,e),e.tag=1,Vt(r)?(t=!0,lu(e)):t=!1,os(e,n),fE(e,r,i),Cf(e,r,i,n),Rf(null,e,r,!0,t,n);case 19:return wE(t,e,n);case 22:return gE(t,e,n)}throw Error(z(156,e.tag))};function LE(t,e){return uw(t,e)}function TI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,n,r){return new TI(t,e,n,r)}function Ep(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SI(t){if(typeof t=="function")return Ep(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ud)return 11;if(t===Bd)return 14}return 2}function Cr(t,e){var n=t.alternate;return n===null?(n=Gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ep(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fi:return fi(n.children,i,s,e);case jd:o=8,i|=8;break;case Qh:return t=Gt(12,n,e,i|2),t.elementType=Qh,t.lanes=s,t;case Xh:return t=Gt(13,n,e,i),t.elementType=Xh,t.lanes=s,t;case Yh:return t=Gt(19,n,e,i),t.elementType=Yh,t.lanes=s,t;case q0:return nc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H0:o=10;break e;case W0:o=9;break e;case Ud:o=11;break e;case Bd:o=14;break e;case fr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Gt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function fi(t,e,n,r){return t=Gt(7,t,r,e),t.lanes=n,t}function nc(t,e,n,r){return t=Gt(22,t,r,e),t.elementType=q0,t.lanes=n,t.stateNode={isHidden:!1},t}function gh(t,e,n){return t=Gt(6,t,null,e),t.lanes=n,t}function yh(t,e,n){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tp(t,e,n,r,i,s,o,a,u){return t=new xI(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(s),t}function AI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OE(t){if(!t)return br;t=t._reactInternals;e:{if(Si(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Vt(n))return Ow(t,n,e)}return e}function FE(t,e,n,r,i,s,o,a,u){return t=Tp(n,r,!0,t,i,s,o,a,u),t.context=OE(null),n=t.current,r=Et(),i=Ar(n),s=Hn(r,i),s.callback=e??null,Sr(n,s,i),t.current.lanes=i,Sa(t,i,r),Dt(t,r),t}function rc(t,e,n,r){var i=e.current,s=Et(),o=Ar(i);return n=OE(n),e.context===null?e.context=n:e.pendingContext=n,e=Hn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sr(i,e,o),t!==null&&(cn(t,i,o,s),Dl(t,i,o)),o}function Eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sp(t,e){Wy(t,e),(t=t.alternate)&&Wy(t,e)}function CI(){return null}var jE=typeof reportError=="function"?reportError:function(t){console.error(t)};function xp(t){this._internalRoot=t}ic.prototype.render=xp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));rc(t,e,null,null)};ic.prototype.unmount=xp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){rc(null,t,null,null)}),e[Gn]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=gw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&vw(t)}};function Ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qy(){}function II(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Eu(o);s.call(c)}}var o=FE(e,r,t,0,null,!1,!1,"",qy);return t._reactRootContainer=o,t[Gn]=o.current,Yo(t.nodeType===8?t.parentNode:t),_i(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Eu(u);a.call(c)}}var u=Tp(t,0,!1,null,null,!1,!1,"",qy);return t._reactRootContainer=u,t[Gn]=u.current,Yo(t.nodeType===8?t.parentNode:t),_i(function(){rc(e,u,n,r)}),u}function oc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Eu(o);a.call(u)}}rc(e,o,t,i)}else o=II(n,e,t,i,r);return Eu(o)}pw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vo(e.pendingLanes);n!==0&&(Hd(e,n|1),Dt(e,Be()),!(he&6)&&(vs=Be()+500,Wr()))}break;case 13:_i(function(){var r=Qn(t,1);if(r!==null){var i=Et();cn(r,t,1,i)}}),Sp(t,1)}};Wd=function(t){if(t.tag===13){var e=Qn(t,134217728);if(e!==null){var n=Et();cn(e,t,134217728,n)}Sp(t,134217728)}};mw=function(t){if(t.tag===13){var e=Ar(t),n=Qn(t,e);if(n!==null){var r=Et();cn(n,t,e,r)}Sp(t,e)}};gw=function(){return ye};yw=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};lf=function(t,e,n){switch(e){case"input":if(ef(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xu(r);if(!i)throw Error(z(90));G0(r),ef(r,i)}}}break;case"textarea":X0(t,n);break;case"select":e=n.value,e!=null&&ns(t,!!n.multiple,e,!1)}};rw=vp;iw=_i;var PI={usingClientEntryPoint:!1,Events:[Aa,$i,Xu,tw,nw,vp]},fo={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:fo.bundleType,version:fo.version,rendererPackageName:fo.rendererPackageName,rendererConfig:fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aw(t),t===null?null:t.stateNode},findFiberByHostInstance:fo.findFiberByHostInstance||CI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{qu=fl.inject(RI),Sn=fl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ap(e))throw Error(z(200));return AI(t,e,null,n)};jt.createRoot=function(t,e){if(!Ap(t))throw Error(z(299));var n=!1,r="",i=jE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tp(t,1,!1,null,null,n,!1,r,i),t[Gn]=e.current,Yo(t.nodeType===8?t.parentNode:t),new xp(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=aw(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return _i(t)};jt.hydrate=function(t,e,n){if(!sc(e))throw Error(z(200));return oc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Ap(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FE(e,null,t,1,n??null,i,!1,s,o),t[Gn]=e.current,Yo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ic(e)};jt.render=function(t,e,n){if(!sc(e))throw Error(z(200));return oc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!sc(t))throw Error(z(40));return t._reactRootContainer?(_i(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[Gn]=null})}),!0):!1};jt.unstable_batchedUpdates=vp;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sc(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return oc(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function UE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UE)}catch(t){console.error(t)}}UE(),U0.exports=jt;var kI=U0.exports,Ky=kI;Kh.createRoot=Ky.createRoot,Kh.hydrateRoot=Ky.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gy="popstate";function VI(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Bf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oa(i)}return NI(e,n,null,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DI(){return Math.random().toString(36).substring(2,10)}function Qy(t,e){return{usr:t.state,key:t.key,idx:e}}function Bf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ds(e):e,state:n,key:e&&e.key||r||DI()}}function oa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ds(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function NI(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let k=h(),_=k==null?null:k-c;c=k,u&&u({action:a,location:I.location,delta:_})}function p(k,_){a="PUSH";let y=Bf(I.location,k,_);c=h()+1;let w=Qy(y,c),D=I.createHref(y);try{o.pushState(w,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}s&&u&&u({action:a,location:I.location,delta:1})}function g(k,_){a="REPLACE";let y=Bf(I.location,k,_);c=h();let w=Qy(y,c),D=I.createHref(y);o.replaceState(w,"",D),s&&u&&u({action:a,location:I.location,delta:0})}function C(k){return bI(k)}let I={get action(){return a},get location(){return t(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Gy,d),u=k,()=>{i.removeEventListener(Gy,d),u=null}},createHref(k){return e(i,k)},createURL:C,encodeLocation(k){let _=C(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:g,go(k){return o.go(k)}};return I}function bI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ke(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function BE(t,e,n="/"){return MI(t,e,n,!1)}function MI(t,e,n,r){let i=typeof e=="string"?Ds(e):e,s=Yn(i.pathname||"/",n);if(s==null)return null;let o=$E(t);LI(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=KI(s);a=WI(o[u],c,r)}return a}function $E(t,e=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;ke(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let d=Wn([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(ke(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),$E(o.children,e,p,d,u)),!(o.path==null&&!o.index)&&e.push({path:d,score:zI(d,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of zE(o.path))s(o,a,!0,c)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function LI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OI=/^:[\w-]+$/,FI=3,jI=2,UI=1,BI=10,$I=-2,Xy=t=>t==="*";function zI(t,e){let n=t.split("/"),r=n.length;return n.some(Xy)&&(r+=$I),e&&(r+=jI),n.filter(i=>!Xy(i)).reduce((i,s)=>i+(OI.test(s)?FI:s===""?UI:BI),r)}function HI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WI(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Tu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Tu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Wn([s,d.pathname]),pathnameBase:YI(Wn([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Wn([s,d.pathnameBase]))}return o}function Tu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:d},p)=>{if(h==="*"){let C=a[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const g=a[p];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function qI(t,e=!1,n=!0){fn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Yn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function GI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ds(t):t;return{pathname:n?n.startsWith("/")?n:QI(n,e):e,search:JI(r),hash:ZI(i)}}function QI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cp(t){let e=XI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ip(t,e,n,r=!1){let i;typeof t=="string"?i=Ds(t):(i={...t},ke(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}a=d>=0?e[d]:"/"}let u=GI(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),YI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var tP=["GET",...HE];new Set(tP);var Ns=R.createContext(null);Ns.displayName="DataRouter";var ac=R.createContext(null);ac.displayName="DataRouterState";R.createContext(!1);var WE=R.createContext({isTransitioning:!1});WE.displayName="ViewTransition";var nP=R.createContext(new Map);nP.displayName="Fetchers";var rP=R.createContext(null);rP.displayName="Await";var dn=R.createContext(null);dn.displayName="Navigation";var Ia=R.createContext(null);Ia.displayName="Location";var bn=R.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var Pp=R.createContext(null);Pp.displayName="RouteError";function iP(t,{relative:e}={}){ke(bs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(dn),{hash:i,pathname:s,search:o}=Pa(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Wn([n,s])),r.createHref({pathname:a,search:o,hash:i})}function bs(){return R.useContext(Ia)!=null}function qr(){return ke(bs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ia).location}var qE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(t){R.useContext(dn).static||R.useLayoutEffect(t)}function GE(){let{isDataRoute:t}=R.useContext(bn);return t?yP():sP()}function sP(){ke(bs(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Ns),{basename:e,navigator:n}=R.useContext(dn),{matches:r}=R.useContext(bn),{pathname:i}=qr(),s=JSON.stringify(Cp(r)),o=R.useRef(!1);return KE(()=>{o.current=!0}),R.useCallback((u,c={})=>{if(fn(o.current,qE),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Ip(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wn([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}R.createContext(null);function Pa(t,{relative:e}={}){let{matches:n}=R.useContext(bn),{pathname:r}=qr(),i=JSON.stringify(Cp(n));return R.useMemo(()=>Ip(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function oP(t,e){return QE(t,e)}function QE(t,e,n,r,i){var y;ke(bs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=R.useContext(dn),{matches:o}=R.useContext(bn),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let w=d&&d.path||"";XE(c,!d||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=qr(),g;if(e){let w=typeof e=="string"?Ds(e):e;ke(h==="/"||((y=w.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),g=w}else g=p;let C=g.pathname||"/",I=C;if(h!=="/"){let w=h.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(w.length).join("/")}let k=BE(t,{pathname:I});fn(d||k!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),fn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=hP(k&&k.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Wn([h,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Wn([h,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,i);return e&&_?R.createElement(Ia.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function aP(){let t=gP(),e=eP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:s},"ErrorBoundary")," or"," ",R.createElement("code",{style:s},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,o)}var lP=R.createElement(aP,null),uP=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(bn.Provider,{value:this.props.routeContext},R.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cP({routeContext:t,match:e,children:n}){let r=R.useContext(Ns);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(bn.Provider,{value:t},n)}function hP(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);ke(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:p}=n,g=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let p,g=!1,C=null,I=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,C=h.route.errorElement||lP,a&&(u<0&&d===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,I=null):u===d&&(g=!0,I=h.route.hydrateFallbackElement||null)));let k=e.concat(s.slice(0,d+1)),_=()=>{let y;return p?y=C:g?y=I:h.route.Component?y=R.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,R.createElement(cP,{match:h,routeContext:{outlet:c,matches:k,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?R.createElement(uP,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):_()},null)}function Rp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fP(t){let e=R.useContext(Ns);return ke(e,Rp(t)),e}function dP(t){let e=R.useContext(ac);return ke(e,Rp(t)),e}function pP(t){let e=R.useContext(bn);return ke(e,Rp(t)),e}function kp(t){let e=pP(t),n=e.matches[e.matches.length-1];return ke(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function mP(){return kp("useRouteId")}function gP(){var r;let t=R.useContext(Pp),e=dP("useRouteError"),n=kp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function yP(){let{router:t}=fP("useNavigate"),e=kp("useNavigate"),n=R.useRef(!1);return KE(()=>{n.current=!0}),R.useCallback(async(i,s={})=>{fn(n.current,qE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Yy={};function XE(t,e,n){!e&&!Yy[t]&&(Yy[t]=!0,fn(!1,n))}R.memo(vP);function vP({routes:t,future:e,state:n,unstable_onError:r}){return QE(t,void 0,n,r,e)}function _P({to:t,replace:e,state:n,relative:r}){ke(bs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(dn);fn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=R.useContext(bn),{pathname:o}=qr(),a=GE(),u=Ip(t,Cp(s),o,r==="path"),c=JSON.stringify(u);return R.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function jl(t){ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ke(!bs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=R.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Ds(n));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:p="default"}=n,g=R.useMemo(()=>{let C=Yn(u,o);return C==null?null:{location:{pathname:C,search:c,hash:h,state:d,key:p},navigationType:r}},[o,u,c,h,d,p,r]);return fn(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:R.createElement(dn.Provider,{value:a},R.createElement(Ia.Provider,{children:e,value:g}))}function EP({children:t,location:e}){return oP($f(t),e)}function $f(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let s=[...e,i];if(r.type===R.Fragment){n.push.apply(n,$f(r.props.children,s));return}ke(r.type===jl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ke(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=$f(r.props.children,s)),n.push(o)}),n}var Ul="get",Bl="application/x-www-form-urlencoded";function lc(t){return t!=null&&typeof t.tagName=="string"}function TP(t){return lc(t)&&t.tagName.toLowerCase()==="button"}function SP(t){return lc(t)&&t.tagName.toLowerCase()==="form"}function xP(t){return lc(t)&&t.tagName.toLowerCase()==="input"}function AP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CP(t,e){return t.button===0&&(!e||e==="_self")&&!AP(t)}var dl=null;function IP(){if(dl===null)try{new FormData(document.createElement("form"),0),dl=!1}catch{dl=!0}return dl}var PP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _h(t){return t!=null&&!PP.has(t)?(fn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bl}"`),null):t}function RP(t,e){let n,r,i,s,o;if(SP(t)){let a=t.getAttribute("action");r=a?Yn(a,e):null,n=t.getAttribute("method")||Ul,i=_h(t.getAttribute("enctype"))||Bl,s=new FormData(t)}else if(TP(t)||xP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?Yn(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Ul,i=_h(t.getAttribute("formenctype"))||_h(a.getAttribute("enctype"))||Bl,s=new FormData(a,t),!IP()){let{name:c,type:h,value:d}=t;if(h==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,d)}}else{if(lc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ul,r=null,i=Bl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Yn(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function VP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function NP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await VP(s,n);return o.links?o.links():[]}return[]}));return OP(r.flat(1).filter(DP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jy(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var d;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function bP(t,e,{includeHydrateFallback:n}={}){return MP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MP(t){return[...new Set(t)]}function LP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function OP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(LP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function YE(){let t=R.useContext(Ns);return Vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FP(){let t=R.useContext(ac);return Vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dp=R.createContext(void 0);Dp.displayName="FrameworkContext";function JE(){let t=R.useContext(Dp);return Vp(t,"You must render this element inside a <HydratedRouter> element"),t}function jP(t,e){let n=R.useContext(Dp),[r,i]=R.useState(!1),[s,o]=R.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,p=R.useRef(null);R.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=_=>{_.forEach(y=>{o(y.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[t]),R.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let g=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:po(a,g),onBlur:po(u,C),onMouseEnter:po(c,g),onMouseLeave:po(h,C),onTouchStart:po(d,g)}]:[!1,p,{}]}function po(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UP({page:t,...e}){let{router:n}=YE(),r=R.useMemo(()=>BE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement($P,{page:t,matches:r,...e}):null}function BP(t){let{manifest:e,routeModules:n}=JE(),[r,i]=R.useState([]);return R.useEffect(()=>{let s=!1;return NP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function $P({page:t,matches:e,...n}){let r=qr(),{manifest:i,routeModules:s}=JE(),{basename:o}=YE(),{loaderData:a,matches:u}=FP(),c=R.useMemo(()=>Jy(t,e,u,i,r,"data"),[t,e,u,i,r]),h=R.useMemo(()=>Jy(t,e,u,i,r,"assets"),[t,e,u,i,r]),d=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(_=>{var w;let y=i.routes[_.route.id];!y||!y.hasLoader||(!c.some(D=>D.route.id===_.route.id)&&_.route.id in a&&((w=s[_.route.id])!=null&&w.shouldRevalidate)||y.hasClientLoader?I=!0:C.add(_.route.id))}),C.size===0)return[];let k=kP(t,o,"data");return I&&C.size>0&&k.searchParams.set("_routes",e.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,e,t,s]),p=R.useMemo(()=>bP(h,i),[h,i]),g=BP(h);return R.createElement(R.Fragment,null,d.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),p.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),g.map(({key:C,link:I})=>R.createElement("link",{key:C,nonce:n.nonce,...I})))}function zP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZE&&(window.__reactRouterVersion="7.9.5")}catch{}function HP({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=VI({window:n,v5Compat:!0}));let i=r.current,[s,o]=R.useState({action:i.action,location:i.location}),a=R.useCallback(u=>{R.startTransition(()=>o(u))},[o]);return R.useLayoutEffect(()=>i.listen(a),[i,a]),R.createElement(wP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t1=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:d,...p},g){let{basename:C}=R.useContext(dn),I=typeof c=="string"&&e1.test(c),k,_=!1;if(typeof c=="string"&&I&&(k=c,ZE))try{let x=new URL(window.location.href),P=c.startsWith("//")?new URL(x.protocol+c):new URL(c),V=Yn(P.pathname,C);P.origin===x.origin&&V!=null?c=V+P.search+P.hash:_=!0}catch{fn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=iP(c,{relative:i}),[w,D,M]=jP(r,p),O=GP(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:d});function T(x){e&&e(x),x.defaultPrevented||O(x)}let v=R.createElement("a",{...p,...M,href:k||y,onClick:_||s?e:T,ref:zP(g,D),target:u,"data-discover":!I&&n==="render"?"true":void 0});return w&&!I?R.createElement(R.Fragment,null,v,R.createElement(UP,{page:y})):v});t1.displayName="Link";var WP=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let d=Pa(o,{relative:c.relative}),p=qr(),g=R.useContext(ac),{navigator:C,basename:I}=R.useContext(dn),k=g!=null&&ZP(d)&&a===!0,_=C.encodeLocation?C.encodeLocation(d).pathname:d.pathname,y=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&I&&(w=Yn(w,I)||w);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=y===_||!i&&y.startsWith(_)&&y.charAt(D)==="/",O=w!=null&&(w===_||!i&&w.startsWith(_)&&w.charAt(_.length)==="/"),T={isActive:M,isPending:O,isTransitioning:k},v=M?e:void 0,x;typeof r=="function"?x=r(T):x=[r,M?"active":null,O?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(T):s;return R.createElement(t1,{...c,"aria-current":v,className:x,ref:h,style:P,to:o,viewTransition:a},typeof u=="function"?u(T):u)});WP.displayName="NavLink";var qP=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ul,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:d,...p},g)=>{let C=YP(),I=JP(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&e1.test(a),y=w=>{if(u&&u(w),w.defaultPrevented)return;w.preventDefault();let D=w.nativeEvent.submitter,M=(D==null?void 0:D.getAttribute("formmethod"))||o;C(D||w.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:d})};return R.createElement("form",{ref:g,method:k,action:I,onSubmit:r?u:y,...p,"data-discover":!_&&t==="render"?"true":void 0})});qP.displayName="Form";function KP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n1(t){let e=R.useContext(Ns);return ke(e,KP(t)),e}function GP(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=GE(),u=qr(),c=Pa(t,{relative:s});return R.useCallback(h=>{if(CP(h,e)){h.preventDefault();let d=n!==void 0?n:oa(u)===oa(c);a(t,{replace:d,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,e,t,i,s,o])}var QP=0,XP=()=>`__${String(++QP)}__`;function YP(){let{router:t}=n1("useSubmit"),{basename:e}=R.useContext(dn),n=mP();return R.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=RP(r,e);if(i.navigate===!1){let h=i.fetcherKey||XP();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function JP(t,{relative:e}={}){let{basename:n}=R.useContext(dn),r=R.useContext(bn);ke(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Pa(t||".",{relative:e})},o=qr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Wn([n,s.pathname])),oa(s)}function ZP(t,{relative:e}={}){let n=R.useContext(WE);ke(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=n1("useViewTransitionState"),i=Pa(t,{relative:e});if(!n.isTransitioning)return!1;let s=Yn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tu(i.pathname,o)!=null||Tu(i.pathname,s)!=null}const Np=R.createContext({});function bp(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mp=typeof window<"u",r1=Mp?R.useLayoutEffect:R.useEffect,uc=R.createContext(null);function Lp(t,e){t.indexOf(e)===-1&&t.push(e)}function Op(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Jn=(t,e,n)=>n>e?e:n<t?t:n;let Fp=()=>{};const Zn={},i1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function s1(t){return typeof t=="object"&&t!==null}const o1=t=>/^0[^.\s]+$/u.test(t);function jp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yt=t=>t,eR=(t,e)=>n=>e(t(n)),Ra=(...t)=>t.reduce(eR),aa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Up{constructor(){this.subscriptions=[]}add(e){return Lp(this.subscriptions,e),()=>Op(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const An=t=>t*1e3,Qt=t=>t/1e3;function a1(t,e){return e?t*(1e3/e):0}const l1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tR=1e-7,nR=12;function rR(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=l1(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>tR&&++a<nR);return o}function ka(t,e,n,r){if(t===e&&n===r)return Yt;const i=s=>rR(s,0,1,t,n);return s=>s===0||s===1?s:l1(i(s),e,r)}const u1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,c1=t=>e=>1-t(1-e),h1=ka(.33,1.53,.69,.99),Bp=c1(h1),f1=u1(Bp),d1=t=>(t*=2)<1?.5*Bp(t):.5*(2-Math.pow(2,-10*(t-1))),$p=t=>1-Math.sin(Math.acos(t)),p1=c1($p),m1=u1($p),iR=ka(.42,0,1,1),sR=ka(0,0,.58,1),g1=ka(.42,0,.58,1),oR=t=>Array.isArray(t)&&typeof t[0]!="number",y1=t=>Array.isArray(t)&&typeof t[0]=="number",aR={linear:Yt,easeIn:iR,easeInOut:g1,easeOut:sR,circIn:$p,circInOut:m1,circOut:p1,backIn:Bp,backInOut:f1,backOut:h1,anticipate:d1},lR=t=>typeof t=="string",Zy=t=>{if(y1(t)){Fp(t.length===4);const[e,n,r,i]=t;return ka(e,n,r,i)}else if(lR(t))return aR[t];return t},pl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uR(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,d=!1,p=!1)=>{const C=p&&i?n:r;return d&&o.add(h),C.has(h)||C.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const cR=40;function v1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=pl.reduce((w,D)=>(w[D]=uR(s),w),{}),{setup:a,read:u,resolveKeyframes:c,preUpdate:h,update:d,preRender:p,render:g,postRender:C}=o,I=()=>{const w=Zn.useManualTiming?i.timestamp:performance.now();n=!1,Zn.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,cR),1)),i.timestamp=w,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),d.process(i),p.process(i),g.process(i),C.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},k=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:pl.reduce((w,D)=>{const M=o[D];return w[D]=(O,T=!1,v=!1)=>(n||k(),M.schedule(O,T,v)),w},{}),cancel:w=>{for(let D=0;D<pl.length;D++)o[pl[D]].cancel(w)},state:i,steps:o}}const{schedule:Re,cancel:Mr,state:nt,steps:wh}=v1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0);let $l;function hR(){$l=void 0}const Rt={now:()=>($l===void 0&&Rt.set(nt.isProcessing||Zn.useManualTiming?nt.timestamp:performance.now()),$l),set:t=>{$l=t,queueMicrotask(hR)}},_1=t=>e=>typeof e=="string"&&e.startsWith(t),zp=_1("--"),fR=_1("var(--"),Hp=t=>fR(t)?dR.test(t.split("/*")[0].trim()):!1,dR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ms={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},la={...Ms,transform:t=>Jn(0,1,t)},ml={...Ms,default:1},No=t=>Math.round(t*1e5)/1e5,Wp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pR(t){return t==null}const mR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qp=(t,e)=>n=>!!(typeof n=="string"&&mR.test(n)&&n.startsWith(t)||e&&!pR(n)&&Object.prototype.hasOwnProperty.call(n,e)),w1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Wp);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},gR=t=>Jn(0,255,t),Eh={...Ms,transform:t=>Math.round(gR(t))},li={test:qp("rgb","red"),parse:w1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Eh.transform(t)+", "+Eh.transform(e)+", "+Eh.transform(n)+", "+No(la.transform(r))+")"};function yR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zf={test:qp("#"),parse:yR,transform:li.transform},Va=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hr=Va("deg"),Cn=Va("%"),J=Va("px"),vR=Va("vh"),_R=Va("vw"),ev={...Cn,parse:t=>Cn.parse(t)/100,transform:t=>Cn.transform(t*100)},Qi={test:qp("hsl","hue"),parse:w1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cn.transform(No(e))+", "+Cn.transform(No(n))+", "+No(la.transform(r))+")"},ze={test:t=>li.test(t)||zf.test(t)||Qi.test(t),parse:t=>li.test(t)?li.parse(t):Qi.test(t)?Qi.parse(t):zf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?li.transform(t):Qi.transform(t),getAnimatableNone:t=>{const e=ze.parse(t);return e.alpha=0,ze.transform(e)}},wR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ER(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Wp))==null?void 0:e.length)||0)+(((n=t.match(wR))==null?void 0:n.length)||0)>0}const E1="number",T1="color",TR="var",SR="var(",tv="${}",xR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ua(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(xR,u=>(ze.test(u)?(r.color.push(s),i.push(T1),n.push(ze.parse(u))):u.startsWith(SR)?(r.var.push(s),i.push(TR),n.push(u)):(r.number.push(s),i.push(E1),n.push(parseFloat(u))),++s,tv)).split(tv);return{values:n,split:a,indexes:r,types:i}}function S1(t){return ua(t).values}function x1(t){const{split:e,types:n}=ua(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===E1?s+=No(i[o]):a===T1?s+=ze.transform(i[o]):s+=i[o]}return s}}const AR=t=>typeof t=="number"?0:ze.test(t)?ze.getAnimatableNone(t):t;function CR(t){const e=S1(t);return x1(t)(e.map(AR))}const Lr={test:ER,parse:S1,createTransformer:x1,getAnimatableNone:CR};function Th(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=Th(u,a,t+1/3),s=Th(u,a,t),o=Th(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Su(t,e){return n=>n>0?e:t}const De=(t,e,n)=>t+(e-t)*n,Sh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},PR=[zf,li,Qi],RR=t=>PR.find(e=>e.test(t));function nv(t){const e=RR(t);if(!e)return!1;let n=e.parse(t);return e===Qi&&(n=IR(n)),n}const rv=(t,e)=>{const n=nv(t),r=nv(e);if(!n||!r)return Su(t,e);const i={...n};return s=>(i.red=Sh(n.red,r.red,s),i.green=Sh(n.green,r.green,s),i.blue=Sh(n.blue,r.blue,s),i.alpha=De(n.alpha,r.alpha,s),li.transform(i))},Hf=new Set(["none","hidden"]);function kR(t,e){return Hf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function VR(t,e){return n=>De(t,e,n)}function Kp(t){return typeof t=="number"?VR:typeof t=="string"?Hp(t)?Su:ze.test(t)?rv:bR:Array.isArray(t)?A1:typeof t=="object"?ze.test(t)?rv:DR:Su}function A1(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Kp(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function DR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Kp(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function NR(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const bR=(t,e)=>{const n=Lr.createTransformer(e),r=ua(t),i=ua(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Hf.has(t)&&!i.values.length||Hf.has(e)&&!r.values.length?kR(t,e):Ra(A1(NR(r,i),i.values),n):Su(t,e)};function C1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?De(t,e,n):Kp(t)(t,e)}const MR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Re.update(e,n),stop:()=>Mr(e),now:()=>nt.isProcessing?nt.timestamp:Rt.now()}},I1=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xu=2e4;function Gp(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xu;)e+=n,r=t.next(e);return e>=xu?1/0:e}function LR(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Gp(r),xu);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Qt(i)}}const OR=5;function P1(t,e,n){const r=Math.max(e-OR,0);return a1(n-t(r),e-r)}const Oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xh=.001;function FR({duration:t=Oe.duration,bounce:e=Oe.bounce,velocity:n=Oe.velocity,mass:r=Oe.mass}){let i,s,o=1-e;o=Jn(Oe.minDamping,Oe.maxDamping,o),t=Jn(Oe.minDuration,Oe.maxDuration,Qt(t)),o<1?(i=c=>{const h=c*o,d=h*t,p=h-n,g=Wf(c,o),C=Math.exp(-d);return xh-p/g*C},s=c=>{const d=c*o*t,p=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,C=Math.exp(-d),I=Wf(Math.pow(c,2),o);return(-i(c)+xh>0?-1:1)*((p-g)*C)/I}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-xh+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,u=UR(i,s,a);if(t=An(t),isNaN(u))return{stiffness:Oe.stiffness,damping:Oe.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const jR=12;function UR(t,e,n){let r=n;for(let i=1;i<jR;i++)r=r-t(r)/e(r);return r}function Wf(t,e){return t*Math.sqrt(1-e*e)}const BR=["duration","bounce"],$R=["stiffness","damping","mass"];function iv(t,e){return e.some(n=>t[n]!==void 0)}function zR(t){let e={velocity:Oe.velocity,stiffness:Oe.stiffness,damping:Oe.damping,mass:Oe.mass,isResolvedFromDuration:!1,...t};if(!iv(t,$R)&&iv(t,BR))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Jn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Oe.mass,stiffness:i,damping:s}}else{const n=FR(t);e={...e,...n,mass:Oe.mass},e.isResolvedFromDuration=!0}return e}function Au(t=Oe.visualDuration,e=Oe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:c,mass:h,duration:d,velocity:p,isResolvedFromDuration:g}=zR({...n,velocity:-Qt(n.velocity||0)}),C=p||0,I=c/(2*Math.sqrt(u*h)),k=o-s,_=Qt(Math.sqrt(u/h)),y=Math.abs(k)<5;r||(r=y?Oe.restSpeed.granular:Oe.restSpeed.default),i||(i=y?Oe.restDelta.granular:Oe.restDelta.default);let w;if(I<1){const M=Wf(_,I);w=O=>{const T=Math.exp(-I*_*O);return o-T*((C+I*_*k)/M*Math.sin(M*O)+k*Math.cos(M*O))}}else if(I===1)w=M=>o-Math.exp(-_*M)*(k+(C+_*k)*M);else{const M=_*Math.sqrt(I*I-1);w=O=>{const T=Math.exp(-I*_*O),v=Math.min(M*O,300);return o-T*((C+I*_*k)*Math.sinh(v)+M*k*Math.cosh(v))/M}}const D={calculatedDuration:g&&d||null,next:M=>{const O=w(M);if(g)a.done=M>=d;else{let T=M===0?C:0;I<1&&(T=M===0?An(C):P1(w,M,O));const v=Math.abs(T)<=r,x=Math.abs(o-O)<=i;a.done=v&&x}return a.value=a.done?o:O,a},toString:()=>{const M=Math.min(Gp(D),xu),O=I1(T=>D.next(M*T).value,M,30);return M+"ms "+O},toTransition:()=>{}};return D}Au.applyToOptions=t=>{const e=LR(t,100,Au);return t.ease=e.ease,t.duration=An(e.duration),t.type="keyframes",t};function qf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const d=t[0],p={done:!1,value:d},g=v=>a!==void 0&&v<a||u!==void 0&&v>u,C=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let I=n*e;const k=d+I,_=o===void 0?k:o(k);_!==k&&(I=_-d);const y=v=>-I*Math.exp(-v/r),w=v=>_+y(v),D=v=>{const x=y(v),P=w(v);p.done=Math.abs(x)<=c,p.value=p.done?_:P};let M,O;const T=v=>{g(p.value)&&(M=v,O=Au({keyframes:[p.value,C(p.value)],velocity:P1(w,v,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return T(0),{calculatedDuration:null,next:v=>{let x=!1;return!O&&M===void 0&&(x=!0,D(v),T(v)),M!==void 0&&v>=M?O.next(v-M):(!x&&D(v),p)}}}function HR(t,e,n){const r=[],i=n||Zn.mix||C1,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Yt:e;a=Ra(u,a)}r.push(a)}return r}function WR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Fp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HR(e,r,i),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let d=0;if(u>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const p=aa(t[d],t[d+1],h);return a[d](p)};return n?h=>c(Jn(t[0],t[s-1],h)):c}function qR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=aa(0,e,r);t.push(De(n,1,i))}}function KR(t){const e=[0];return qR(e,t.length-1),e}function GR(t,e){return t.map(n=>n*e)}function QR(t,e){return t.map(()=>e||g1).splice(0,t.length-1)}function bo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=oR(r)?r.map(Zy):Zy(r),s={done:!1,value:e[0]},o=GR(n&&n.length===e.length?n:KR(e),t),a=WR(o,e,{ease:Array.isArray(i)?i:QR(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const XR=t=>t!==null;function Qp(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(XR),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const YR={decay:qf,inertia:qf,tween:bo,keyframes:bo,spring:Au};function R1(t){typeof t.type=="string"&&(t.type=YR[t.type])}class Xp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const JR=t=>t/100;class Yp extends Xp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;R1(e);const{type:n=bo,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const u=n||bo;u!==bo&&typeof a[0]!="number"&&(this.mixKeyframes=Ra(JR,C1(a[0],a[1])),a=[0,100]);const c=u({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Gp(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:p,repeatDelay:g,type:C,onUpdate:I,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,D=r;if(d){const v=Math.min(this.currentTime,i)/a;let x=Math.floor(v),P=v%1;!P&&v>=1&&(P=1),P===1&&x--,x=Math.min(x,d+1),!!(x%2)&&(p==="reverse"?(P=1-P,g&&(P-=g/a)):p==="mirror"&&(D=o)),w=Jn(0,1,P)*a}const M=y?{done:!1,value:h[0]}:D.next(w);s&&(M.value=s(M.value));let{done:O}=M;!y&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&C!==qf&&(M.value=Qp(h,this.options,k,this.speed)),I&&I(M.value),T&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return Qt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qt(e)}get time(){return Qt(this.currentTime)}set time(e){var n;e=An(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qt(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=MR,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function ZR(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ui=t=>t*180/Math.PI,Kf=t=>{const e=ui(Math.atan2(t[1],t[0]));return Gf(e)},e2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kf,rotateZ:Kf,skewX:t=>ui(Math.atan(t[1])),skewY:t=>ui(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gf=t=>(t=t%360,t<0&&(t+=360),t),sv=Kf,ov=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),av=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),t2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ov,scaleY:av,scale:t=>(ov(t)+av(t))/2,rotateX:t=>Gf(ui(Math.atan2(t[6],t[5]))),rotateY:t=>Gf(ui(Math.atan2(-t[2],t[0]))),rotateZ:sv,rotate:sv,skewX:t=>ui(Math.atan(t[4])),skewY:t=>ui(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Qf(t){return t.includes("scale")?1:0}function Xf(t,e){if(!t||t==="none")return Qf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=t2,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=e2,i=a}if(!i)return Qf(e);const s=r[e],o=i[1].split(",").map(r2);return typeof s=="function"?s(o):o[s]}const n2=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xf(n,e)};function r2(t){return parseFloat(t.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Os=new Set(Ls),lv=t=>t===Ms||t===J,i2=new Set(["x","y","z"]),s2=Ls.filter(t=>!i2.has(t));function o2(t){const e=[];return s2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const di={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xf(e,"x"),y:(t,{transform:e})=>Xf(e,"y")};di.translateX=di.x;di.translateY=di.y;const pi=new Set;let Yf=!1,Jf=!1,Zf=!1;function k1(){if(Jf){const t=Array.from(pi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=o2(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Jf=!1,Yf=!1,pi.forEach(t=>t.complete(Zf)),pi.clear()}function V1(){pi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jf=!0)})}function a2(){Zf=!0,V1(),k1(),Zf=!1}class Jp{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(pi.add(this),Yf||(Yf=!0,Re.read(V1),Re.resolveKeyframes(k1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}ZR(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),pi.delete(this)}cancel(){this.state==="scheduled"&&(pi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const l2=t=>t.startsWith("--");function u2(t,e,n){l2(e)?t.style.setProperty(e,n):t.style[e]=n}const c2=jp(()=>window.ScrollTimeline!==void 0),h2={};function f2(t,e){const n=jp(t);return()=>h2[e]??n()}const D1=f2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wo([0,.65,.55,1]),circOut:wo([.55,0,1,.45]),backIn:wo([.31,.01,.66,-.59]),backOut:wo([.33,1.53,.69,.99])};function N1(t,e){if(t)return typeof t=="function"?D1()?I1(t,e):"ease-out":y1(t)?wo(t):Array.isArray(t)?t.map(n=>N1(n,e)||uv.easeOut):uv[t]}function d2(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},c=void 0){const h={[e]:n};u&&(h.offset=u);const d=N1(a,i);Array.isArray(d)&&(h.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(h,p)}function b1(t){return typeof t=="function"&&"applyToOptions"in t}function p2({type:t,...e}){return b1(t)&&D1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class m2 extends Xp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Fp(typeof e.type!="string");const c=p2(e);this.animation=d2(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=Qp(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):u2(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qt(e)}get time(){return Qt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=An(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&c2()?(this.animation.timeline=e,Yt):n(this)}}const M1={anticipate:d1,backInOut:f1,circInOut:m1};function g2(t){return t in M1}function y2(t){typeof t.ease=="string"&&g2(t.ease)&&(t.ease=M1[t.ease])}const cv=10;class v2 extends m2{constructor(e){y2(e),R1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Yp({...o,autoplay:!1}),u=An(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-cv).value,a.sample(u).value,cv),a.stop()}}const hv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lr.test(t)||t==="0")&&!t.startsWith("url("));function _2(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w2(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=hv(i,e),a=hv(s,e);return!o||!a?!1:_2(t)||(n==="spring"||b1(n))&&r}function ed(t){t.duration=0,t.type="keyframes"}const E2=new Set(["opacity","clipPath","filter","transform"]),T2=jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function S2(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=e.owner.getProps();return T2()&&n&&E2.has(n)&&(n!=="transform"||!c)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const x2=40;class A2 extends Xp{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:u,motionValue:c,element:h,...d}){var C;super(),this.stop=()=>{var I,k;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Rt.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:c,element:h,...d},g=(h==null?void 0:h.KeyframeResolver)||Jp;this.keyframeResolver=new g(a,(I,k,_)=>this.onKeyframesResolved(I,k,p,!_),u,c,h),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:u,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Rt.now(),w2(e,s,o,a)||((Zn.instantAnimations||!u)&&(h==null||h(Qp(e,r,n))),e[0]=e[e.length-1],ed(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>x2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&S2(p)?new v2({...p,element:p.motionValue.owner.current}):new Yp(p);g.finished.then(()=>this.notifyFinished()).catch(Yt),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),a2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const C2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I2(t){const e=C2.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function L1(t,e,n=1){const[r,i]=I2(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return i1(o)?parseFloat(o):o}return Hp(i)?L1(i,e,n+1):i}function Zp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const O1=new Set(["width","height","top","left","right","bottom",...Ls]),P2={test:t=>t==="auto",parse:t=>t},F1=t=>e=>e.test(t),j1=[Ms,J,Cn,hr,_R,vR,P2],fv=t=>j1.find(F1(t));function R2(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||o1(t):!0}const k2=new Set(["brightness","contrast","saturate","opacity"]);function V2(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Wp)||[];if(!r)return t;const i=n.replace(r,"");let s=k2.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const D2=/\b([a-z-]*)\(.*?\)/gu,td={...Lr,getAnimatableNone:t=>{const e=t.match(D2);return e?e.map(V2).join(" "):t}},dv={...Ms,transform:Math.round},N2={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:ml,scaleX:ml,scaleY:ml,scaleZ:ml,skew:hr,skewX:hr,skewY:hr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:la,originX:ev,originY:ev,originZ:J},em={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...N2,zIndex:dv,fillOpacity:la,strokeOpacity:la,numOctaves:dv},b2={...em,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:td,WebkitFilter:td},U1=t=>b2[t];function B1(t,e){let n=U1(t);return n!==td&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const M2=new Set(["auto","none","0"]);function L2(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!M2.has(s)&&ua(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=B1(n,i)}class O2 extends Jp{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Hp(c))){const h=L1(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!O1.has(r)||e.length!==2)return;const[i,s]=e,o=fv(i),a=fv(s);if(o!==a)if(lv(o)&&lv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else di[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||R2(e[i]))&&r.push(i);r.length&&L2(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=di[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function F2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const $1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function z1(t){return s1(t)&&"offsetHeight"in t}const pv=30,j2=t=>!isNaN(parseFloat(t));class U2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Rt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=j2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Up);const r=this.events[e].add(n);return e==="change"?()=>{r(),Re.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pv);return a1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _s(t,e){return new U2(t,e)}const{schedule:tm}=v1(queueMicrotask,!1),nn={x:!1,y:!1};function H1(){return nn.x||nn.y}function B2(t){return t==="x"||t==="y"?nn[t]?null:(nn[t]=!0,()=>{nn[t]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function W1(t,e){const n=F2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mv(t){return!(t.pointerType==="touch"||H1())}function $2(t,e,n={}){const[r,i,s]=W1(t,n),o=a=>{if(!mv(a))return;const{target:u}=a,c=e(u,a);if(typeof c!="function"||!u)return;const h=d=>{mv(d)&&(c(d),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const q1=(t,e)=>e?t===e?!0:q1(t,e.parentElement):!1,nm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,z2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H2(t){return z2.has(t.tagName)||t.tabIndex!==-1}const zl=new WeakSet;function gv(t){return e=>{e.key==="Enter"&&t(e)}}function Ah(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W2=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gv(()=>{if(zl.has(n))return;Ah(n,"down");const i=gv(()=>{Ah(n,"up")}),s=()=>Ah(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yv(t){return nm(t)&&!H1()}function q2(t,e,n={}){const[r,i,s]=W1(t,n),o=a=>{const u=a.currentTarget;if(!yv(a))return;zl.add(u);const c=e(u,a),h=(g,C)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),zl.has(u)&&zl.delete(u),yv(g)&&typeof c=="function"&&c(g,{success:C})},d=g=>{h(g,u===window||u===document||n.useGlobalTarget||q1(u,g.target))},p=g=>{h(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),z1(a)&&(a.addEventListener("focus",c=>W2(c,i)),!H2(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function K1(t){return s1(t)&&"ownerSVGElement"in t}function K2(t){return K1(t)&&t.tagName==="svg"}const mt=t=>!!(t&&t.getVelocity),G2=[...j1,ze,Lr],Q2=t=>G2.find(F1(t)),rm=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function X2(...t){return e=>{let n=!1;const r=t.map(i=>{const s=vv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():vv(t[i],null)}}}}function Y2(...t){return R.useCallback(X2(...t),t)}class J2 extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=z1(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z2({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),s=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=R.useContext(rm),u=Y2(s,t==null?void 0:t.ref);return R.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:p,right:g}=o.current;if(e||!s.current||!c||!h)return;const C=n==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");a&&(I.nonce=a);const k=r??document.head;return k.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${C}px !important;
            top: ${d}px !important;
          }
        `),()=>{k.contains(I)&&k.removeChild(I)}},[e]),A.jsx(J2,{isPresent:e,childRef:s,sizeRef:o,children:R.cloneElement(t,{ref:u})})}const ek=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:u})=>{const c=bp(tk),h=R.useId();let d=!0,p=R.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const C of c.values())if(!C)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&d&&(p={...p}),R.useMemo(()=>{c.forEach((g,C)=>c.set(C,!1))},[n]),R.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=A.jsx(Z2,{isPresent:n,anchorX:a,root:u,children:t})),A.jsx(uc.Provider,{value:p,children:t})};function tk(){return new Map}function G1(t=!0){const e=R.useContext(uc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=R.useId();R.useEffect(()=>{if(t)return i(s)},[t]);const o=R.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const gl=t=>t.key||"";function _v(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Q1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:u})=>{const[c,h]=G1(o),d=R.useMemo(()=>_v(t),[t]),p=o&&!c?[]:d.map(gl),g=R.useRef(!0),C=R.useRef(d),I=bp(()=>new Map),[k,_]=R.useState(d),[y,w]=R.useState(d);r1(()=>{g.current=!1,C.current=d;for(let O=0;O<y.length;O++){const T=gl(y[O]);p.includes(T)?I.delete(T):I.get(T)!==!0&&I.set(T,!1)}},[y,p.length,p.join("-")]);const D=[];if(d!==k){let O=[...d];for(let T=0;T<y.length;T++){const v=y[T],x=gl(v);p.includes(x)||(O.splice(T,0,v),D.push(v))}return s==="wait"&&D.length&&(O=D),w(_v(O)),_(d),null}const{forceRender:M}=R.useContext(Np);return A.jsx(A.Fragment,{children:y.map(O=>{const T=gl(O),v=o&&!c?!1:d===y||p.includes(T),x=()=>{if(I.has(T))I.set(T,!0);else return;let P=!0;I.forEach(V=>{V||(P=!1)}),P&&(M==null||M(),w(C.current),o&&(h==null||h()),r&&r())};return A.jsx(ek,{isPresent:v,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:v?void 0:x,anchorX:a,children:O},T)})})},X1=R.createContext({strict:!1}),wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ws={};for(const t in wv)ws[t]={isEnabled:e=>wv[t].some(n=>!!e[n])};function nk(t){for(const e in t)ws[e]={...ws[e],...t[e]}}const rk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||rk.has(t)}let Y1=t=>!Cu(t);function ik(t){typeof t=="function"&&(Y1=e=>e.startsWith("on")?!Cu(e):t(e))}try{ik(require("@emotion/is-prop-valid").default)}catch{}function sk(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Y1(i)||n===!0&&Cu(i)||!e&&!Cu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const cc=R.createContext({});function hc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ca(t){return typeof t=="string"||Array.isArray(t)}const im=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sm=["initial",...im];function fc(t){return hc(t.animate)||sm.some(e=>ca(t[e]))}function J1(t){return!!(fc(t)||t.variants)}function ok(t,e){if(fc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ca(n)?n:void 0,animate:ca(r)?r:void 0}}return t.inherit!==!1?e:{}}function ak(t){const{initial:e,animate:n}=ok(t,R.useContext(cc));return R.useMemo(()=>({initial:e,animate:n}),[Ev(e),Ev(n)])}function Ev(t){return Array.isArray(t)?t.join(" "):t}const ha={};function lk(t){for(const e in t)ha[e]=t[e],zp(e)&&(ha[e].isCSSVariable=!0)}function Z1(t,{layout:e,layoutId:n}){return Os.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ha[t]||t==="opacity")}const uk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ck=Ls.length;function hk(t,e,n){let r="",i=!0;for(let s=0;s<ck;s++){const o=Ls[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=$1(a,em[o]);if(!u){i=!1;const h=uk[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function om(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(Os.has(u)){o=!0;continue}else if(zp(u)){i[u]=c;continue}else{const h=$1(c,em[u]);u.startsWith("origin")?(a=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=hk(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${c} ${h}`}}const am=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eT(t,e,n){for(const r in e)!mt(e[r])&&!Z1(r,n)&&(t[r]=e[r])}function fk({transformTemplate:t},e){return R.useMemo(()=>{const n=am();return om(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dk(t,e){const n=t.style||{},r={};return eT(r,n,t),Object.assign(r,fk(t,e)),r}function pk(t,e){const n={},r=dk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const mk={offset:"stroke-dashoffset",array:"stroke-dasharray"},gk={offset:"strokeDashoffset",array:"strokeDasharray"};function yk(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?mk:gk;t[s.offset]=J.transform(-r);const o=J.transform(e),a=J.transform(n);t[s.array]=`${o} ${a}`}function tT(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},u,c,h){if(om(t,a,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p}=t;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&yk(d,i,s,o,!1)}const nT=()=>({...am(),attrs:{}}),rT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vk(t,e,n,r){const i=R.useMemo(()=>{const s=nT();return tT(s,e,rT(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eT(s,t.style,t),i.style={...s,...i.style}}return i}const _k=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lm(t){return typeof t!="string"||t.includes("-")?!1:!!(_k.indexOf(t)>-1||/[A-Z]/u.test(t))}function wk(t,e,n,{latestValues:r},i,s=!1){const a=(lm(t)?vk:pk)(e,r,i,t),u=sk(e,typeof t=="string",s),c=t!==R.Fragment?{...u,...a,ref:n}:{},{children:h}=e,d=R.useMemo(()=>mt(h)?h.get():h,[h]);return R.createElement(t,{...c,children:d})}function Tv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function um(t,e,n,r){if(typeof e=="function"){const[i,s]=Tv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Tv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Hl(t){return mt(t)?t.get():t}function Ek({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Tk(n,r,i,t),renderState:e()}}function Tk(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Hl(s[p]);let{initial:o,animate:a}=t;const u=fc(t),c=J1(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!hc(d)){const p=Array.isArray(d)?d:[d];for(let g=0;g<p.length;g++){const C=um(t,p[g]);if(C){const{transitionEnd:I,transition:k,..._}=C;for(const y in _){let w=_[y];if(Array.isArray(w)){const D=h?w.length-1:0;w=w[D]}w!==null&&(i[y]=w)}for(const y in I)i[y]=I[y]}}}return i}const iT=t=>(e,n)=>{const r=R.useContext(cc),i=R.useContext(uc),s=()=>Ek(t,e,r,i);return n?s():bp(s)};function cm(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(mt(r[o])||e.style&&mt(e.style[o])||Z1(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Sk=iT({scrapeMotionValuesFromProps:cm,createRenderState:am});function sT(t,e,n){const r=cm(t,e,n);for(const i in t)if(mt(t[i])||mt(e[i])){const s=Ls.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const xk=iT({scrapeMotionValuesFromProps:sT,createRenderState:nT}),Ak=Symbol.for("motionComponentSymbol");function Xi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ck(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xi(n)&&(n.current=r))},[e])}const hm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ik="framerAppearId",oT="data-"+hm(Ik),aT=R.createContext({});function Pk(t,e,n,r,i){var I,k;const{visualElement:s}=R.useContext(cc),o=R.useContext(X1),a=R.useContext(uc),u=R.useContext(rm).reducedMotion,c=R.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,d=R.useContext(aT);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Rk(c.current,n,i,d);const p=R.useRef(!1);R.useInsertionEffect(()=>{h&&p.current&&h.update(n,a)});const g=n[oT],C=R.useRef(!!g&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,g))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,g)));return r1(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),C.current&&h.animationState&&h.animationState.animateChanges())}),R.useEffect(()=>{h&&(!C.current&&h.animationState&&h.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,g)}),C.current=!1),h.enteringChildren=void 0)}),h}function Rk(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lT(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Xi(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:c})}function lT(t){if(t)return t.options.allowProjection!==!1?t.projection:lT(t.parent)}function Ch(t,{forwardMotionProps:e=!1}={},n,r){n&&nk(n);const i=lm(t)?xk:Sk;function s(a,u){let c;const h={...R.useContext(rm),...a,layoutId:kk(a)},{isStatic:d}=h,p=ak(a),g=i(a,d);if(!d&&Mp){Vk();const C=Dk(h);c=C.MeasureLayout,p.visualElement=Pk(t,g,h,r,C.ProjectionNode)}return A.jsxs(cc.Provider,{value:p,children:[c&&p.visualElement?A.jsx(c,{visualElement:p.visualElement,...h}):null,wk(t,a,Ck(g,p.visualElement,u),g,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=R.forwardRef(s);return o[Ak]=t,o}function kk({layoutId:t}){const e=R.useContext(Np).id;return e&&t!==void 0?e+"-"+t:t}function Vk(t,e){R.useContext(X1).strict}function Dk(t){const{drag:e,layout:n}=ws;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Nk(t,e){if(typeof Proxy>"u")return Ch;const n=new Map,r=(s,o)=>Ch(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Ch(o,void 0,t,e)),n.get(o))})}function uT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ih(t){return t===void 0||t===1}function nd({scale:t,scaleX:e,scaleY:n}){return!Ih(t)||!Ih(e)||!Ih(n)}function ri(t){return nd(t)||cT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cT(t){return Sv(t.x)||Sv(t.y)}function Sv(t){return t&&t!=="0%"}function Iu(t,e,n){const r=t-n,i=e*r;return n+i}function xv(t,e,n,r,i){return i!==void 0&&(t=Iu(t,i,r)),Iu(t,n,r)+e}function rd(t,e=0,n=1,r,i){t.min=xv(t.min,e,n,r,i),t.max=xv(t.max,e,n,r,i)}function hT(t,{x:e,y:n}){rd(t.x,e.translate,e.scale,e.originPoint),rd(t.y,n.translate,n.scale,n.originPoint)}const Av=.999999999999,Cv=1.0000000000001;function Lk(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ji(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hT(t,o)),r&&ri(s.latestValues)&&Ji(t,s.latestValues))}e.x<Cv&&e.x>Av&&(e.x=1),e.y<Cv&&e.y>Av&&(e.y=1)}function Yi(t,e){t.min=t.min+e,t.max=t.max+e}function Iv(t,e,n,r,i=.5){const s=De(t.min,t.max,i);rd(t,e,n,s,r)}function Ji(t,e){Iv(t.x,e.x,e.scaleX,e.scale,e.originX),Iv(t.y,e.y,e.scaleY,e.scale,e.originY)}function fT(t,e){return uT(Mk(t.getBoundingClientRect(),e))}function Ok(t,e,n){const r=fT(t,n),{scroll:i}=e;return i&&(Yi(r.x,i.offset.x),Yi(r.y,i.offset.y)),r}const Pv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:Pv(),y:Pv()}),Rv=()=>({min:0,max:0}),je=()=>({x:Rv(),y:Rv()}),id={current:null},dT={current:!1};function Fk(){if(dT.current=!0,!!Mp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>id.current=t.matches;t.addEventListener("change",e),e()}else id.current=!1}const jk=new WeakMap;function Uk(t,e,n){for(const r in e){const i=e[r],s=n[r];if(mt(i))t.addValue(r,i);else if(mt(s))t.addValue(r,_s(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,_s(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bk{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Rt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Re.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=fc(n),this.isVariantNode=J1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];u[p]!==void 0&&mt(g)&&g.set(u[p])}}mount(e){var n;this.current=e,jk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),dT.current||Fk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:id.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Mr(this.notifyUpdate),Mr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Os.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Re.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ws){const n=ws[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):je()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<kv.length;r++){const i=kv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Uk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_s(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(i1(r)||o1(r))?r=parseFloat(r):!Q2(r)&&Lr.test(n)&&(r=B1(e,n)),this.setBaseTarget(e,mt(r)?r.get():r)),mt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=um(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!mt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Up),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){tm.render(this.render)}}class pT extends Bk{constructor(){super(...arguments),this.KeyframeResolver=O2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mT(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function $k(t){return window.getComputedStyle(t)}class zk extends pT{constructor(){super(...arguments),this.type="html",this.renderInstance=mT}readValueFromInstance(e,n){var r;if(Os.has(n))return(r=this.projection)!=null&&r.isProjecting?Qf(n):n2(e,n);{const i=$k(e),s=(zp(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return fT(e,n)}build(e,n,r){om(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cm(e,n,r)}}const gT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hk(t,e,n,r){mT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(gT.has(i)?i:hm(i),e.attrs[i])}class Wk extends pT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=je}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Os.has(n)){const r=U1(n);return r&&r.default||0}return n=gT.has(n)?n:hm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return sT(e,n,r)}build(e,n,r){tT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Hk(e,n,r,i)}mount(e){this.isSVGTag=rT(e.tagName),super.mount(e)}}const qk=(t,e)=>lm(t)?new Wk(e):new zk(e,{allowProjection:t!==R.Fragment});function ls(t,e,n){const r=t.getProps();return um(r,e,n!==void 0?n:r.custom,t)}const sd=t=>Array.isArray(t);function Kk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_s(n))}function Gk(t){return sd(t)?t[t.length-1]||0:t}function Qk(t,e){const n=ls(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Gk(s[o]);Kk(t,o,a)}}function Xk(t){return!!(mt(t)&&t.add)}function od(t,e){const n=t.getValue("willChange");if(Xk(n))return n.add(e);if(!n&&Zn.WillChange){const r=new Zn.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function yT(t){return t.props[oT]}const Yk=t=>t!==null;function Jk(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Yk),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Zk={type:"spring",stiffness:500,damping:25,restSpeed:10},eV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tV={type:"keyframes",duration:.8},nV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rV=(t,{keyframes:e})=>e.length>2?tV:Os.has(t)?t.startsWith("scale")?eV(e[1]):Zk:nV;function iV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const fm=(t,e,n,r={},i,s)=>o=>{const a=Zp(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-An(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};iV(a)||Object.assign(h,rV(t,h)),h.duration&&(h.duration=An(h.duration)),h.repeatDelay&&(h.repeatDelay=An(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(ed(h),h.delay===0&&(d=!0)),(Zn.instantAnimations||Zn.skipAnimations)&&(d=!0,ed(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const p=Jk(h.keyframes,a);if(p!==void 0){Re.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new Yp(h):new A2(h)};function sV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),p=a[h];if(p===void 0||c&&sV(c,h))continue;const g={delay:n,...Zp(s||{},h)},C=d.get();if(C!==void 0&&!d.isAnimating&&!Array.isArray(p)&&p===C&&!g.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const _=yT(t);if(_){const y=window.MotionHandoffAnimation(_,h,Re);y!==null&&(g.startTime=y,I=!0)}}od(t,h),d.start(fm(h,d,p,t.shouldReduceMotion&&O1.has(h)?{type:!1}:g,t,I));const k=d.animation;k&&u.push(k)}return o&&Promise.all(u).then(()=>{Re.update(()=>{o&&Qk(t,o)})}),u}function _T(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function ad(t,e,n={}){var u;const r=ls(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(vT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:p}=i;return oV(t,e,c,h,d,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function oV(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),a.push(ad(u,e,{...o,delay:n+(typeof r=="function"?0:r)+_T(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(a)}function aV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ad(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ad(t,e,n);else{const i=typeof e=="function"?ls(t,e,n.custom):e;r=Promise.all(vT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function wT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lV=sm.length;function ET(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ET(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lV;n++){const r=sm[n],i=t.props[r];(ca(i)||i===!1)&&(e[r]=i)}return e}const uV=[...im].reverse(),cV=im.length;function hV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aV(t,n,r)))}function fV(t){let e=hV(t),n=Vv(),r=!0;const i=u=>(c,h)=>{var p;const d=ls(t,h,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:g,transitionEnd:C,...I}=d;c={...c,...I,...C}}return c};function s(u){e=u(t)}function o(u){const{props:c}=t,h=ET(t.parent)||{},d=[],p=new Set;let g={},C=1/0;for(let k=0;k<cV;k++){const _=uV[k],y=n[_],w=c[_]!==void 0?c[_]:h[_],D=ca(w),M=_===u?y.isActive:null;M===!1&&(C=k);let O=w===h[_]&&w!==c[_]&&D;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...g},!y.isActive&&M===null||!w&&!y.prevProp||hc(w)||typeof w=="boolean")continue;const T=dV(y.prevProp,w);let v=T||_===u&&y.isActive&&!O&&D||k>C&&D,x=!1;const P=Array.isArray(w)?w:[w];let V=P.reduce(i(_),{});M===!1&&(V={});const{prevResolvedValues:N={}}=y,S={...N,...V},Z=ie=>{v=!0,p.has(ie)&&(x=!0,p.delete(ie)),y.needsAnimating[ie]=!0;const B=t.getValue(ie);B&&(B.liveStyle=!1)};for(const ie in S){const B=V[ie],K=N[ie];if(g.hasOwnProperty(ie))continue;let $=!1;sd(B)&&sd(K)?$=!wT(B,K):$=B!==K,$?B!=null?Z(ie):p.add(ie):B!==void 0&&p.has(ie)?Z(ie):y.protectedKeys[ie]=!0}y.prevProp=w,y.prevResolvedValues=V,y.isActive&&(g={...g,...V}),r&&t.blockInitialAnimation&&(v=!1);const re=O&&T;v&&(!re||x)&&d.push(...P.map(ie=>{const B={type:_};if(typeof ie=="string"&&r&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,$=ls(K,ie);if(K.enteringChildren&&$){const{delayChildren:ce}=$.transition||{};B.delay=_T(K.enteringChildren,t,ce)}}return{animation:ie,options:B}}))}if(p.size){const k={};if(typeof c.initial!="boolean"){const _=ls(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(k.transition=_.transition)}p.forEach(_=>{const y=t.getBaseTarget(_),w=t.getValue(_);w&&(w.liveStyle=!0),k[_]=y??null}),d.push({animation:k})}let I=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(d):Promise.resolve()}function a(u,c){var d;if(n[u].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(u,c)}),n[u].isActive=c;const h=o(u);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Vv()}}}function dV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wT(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vv(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class Kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pV extends Kr{constructor(e){super(e),e.animationState||(e.animationState=fV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mV=0;class gV extends Kr{constructor(){super(...arguments),this.id=mV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yV={animation:{Feature:pV},exit:{Feature:gV}};function fa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Da(t){return{point:{x:t.pageX,y:t.pageY}}}const vV=t=>e=>nm(e)&&t(e,Da(e));function Mo(t,e,n,r){return fa(t,e,vV(n),r)}const TT=1e-4,_V=1-TT,wV=1+TT,ST=.01,EV=0-ST,TV=0+ST;function wt(t){return t.max-t.min}function SV(t,e,n){return Math.abs(t-e)<=n}function Dv(t,e,n,r=.5){t.origin=r,t.originPoint=De(e.min,e.max,t.origin),t.scale=wt(n)/wt(e),t.translate=De(n.min,n.max,t.origin)-t.originPoint,(t.scale>=_V&&t.scale<=wV||isNaN(t.scale))&&(t.scale=1),(t.translate>=EV&&t.translate<=TV||isNaN(t.translate))&&(t.translate=0)}function Lo(t,e,n,r){Dv(t.x,e.x,n.x,r?r.originX:void 0),Dv(t.y,e.y,n.y,r?r.originY:void 0)}function Nv(t,e,n){t.min=n.min+e.min,t.max=t.min+wt(e)}function xV(t,e,n){Nv(t.x,e.x,n.x),Nv(t.y,e.y,n.y)}function bv(t,e,n){t.min=e.min-n.min,t.max=t.min+wt(e)}function Oo(t,e,n){bv(t.x,e.x,n.x),bv(t.y,e.y,n.y)}function zt(t){return[t("x"),t("y")]}const xT=({current:t})=>t?t.ownerDocument.defaultView:null,Mv=(t,e)=>Math.abs(t-e);function AV(t,e){const n=Mv(t.x,e.x),r=Mv(t.y,e.y);return Math.sqrt(n**2+r**2)}class AT{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Rh(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,C=AV(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!C)return;const{point:I}=p,{timestamp:k}=nt;this.history.push({...I,timestamp:k});const{onStart:_,onMove:y}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Ph(g,this.transformPagePoint),Re.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Rh(p.type==="pointercancel"?this.lastMoveEventInfo:Ph(g,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,_),I&&I(p,_)},!nm(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=Da(e),u=Ph(a,this.transformPagePoint),{point:c}=u,{timestamp:h}=nt;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Rh(u,this.history)),this.removeListeners=Ra(Mo(this.contextWindow,"pointermove",this.handlePointerMove),Mo(this.contextWindow,"pointerup",this.handlePointerUp),Mo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mr(this.updatePoint)}}function Ph(t,e){return e?{point:e(t.point)}:t}function Lv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rh({point:t},e){return{point:t,delta:Lv(t,CT(e)),offset:Lv(t,CV(e)),velocity:IV(e,.1)}}function CV(t){return t[0]}function CT(t){return t[t.length-1]}function IV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>An(e)));)n--;if(!r)return{x:0,y:0};const s=Qt(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function PV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?De(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?De(n,t,r.max):Math.min(t,n)),t}function Ov(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RV(t,{top:e,left:n,bottom:r,right:i}){return{x:Ov(t.x,n,i),y:Ov(t.y,e,r)}}function Fv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kV(t,e){return{x:Fv(t.x,e.x),y:Fv(t.y,e.y)}}function VV(t,e){let n=.5;const r=wt(t),i=wt(e);return i>r?n=aa(e.min,e.max-r,t.min):r>i&&(n=aa(t.min,t.max-i,e.min)),Jn(0,1,n)}function DV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ld=.35;function NV(t=ld){return t===!1?t=0:t===!0&&(t=ld),{x:jv(t,"left","right"),y:jv(t,"top","bottom")}}function jv(t,e,n){return{min:Uv(t,e),max:Uv(t,n)}}function Uv(t,e){return typeof t=="number"?t:t[e]||0}const bV=new WeakMap;class MV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=je(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Da(d).point)},o=(d,p)=>{const{drag:g,dragPropagation:C,onDragStart:I}=this.getProps();if(g&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=B2(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Cn.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const D=w.layout.layoutBox[_];D&&(y=wt(D)*(parseFloat(y)/100))}}this.originPoint[_]=y}),I&&Re.postRender(()=>I(d,p)),od(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:C,onDirectionLock:I,onDrag:k}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(C&&this.currentDirection===null){this.currentDirection=LV(_),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),k&&k(d,p)},u=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>zt(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new AT(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:xT(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Re.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!yl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=PV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Xi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RV(r.layoutBox,e):this.constraints=!1,this.elastic=NV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xi(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Ok(r,i.root,this.visualElement.getTransformPagePoint());let o=kV(i.layout.layoutBox,s);if(n){const a=n(bk(o));this.hasMutatedConstraints=!!a,a&&(o=uT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=zt(h=>{if(!yl(h,n,this.currentDirection))return;let d=u&&u[h]||{};o&&(d={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,C={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,C)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return od(this.visualElement,e),r.start(fm(e,r,0,n,this.visualElement,!1))}stopAnimation(){zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zt(n=>{const{drag:r}=this.getProps();if(!yl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-De(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xi(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=VV({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!yl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(De(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;bV.set(this.visualElement,this);const e=this.visualElement.current,n=Mo(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Xi(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Re.read(r);const o=fa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(zt(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=ld,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function yl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class OV extends Kr{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new MV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bv=t=>(e,n)=>{t&&Re.postRender(()=>t(e,n))};class FV extends Kr{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new AT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bv(e),onStart:Bv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Re.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Mo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $v(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const mo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(J.test(t))t=parseFloat(t);else return t;const n=$v(t,e.target.x),r=$v(t,e.target.y);return`${n}% ${r}%`}},jV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Lr.parse(t);if(i.length>5)return r;const s=Lr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=De(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let kh=!1;class UV extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lk(BV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),kh&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Wl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,kh=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Re.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;kh=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IT(t){const[e,n]=G1(),r=R.useContext(Np);return A.jsx(UV,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(aT),isPresent:e,safeToRemove:n})}const BV={borderRadius:{...mo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mo,borderTopRightRadius:mo,borderBottomLeftRadius:mo,borderBottomRightRadius:mo,boxShadow:jV};function $V(t,e,n){const r=mt(t)?t:_s(t);return r.start(fm("",r,e,n)),r.animation}const zV=(t,e)=>t.depth-e.depth;class HV{constructor(){this.children=[],this.isDirty=!1}add(e){Lp(this.children,e),this.isDirty=!0}remove(e){Op(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zV),this.isDirty=!1,this.children.forEach(e)}}function WV(t,e){const n=Rt.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mr(r),t(s-e))};return Re.setup(r,!0),()=>Mr(r)}const PT=["TopLeft","TopRight","BottomLeft","BottomRight"],qV=PT.length,zv=t=>typeof t=="string"?parseFloat(t):t,Hv=t=>typeof t=="number"||J.test(t);function KV(t,e,n,r,i,s){i?(t.opacity=De(0,n.opacity??1,GV(r)),t.opacityExit=De(e.opacity??1,0,QV(r))):s&&(t.opacity=De(e.opacity??1,n.opacity??1,r));for(let o=0;o<qV;o++){const a=`border${PT[o]}Radius`;let u=Wv(e,a),c=Wv(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||Hv(u)===Hv(c)?(t[a]=Math.max(De(zv(u),zv(c),r),0),(Cn.test(c)||Cn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=De(e.rotate||0,n.rotate||0,r))}function Wv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GV=RT(0,.5,p1),QV=RT(.5,.95,Yt);function RT(t,e,n){return r=>r<t?0:r>e?1:n(aa(t,e,r))}function qv(t,e){t.min=e.min,t.max=e.max}function $t(t,e){qv(t.x,e.x),qv(t.y,e.y)}function Kv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Gv(t,e,n,r,i){return t-=e,t=Iu(t,1/n,r),i!==void 0&&(t=Iu(t,1/i,r)),t}function XV(t,e=0,n=1,r=.5,i,s=t,o=t){if(Cn.test(e)&&(e=parseFloat(e),e=De(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=De(s.min,s.max,r);t===s&&(a-=e),t.min=Gv(t.min,e,n,a,i),t.max=Gv(t.max,e,n,a,i)}function Qv(t,e,[n,r,i],s,o){XV(t,e[n],e[r],e[i],e.scale,s,o)}const YV=["x","scaleX","originX"],JV=["y","scaleY","originY"];function Xv(t,e,n,r){Qv(t.x,e,YV,n?n.x:void 0,r?r.x:void 0),Qv(t.y,e,JV,n?n.y:void 0,r?r.y:void 0)}function Yv(t){return t.translate===0&&t.scale===1}function kT(t){return Yv(t.x)&&Yv(t.y)}function Jv(t,e){return t.min===e.min&&t.max===e.max}function ZV(t,e){return Jv(t.x,e.x)&&Jv(t.y,e.y)}function Zv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function VT(t,e){return Zv(t.x,e.x)&&Zv(t.y,e.y)}function e_(t){return wt(t.x)/wt(t.y)}function t_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eD{constructor(){this.members=[]}add(e){Lp(this.members,e),e.scheduleRender()}remove(e){if(Op(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:p,skewX:g,skewY:C}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const Vh=["","X","Y","Z"],nD=1e3;let rD=0;function Dh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function DT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=yT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Re,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&DT(r)}function NT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rD++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oD),this.nodes.forEach(cD),this.nodes.forEach(hD),this.nodes.forEach(aD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new HV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Up),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=K1(o)&&!K2(o),this.instance=o;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const p=()=>this.root.updateBlockedByResize=!1;Re.read(()=>{d=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=WV(p,250),Wl.hasAnimatedSinceResize&&(Wl.hasAnimatedSinceResize=!1,this.nodes.forEach(i_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||c.getDefaultTransition()||gD,{onLayoutAnimationStart:I,onLayoutAnimationComplete:k}=c.getProps(),_=!this.targetLayout||!VT(this.targetLayout,g),y=!d&&p;if(this.options.layoutRoot||this.resumeFrom||y||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Zp(C,"layout"),onPlay:I,onComplete:k};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,y)}else d||i_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(r_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uD),this.nodes.forEach(iD),this.nodes.forEach(sD)):this.nodes.forEach(r_),this.clearAllSnapshots();const a=Rt.now();nt.delta=Jn(0,1e3/60,a-nt.timestamp),nt.timestamp=a,nt.isProcessing=!0,wh.update.process(nt),wh.preRender.process(nt),wh.render.process(nt),nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(lD),this.sharedNodes.forEach(dD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Re.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Re.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wt(this.snapshot.measuredBox.x)&&!wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!kT(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ri(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),yD(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return je();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(vD))){const{scroll:h}=this.root;h&&(Yi(a.x,h.offset.x),Yi(a.y,h.offset.y))}return a}removeElementScroll(o){var u;const a=je();if($t(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:p}=h;h!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&$t(a,o),Yi(a.x,d.offset.x),Yi(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const u=je();$t(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ji(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ri(h.latestValues)&&Ji(u,h.latestValues)}return ri(this.latestValues)&&Ji(u,this.latestValues),u}removeTransform(o){const a=je();$t(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!ri(c.latestValues))continue;nd(c.latestValues)&&c.updateSnapshot();const h=je(),d=c.measurePageBox();$t(h,d),Xv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ri(this.latestValues)&&Xv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=nt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Oo(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=je(),this.targetWithTransforms=je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),hT(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=je(),this.relativeTargetOrigin=je(),Oo(this.relativeTargetOrigin,this.target,g.target),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nd(this.parent.latestValues)||cT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===nt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;$t(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Lk(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=je());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kv(this.prevProjectionDelta.x,this.projectionDelta.x),Kv(this.prevProjectionDelta.y,this.projectionDelta.y)),Lo(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!t_(this.projectionDelta.x,this.prevProjectionDelta.x)||!t_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zi(),this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},d=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=je(),g=u?u.source:void 0,C=this.layout?this.layout.source:void 0,I=g!==C,k=this.getStack(),_=!k||k.members.length<=1,y=!!(I&&!_&&this.options.crossfade===!0&&!this.path.some(mD));this.animationProgress=0;let w;this.mixTargetDelta=D=>{const M=D/1e3;s_(d.x,o.x,M),s_(d.y,o.y,M),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pD(this.relativeTarget,this.relativeTargetOrigin,p,M),w&&ZV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=je()),$t(w,this.relativeTarget)),I&&(this.animationValues=h,KV(h,c,this.latestValues,M,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Re.update(()=>{Wl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_s(0)),this.currentAnimation=$V(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&bT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||je();const d=wt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+d;const p=wt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}$t(a,u),Ji(a,h),Lo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eD),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Dh("z",o,c,this.animationValues);for(let h=0;h<Vh.length;h++)Dh(`rotate${Vh[h]}`,o,c,this.animationValues),Dh(`skew${Vh[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Hl(a==null?void 0:a.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Hl(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ri(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=tD(this.projectionDeltaWithTransform,this.treeScale,h);u&&(d=u(h,d)),o.transform=d;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in ha){if(h[C]===void 0)continue;const{correct:I,applyTo:k,isCSSVariable:_}=ha[C],y=d==="none"?h[C]:I(h[C],c);if(k){const w=k.length;for(let D=0;D<w;D++)o[k[D]]=y}else _?this.options.visualElement.renderState.vars[C]=y:o[C]=y}this.options.layoutId&&(o.pointerEvents=c===this?Hl(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(n_),this.root.sharedNodes.clear()}}}function iD(t){t.updateLayout()}function sD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?zt(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],g=wt(p);p.min=r[d].min,p.max=p.min+g}):bT(s,e.layoutBox,r)&&zt(d=>{const p=o?e.measuredBox[d]:e.layoutBox[d],g=wt(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Zi();Lo(a,r,e.layoutBox);const u=Zi();o?Lo(u,t.applyTransform(i,!0),e.measuredBox):Lo(u,r,e.layoutBox);const c=!kT(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const C=je();Oo(C,e.layoutBox,p.layoutBox);const I=je();Oo(I,r,g.layoutBox),VT(C,I)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lD(t){t.clearSnapshot()}function n_(t){t.clearMeasurements()}function r_(t){t.isLayoutDirty=!1}function uD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function i_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cD(t){t.resolveTargetDelta()}function hD(t){t.calcProjection()}function fD(t){t.resetSkewAndRotation()}function dD(t){t.removeLeadSnapshot()}function s_(t,e,n){t.translate=De(e.translate,0,n),t.scale=De(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function o_(t,e,n,r){t.min=De(e.min,n.min,r),t.max=De(e.max,n.max,r)}function pD(t,e,n,r){o_(t.x,e.x,n.x,r),o_(t.y,e.y,n.y,r)}function mD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const gD={duration:.45,ease:[.4,0,.1,1]},a_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),l_=a_("applewebkit/")&&!a_("chrome/")?Math.round:Yt;function u_(t){t.min=l_(t.min),t.max=l_(t.max)}function yD(t){u_(t.x),u_(t.y)}function bT(t,e,n){return t==="position"||t==="preserve-aspect"&&!SV(e_(e),e_(n),.2)}function vD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const _D=NT({attachResizeListener:(t,e)=>fa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nh={current:void 0},MT=NT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Nh.current){const t=new _D({});t.mount(window),t.setOptions({layoutScroll:!0}),Nh.current=t}return Nh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wD={pan:{Feature:FV},drag:{Feature:OV,ProjectionNode:MT,MeasureLayout:IT}};function c_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Re.postRender(()=>s(e,Da(e)))}class ED extends Kr{mount(){const{current:e}=this.node;e&&(this.unmount=$2(e,(n,r)=>(c_(this.node,r,"Start"),i=>c_(this.node,i,"End"))))}unmount(){}}class TD extends Kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ra(fa(this.node.current,"focus",()=>this.onFocus()),fa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function h_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Re.postRender(()=>s(e,Da(e)))}class SD extends Kr{mount(){const{current:e}=this.node;e&&(this.unmount=q2(e,(n,r)=>(h_(this.node,r,"Start"),(i,{success:s})=>h_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ud=new WeakMap,bh=new WeakMap,xD=t=>{const e=ud.get(t.target);e&&e(t)},AD=t=>{t.forEach(xD)};function CD({root:t,...e}){const n=t||document;bh.has(n)||bh.set(n,{});const r=bh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AD,{root:t,...e})),r[i]}function ID(t,e,n){const r=CD(e);return ud.set(t,n),r.observe(t),()=>{ud.delete(t),r.unobserve(t)}}const PD={some:0,all:1};class RD extends Kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PD[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),p=c?h:d;p&&p(u)};return ID(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kD(e,n))&&this.startObserver()}unmount(){}}function kD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VD={inView:{Feature:RD},tap:{Feature:SD},focus:{Feature:TD},hover:{Feature:ED}},DD={layout:{ProjectionNode:MT,MeasureLayout:IT}},ND={...yV,...VD,...wD,...DD},Tn=Nk(ND,qk);function bD(){const t=new Date().getFullYear();return A.jsx("footer",{style:{background:"linear-gradient(180deg, #fffaff 0%, #fff1f7 100%)",borderTop:"1px solid #eadfff",paddingTop:40,paddingBottom:32},children:A.jsxs("div",{className:"container",style:{textAlign:"center"},children:[A.jsx(Tn.h3,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},style:{fontWeight:800,fontSize:"1.45rem",color:"#6a3ba6",marginBottom:6},children:"Pastelera Nancy "}),A.jsx(Tn.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2,duration:.6},style:{color:"#a28cbf",fontSize:"0.95rem",marginBottom:18,fontWeight:500},children:"Hecho con amor en Miranda, Cauca "}),A.jsx(Tn.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},transition:{duration:.8},style:{height:1,background:"#eadfff",margin:"0 auto 18px",borderRadius:2}}),A.jsxs("p",{style:{color:"#857b9a",fontSize:"0.9rem",margin:0,letterSpacing:.2},children:[" ",t," Pastelera Nancy  Todos los derechos reservados."]})]})})}function MD(){return R.useEffect(()=>{const t=document.querySelector(".header"),e=()=>{t&&t.classList.toggle("scrolled",window.scrollY>40)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),A.jsx("header",{className:"header",children:A.jsxs("nav",{className:"container nav",children:[A.jsxs("div",{className:"brand",children:[A.jsx("img",{src:"/logo.png",alt:"Logo Pastelera Nancy",className:"brand-logo"}),A.jsx("span",{className:"brand-text",children:"Pastelera Nancy"})]}),A.jsxs("div",{className:"actions",children:[A.jsx("a",{className:"btn secondary",href:"#sedes",children:"Sedes"}),A.jsx("a",{className:"btn",href:"#contacto",children:"Contactar"})]})]})})}function dm({id:t,variant:e="default",center:n,children:r,className:i,style:s}){const o=R.useRef(null);return R.useEffect(()=>{const a=o.current;if(!a)return;const u=a.querySelectorAll("[data-reveal]"),c=new IntersectionObserver(h=>{h.forEach(d=>{d.isIntersecting&&d.target.classList.add("reveal-in")})},{threshold:.15});return u.forEach(h=>c.observe(h)),()=>c.disconnect()},[]),A.jsxs("section",{id:t,ref:o,className:`section ${e} ${n?"center":""} ${i??""}`,"aria-labelledby":t?`${t}-title`:void 0,style:s,children:[A.jsx("div",{className:"container",children:r}),A.jsx("div",{className:"divider","aria-hidden":"true"})]})}function LD(){return R.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting&&(s.target.classList.add("reveal-in"),n.unobserve(s.target))})},{threshold:.2,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[]),A.jsxs(dm,{center:!0,variant:"brand",id:"inicio","aria-label":"Portada pastelera",children:[A.jsx("span",{className:"orb orb--1","aria-hidden":"true"}),A.jsx("span",{className:"orb orb--2","aria-hidden":"true"}),A.jsx("span",{className:"orb orb--3","aria-hidden":"true"}),A.jsx("div",{className:"container hero-wrap",children:A.jsxs("div",{className:"split",children:[A.jsxs("div",{"data-reveal":!0,className:"hero-copy",children:[A.jsx("p",{className:"eyebrow",children:"Pastelera artesanal"}),A.jsx("h1",{className:"h1",children:"La excelencia en pastelera"}),A.jsx("p",{className:"lead",children:"Tortas elegantes, frescas y con el toque perfecto para tus momentos especiales."}),A.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones principales",children:[A.jsx("a",{className:"btn btn-lg",href:"#sedes",children:"Ver sedes"}),A.jsx("a",{className:"btn secondary btn-lg",href:"#redes",children:"Sguenos"})]})]}),A.jsx("div",{"data-reveal":!0,className:"hero-media",children:A.jsxs("picture",{children:[A.jsx("source",{srcSet:"/hero-cake.png",type:"image/webp"}),A.jsx("img",{src:"/hero-cake.png",width:520,height:520,decoding:"async",fetchPriority:"high",alt:"Torta de cumpleaos con mariposas doradas",className:"hero-img floaty"})]})})]})}),A.jsx("div",{className:"divider","aria-hidden":"true"})]})}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),f_=t=>{const e=FD(t);return e.charAt(0).toUpperCase()+e.slice(1)},LT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>R.createElement("svg",{ref:u,...UD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LT("lucide",i),...!s&&!jD(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>R.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(t,e)=>{const n=R.forwardRef(({className:r,...i},s)=>R.createElement(BD,{ref:s,iconNode:e,className:LT(`lucide-${OD(f_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=f_(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zD=Mn("clock",$D);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],WD=Mn("folder-plus",HD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],KD=Mn("image-plus",qD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],d_=Mn("loader-circle",GD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XD=Mn("map-pin",QD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],JD=Mn("message-circle",YD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],eN=Mn("navigation",ZD);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],nN=Mn("rocket",tN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],iN=Mn("tag",rN);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vl=Mn("upload",sN),oN=[{label:"LunSb",time:"8:00AM  6:00PM"},{label:"Dom",time:"8:30AM  2:00PM"},{label:"Festivos",time:"8:30AM  1:00PM"}],aN=[{id:"miranda",name:"Sede Miranda",phone:"+57 315 5287225",whatsapp:"573155287225",address:"Calle 8 # 7 - 23",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+8+%23+7+-+23,+Miranda,+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-miranda.jpg"},{id:"florida",name:"Sede Florida",phone:"+57 315 0815246",whatsapp:"573150815246",address:"Calle 6 con Carrera 15, Esquina",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+6+con+Carrera+15,+Florida,+Valle+del+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-florida.png"}];function lN(t){return(t??"").replace(/\D+/g,"")}function uN(t,e){const n=lN(t);if(!n)return;const r=`?text=${encodeURIComponent(e)}`;return`https://wa.me/${n}${r}`}function cN(){R.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>i.forEach(s=>{s.isIntersecting&&(s.target.classList.add("reveal-in"),n.unobserve(s.target))}),{threshold:.16,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[])}const hN={hidden:{opacity:0,y:16,scale:.98},show:{opacity:1,y:0,scale:1,transition:{duration:.55}}};function fN({b:t}){const e=uN(t.whatsapp,"Hola! Quiero ms info ");return A.jsxs(Tn.article,{className:"branch card-out",variants:hN,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},"aria-label":`Informacin de ${t.name}`,children:[A.jsxs("div",{className:"branch-head",children:[A.jsx("img",{src:t.image,alt:"",className:"branch-head__img",loading:"lazy",decoding:"async"}),A.jsx("div",{className:"branch-head__overlay"}),A.jsxs("div",{className:"branch-head__content",children:[A.jsx("h3",{className:"branch-head__title",children:t.name}),A.jsxs("p",{className:"branch-head__sub",children:[A.jsx(XD,{size:16,style:{marginRight:6,verticalAlign:"-2px"}}),t.address]})]})]}),A.jsxs("div",{className:"branch-body",children:[A.jsxs("div",{className:"hours-card hours-card--out",role:"group","aria-label":`Horarios de ${t.name}`,children:[A.jsxs("div",{className:"hours-card__header",children:[A.jsx(zD,{size:18,"aria-hidden":"true"}),A.jsx("span",{children:"Horarios"})]}),A.jsx("ul",{className:"hours-list",children:oN.map(({label:n,time:r})=>A.jsxs("li",{className:"hour-row",children:[A.jsx("span",{className:"hour-label",children:n}),A.jsx("span",{className:"hour-time",children:r})]},n))})]}),A.jsxs("div",{className:"banner-cta",role:"group","aria-label":`Acciones de ${t.name}`,children:[e&&A.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"btn",children:[A.jsx(JD,{size:18,"aria-hidden":"true"})," WhatsApp"]}),t.mapsUrl&&A.jsxs("a",{href:t.mapsUrl,target:"_blank",rel:"noopener noreferrer",className:"btn secondary",children:[A.jsx(eN,{size:18,"aria-hidden":"true"})," Ver en Maps"]})]})]})]})}function dN(){return cN(),A.jsx(dm,{id:"sedes",variant:"alt",style:{background:"linear-gradient(180deg, #FFF1F7 0%, #F6F8FF 100%),radial-gradient(circle at top left, rgba(255, 182, 255, 0.25), transparent 60%),radial-gradient(circle at bottom right, rgba(180, 230, 255, 0.3), transparent 60%)",paddingBlock:"64px"},"aria-labelledby":"sedes-title",center:!0,children:A.jsxs("div",{className:"container",style:{textAlign:"center"},children:[A.jsxs("header",{"data-reveal":!0,style:{marginBottom:28},children:[A.jsx("h2",{id:"sedes-title",className:"h2",children:"Nuestras sedes"}),A.jsx("p",{className:"lead",children:"Elige tu sede y contctanos de una "})]}),A.jsx("div",{className:"branch-grid-2 branch-grid-2--center",children:A.jsx(Q1,{children:aN.map(t=>A.jsx(fN,{b:t},t.id))})})]})})}const pN=[{id:"instagram",label:"Instagram",href:"https://instagram.com/pasteleria.nancy",handle:"@pasteleria.nancy"},{id:"tiktok",label:"TikTok",href:"https://tiktok.com/@pasteleria_nancy",handle:"@pasteleria_nancy"},{id:"facebook",label:"Facebook",href:"https://www.facebook.com/p/Pasteleria-Nancy-100054205523535/",handle:"Pastelera Nancy"}],mN="https://wa.me/573155287225?text="+encodeURIComponent("Hola!"),gN="https://wa.me/573150815246?text="+encodeURIComponent("Hola!"),_l={ig:()=>A.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[A.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"5",stroke:"currentColor",strokeWidth:"2"}),A.jsx("circle",{cx:"12",cy:"12",r:"3.5",stroke:"currentColor",strokeWidth:"2"}),A.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.2",fill:"currentColor"})]}),tt:()=>A.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[A.jsx("path",{d:"M14 3v6.5a4.5 4.5 0 1 1-4.5-4.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),A.jsx("path",{d:"M14 6c1.2 1.8 3.1 3 5 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),fb:()=>A.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:A.jsx("path",{d:"M14 9h3V6h-3a3 3 0 0 0-3 3v3H8v3h3v6h3v-6h3l1-3h-4V9a1 1 0 0 1 1-1z",fill:"currentColor"})}),wa:()=>A.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 32 32",fill:"none",children:[A.jsx("path",{d:"M16 3C9.37 3 4 8.37 4 15c0 2.1.54 4.1 1.49 5.83L4 29l8.4-1.46A11.9 11.9 0 0 0 16 27c6.63 0 12-5.37 12-12S22.63 3 16 3z",fill:"currentColor"}),A.jsx("path",{d:"M22.1 19.9c-.2.57-1.16 1.08-1.6 1.1-.43.03-.97.04-1.56-.1-.36-.09-.83-.27-1.43-.53-2.51-1.08-4.14-3.7-4.27-3.88-.13-.18-1.02-1.36-1.02-2.6 0-1.23.65-1.83.88-2.09s.5-.33.66-.33H14c.15 0 .35-.06.55.42.2.49.67 1.7.73 1.83.06.13.1.28.02.46a2 2 0 0 1-.72.89c-.12.12-.25.26-.11.51.14.26.62 1.02 1.34 1.66.92.82 1.68 1.07 1.94 1.19.26.12.42.1.58-.06.16-.16.67-.78.85-1.05.18-.26.36-.22.6-.13.24.09 1.49.7 1.75.83.26.13.43.19.49.3.06.11.06.63-.14 1.2z",fill:"#fff"})]})},p_={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},m_={hidden:{opacity:0,y:10,scale:.97},show:{opacity:1,y:0,scale:1,transition:{duration:.4}}};function yN(){return A.jsxs(dm,{id:"redes",variant:"surface",center:!0,style:{background:"linear-gradient(180deg,#fff7fe 0%,#f9faff 40%,#fff1f7 100%)"},children:[A.jsxs("header",{"data-reveal":!0,style:{textAlign:"center",marginBottom:24},children:[A.jsx("h2",{id:"redes-title",className:"h2",children:"Sguenos y antojate"}),A.jsx("p",{className:"lead",children:"Promos, nuevos sabores y un vistazo al detrs de nuestras creaciones."})]}),A.jsx(Tn.div,{className:"social-center",variants:p_,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},children:pN.map(t=>A.jsxs(Tn.a,{href:t.href,target:"_blank",rel:"noreferrer",className:`social-card ${t.id}`,variants:m_,whileHover:{y:-4,boxShadow:"0 10px 24px rgba(183,108,253,0.25)",scale:1.03},style:{borderRadius:18,background:"#fff",border:"1px solid #eadfff",padding:"16px 18px",display:"flex",alignItems:"center",gap:14,transition:"all 0.2s ease"},children:[A.jsx("span",{className:"icon",style:{color:t.id==="instagram"?"#E4405F":t.id==="facebook"?"#1877F2":"#000"},children:t.id==="instagram"?A.jsx(_l.ig,{}):t.id==="tiktok"?A.jsx(_l.tt,{}):A.jsx(_l.fb,{})}),A.jsxs("div",{className:"text",style:{textAlign:"left"},children:[A.jsx("strong",{style:{fontSize:"16px",display:"block"},children:t.label}),A.jsx("span",{className:"handle",style:{color:"#857b9a"},children:t.handle})]})]},t.id))}),A.jsx(Tn.div,{className:"wa-wrap",variants:p_,initial:"hidden",whileInView:"show",viewport:{once:!0},style:{marginTop:36,gap:16,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[{href:mN,label:"Sede Miranda"},{href:gN,label:"Sede Florida"}].map((t,e)=>A.jsxs(Tn.a,{href:t.href,target:"_blank",rel:"noreferrer",variants:m_,whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(37,211,102,0.25)"},style:{display:"flex",alignItems:"center",gap:8,background:"linear-gradient(90deg,#25D366,#128C7E)",color:"#fff",borderRadius:999,padding:"12px 20px",fontWeight:700,boxShadow:"0 6px 14px rgba(37,211,102,0.3)",transition:"all 0.2s ease"},children:[A.jsx(_l.wa,{}),"WhatsApp ",t.label]},e))})]})}const vN=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_N=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,o||(p=64)),r.push(n[h],n[d],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_N(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new wN;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const C=c<<6&192|d;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EN=function(t){const e=OT(t);return FT.encodeByteArray(e,!0)},Pu=function(t){return EN(t).replace(/\./g,"")},TN=function(t){try{return FT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=()=>SN().__FIREBASE_DEFAULTS__,AN=()=>{if(typeof process>"u"||typeof g_>"u")return;const t=g_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TN(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return vN()||xN()||AN()||CN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IN=t=>{var e,n;return(n=(e=pm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},jT=t=>{const e=IN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UT=()=>{var t;return(t=pm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function BT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pu(JSON.stringify(n)),Pu(JSON.stringify(o)),""].join(".")}const Fo={};function RN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fo))Fo[e]?t.emulator.push(e):t.prod.push(e);return t}function kN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y_=!1;function zT(t,e){if(typeof window>"u"||typeof document>"u"||!dc(window.location.host)||Fo[t]===e||Fo[t]||y_)return;Fo[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=RN().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,g){p.setAttribute("width","24"),p.setAttribute("id",g),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{y_=!0,o()},p}function h(p,g){p.setAttribute("id",g),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=kN(r),g=n("text"),C=document.getElementById(g)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),h(k,I);const D=c();u(y,_),w.append(y,C,k,D),document.body.appendChild(w)}s?(C.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){var e;const t=(e=pm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NN(){return!DN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bN(){try{return typeof indexedDB=="object"}catch{return!1}}function MN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LN,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HT.prototype.create)}}class HT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ON(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xi(i,a,r)}}function ON(t,e){return t.replace(FN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const FN=/\{\$([^}]+)}/g;function Ru(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(v_(s)&&v_(o)){if(!Ru(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BN(e))try{this.getOrInitializeService({instanceIdentifier:ii})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ii){return this.instances.has(e)}getOptions(e=ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ii){return this.component?this.component.multipleInstances?e:ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UN(t){return t===ii?void 0:t}function BN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const zN={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},HN=ue.INFO,WN={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},qN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class WT{constructor(e){this.name=e,this._logLevel=HN,this._logHandler=qN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const KN=(t,e)=>e.some(n=>t instanceof n);let __,w_;function GN(){return __||(__=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return w_||(w_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,cd=new WeakMap,KT=new WeakMap,Mh=new WeakMap,mm=new WeakMap;function XN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ir(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,t)}).catch(()=>{}),mm.set(e,t),e}function YN(t){if(cd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cd.set(t,e)}let hd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JN(t){hd=t(hd)}function ZN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lh(this),e,...n);return KT.set(r,e.sort?e.sort():[e]),Ir(r)}:QN().includes(t)?function(...e){return t.apply(Lh(this),e),Ir(qT.get(this))}:function(...e){return Ir(t.apply(Lh(this),e))}}function eb(t){return typeof t=="function"?ZN(t):(t instanceof IDBTransaction&&YN(t),KN(t,GN())?new Proxy(t,hd):t)}function Ir(t){if(t instanceof IDBRequest)return XN(t);if(Mh.has(t))return Mh.get(t);const e=eb(t);return e!==t&&(Mh.set(t,e),mm.set(e,t)),e}const Lh=t=>mm.get(t);function tb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ir(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ir(o.result),u.oldVersion,u.newVersion,Ir(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nb=["get","getKey","getAll","getAllKeys","count"],rb=["put","add","delete","clear"],Oh=new Map;function E_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oh.get(e))return Oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nb.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Oh.set(e,s),s}JN(t=>({...t,get:(e,n,r)=>E_(e,n)||t.get(e,n,r),has:(e,n)=>!!E_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fd="@firebase/app",T_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new WT("@firebase/app"),ob="@firebase/app-compat",ab="@firebase/analytics-compat",lb="@firebase/analytics",ub="@firebase/app-check-compat",cb="@firebase/app-check",hb="@firebase/auth",fb="@firebase/auth-compat",db="@firebase/database",pb="@firebase/data-connect",mb="@firebase/database-compat",gb="@firebase/functions",yb="@firebase/functions-compat",vb="@firebase/installations",_b="@firebase/installations-compat",wb="@firebase/messaging",Eb="@firebase/messaging-compat",Tb="@firebase/performance",Sb="@firebase/performance-compat",xb="@firebase/remote-config",Ab="@firebase/remote-config-compat",Cb="@firebase/storage",Ib="@firebase/storage-compat",Pb="@firebase/firestore",Rb="@firebase/ai",kb="@firebase/firestore-compat",Vb="firebase",Db="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="[DEFAULT]",Nb={[fd]:"fire-core",[ob]:"fire-core-compat",[lb]:"fire-analytics",[ab]:"fire-analytics-compat",[cb]:"fire-app-check",[ub]:"fire-app-check-compat",[hb]:"fire-auth",[fb]:"fire-auth-compat",[db]:"fire-rtdb",[pb]:"fire-data-connect",[mb]:"fire-rtdb-compat",[gb]:"fire-fn",[yb]:"fire-fn-compat",[vb]:"fire-iid",[_b]:"fire-iid-compat",[wb]:"fire-fcm",[Eb]:"fire-fcm-compat",[Tb]:"fire-perf",[Sb]:"fire-perf-compat",[xb]:"fire-rc",[Ab]:"fire-rc-compat",[Cb]:"fire-gcs",[Ib]:"fire-gcs-compat",[Pb]:"fire-fst",[kb]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Vb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,bb=new Map,pd=new Map;function S_(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function da(t){const e=t.name;if(pd.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;pd.set(e,t);for(const n of ku.values())S_(n,t);for(const n of bb.values())S_(n,t);return!0}function GT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function QT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new HT("app","Firebase",Mb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=Db;function YT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dd,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(n||(n=UT()),!n)throw Pr.create("no-options");const s=ku.get(i);if(s){if(Ru(n,s.options)&&Ru(r,s.config))return s;throw Pr.create("duplicate-app",{appName:i})}const o=new $N(i);for(const u of pd.values())o.addComponent(u);const a=new Lb(n,r,o);return ku.set(i,a),a}function JT(t=dd){const e=ku.get(t);if(!e&&t===dd&&UT())return YT();if(!e)throw Pr.create("no-app",{appName:t});return e}function Rr(t,e,n){let r=Nb[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(o.join(" "));return}da(new Ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firebase-heartbeat-database",Fb=1,pa="firebase-heartbeat-store";let Fh=null;function ZT(){return Fh||(Fh=tb(Ob,Fb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Fh}async function jb(t){try{const n=(await ZT()).transaction(pa),r=await n.objectStore(pa).get(eS(t));return await n.done,r}catch(e){if(e instanceof xi)er.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function x_(t,e){try{const r=(await ZT()).transaction(pa,"readwrite");await r.objectStore(pa).put(e,eS(t)),await r.done}catch(n){if(n instanceof xi)er.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(r.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=1024,Bb=30;class $b{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=A_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Bb){const o=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=A_(),{heartbeatsToSend:r,unsentEntries:i}=zb(this._heartbeatsCache.heartbeats),s=Pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return er.warn(n),""}}}function A_(){return new Date().toISOString().substring(0,10)}function zb(t,e=Ub){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bN()?MN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jb(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function C_(t){return Pu(JSON.stringify({version:2,heartbeats:t})).length}function Wb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){da(new Ts("platform-logger",e=>new ib(e),"PRIVATE")),da(new Ts("heartbeat",e=>new $b(e),"PRIVATE")),Rr(fd,T_,t),Rr(fd,T_,"esm2020"),Rr("fire-js","")}qb("");var Kb="firebase",Gb="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(Kb,Gb,"app");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,tS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function x(){}x.prototype=v.prototype,T.F=v.prototype,T.prototype=new x,T.prototype.constructor=T,T.D=function(P,V,N){for(var S=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)S[Z-2]=arguments[Z];return v.prototype[V].apply(P,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,x){x||(x=0);const P=Array(16);if(typeof v=="string")for(var V=0;V<16;++V)P[V]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;else for(V=0;V<16;++V)P[V]=v[x++]|v[x++]<<8|v[x++]<<16|v[x++]<<24;v=T.g[0],x=T.g[1],V=T.g[2];let N=T.g[3],S;S=v+(N^x&(V^N))+P[0]+3614090360&4294967295,v=x+(S<<7&4294967295|S>>>25),S=N+(V^v&(x^V))+P[1]+3905402710&4294967295,N=v+(S<<12&4294967295|S>>>20),S=V+(x^N&(v^x))+P[2]+606105819&4294967295,V=N+(S<<17&4294967295|S>>>15),S=x+(v^V&(N^v))+P[3]+3250441966&4294967295,x=V+(S<<22&4294967295|S>>>10),S=v+(N^x&(V^N))+P[4]+4118548399&4294967295,v=x+(S<<7&4294967295|S>>>25),S=N+(V^v&(x^V))+P[5]+1200080426&4294967295,N=v+(S<<12&4294967295|S>>>20),S=V+(x^N&(v^x))+P[6]+2821735955&4294967295,V=N+(S<<17&4294967295|S>>>15),S=x+(v^V&(N^v))+P[7]+4249261313&4294967295,x=V+(S<<22&4294967295|S>>>10),S=v+(N^x&(V^N))+P[8]+1770035416&4294967295,v=x+(S<<7&4294967295|S>>>25),S=N+(V^v&(x^V))+P[9]+2336552879&4294967295,N=v+(S<<12&4294967295|S>>>20),S=V+(x^N&(v^x))+P[10]+4294925233&4294967295,V=N+(S<<17&4294967295|S>>>15),S=x+(v^V&(N^v))+P[11]+2304563134&4294967295,x=V+(S<<22&4294967295|S>>>10),S=v+(N^x&(V^N))+P[12]+1804603682&4294967295,v=x+(S<<7&4294967295|S>>>25),S=N+(V^v&(x^V))+P[13]+4254626195&4294967295,N=v+(S<<12&4294967295|S>>>20),S=V+(x^N&(v^x))+P[14]+2792965006&4294967295,V=N+(S<<17&4294967295|S>>>15),S=x+(v^V&(N^v))+P[15]+1236535329&4294967295,x=V+(S<<22&4294967295|S>>>10),S=v+(V^N&(x^V))+P[1]+4129170786&4294967295,v=x+(S<<5&4294967295|S>>>27),S=N+(x^V&(v^x))+P[6]+3225465664&4294967295,N=v+(S<<9&4294967295|S>>>23),S=V+(v^x&(N^v))+P[11]+643717713&4294967295,V=N+(S<<14&4294967295|S>>>18),S=x+(N^v&(V^N))+P[0]+3921069994&4294967295,x=V+(S<<20&4294967295|S>>>12),S=v+(V^N&(x^V))+P[5]+3593408605&4294967295,v=x+(S<<5&4294967295|S>>>27),S=N+(x^V&(v^x))+P[10]+38016083&4294967295,N=v+(S<<9&4294967295|S>>>23),S=V+(v^x&(N^v))+P[15]+3634488961&4294967295,V=N+(S<<14&4294967295|S>>>18),S=x+(N^v&(V^N))+P[4]+3889429448&4294967295,x=V+(S<<20&4294967295|S>>>12),S=v+(V^N&(x^V))+P[9]+568446438&4294967295,v=x+(S<<5&4294967295|S>>>27),S=N+(x^V&(v^x))+P[14]+3275163606&4294967295,N=v+(S<<9&4294967295|S>>>23),S=V+(v^x&(N^v))+P[3]+4107603335&4294967295,V=N+(S<<14&4294967295|S>>>18),S=x+(N^v&(V^N))+P[8]+1163531501&4294967295,x=V+(S<<20&4294967295|S>>>12),S=v+(V^N&(x^V))+P[13]+2850285829&4294967295,v=x+(S<<5&4294967295|S>>>27),S=N+(x^V&(v^x))+P[2]+4243563512&4294967295,N=v+(S<<9&4294967295|S>>>23),S=V+(v^x&(N^v))+P[7]+1735328473&4294967295,V=N+(S<<14&4294967295|S>>>18),S=x+(N^v&(V^N))+P[12]+2368359562&4294967295,x=V+(S<<20&4294967295|S>>>12),S=v+(x^V^N)+P[5]+4294588738&4294967295,v=x+(S<<4&4294967295|S>>>28),S=N+(v^x^V)+P[8]+2272392833&4294967295,N=v+(S<<11&4294967295|S>>>21),S=V+(N^v^x)+P[11]+1839030562&4294967295,V=N+(S<<16&4294967295|S>>>16),S=x+(V^N^v)+P[14]+4259657740&4294967295,x=V+(S<<23&4294967295|S>>>9),S=v+(x^V^N)+P[1]+2763975236&4294967295,v=x+(S<<4&4294967295|S>>>28),S=N+(v^x^V)+P[4]+1272893353&4294967295,N=v+(S<<11&4294967295|S>>>21),S=V+(N^v^x)+P[7]+4139469664&4294967295,V=N+(S<<16&4294967295|S>>>16),S=x+(V^N^v)+P[10]+3200236656&4294967295,x=V+(S<<23&4294967295|S>>>9),S=v+(x^V^N)+P[13]+681279174&4294967295,v=x+(S<<4&4294967295|S>>>28),S=N+(v^x^V)+P[0]+3936430074&4294967295,N=v+(S<<11&4294967295|S>>>21),S=V+(N^v^x)+P[3]+3572445317&4294967295,V=N+(S<<16&4294967295|S>>>16),S=x+(V^N^v)+P[6]+76029189&4294967295,x=V+(S<<23&4294967295|S>>>9),S=v+(x^V^N)+P[9]+3654602809&4294967295,v=x+(S<<4&4294967295|S>>>28),S=N+(v^x^V)+P[12]+3873151461&4294967295,N=v+(S<<11&4294967295|S>>>21),S=V+(N^v^x)+P[15]+530742520&4294967295,V=N+(S<<16&4294967295|S>>>16),S=x+(V^N^v)+P[2]+3299628645&4294967295,x=V+(S<<23&4294967295|S>>>9),S=v+(V^(x|~N))+P[0]+4096336452&4294967295,v=x+(S<<6&4294967295|S>>>26),S=N+(x^(v|~V))+P[7]+1126891415&4294967295,N=v+(S<<10&4294967295|S>>>22),S=V+(v^(N|~x))+P[14]+2878612391&4294967295,V=N+(S<<15&4294967295|S>>>17),S=x+(N^(V|~v))+P[5]+4237533241&4294967295,x=V+(S<<21&4294967295|S>>>11),S=v+(V^(x|~N))+P[12]+1700485571&4294967295,v=x+(S<<6&4294967295|S>>>26),S=N+(x^(v|~V))+P[3]+2399980690&4294967295,N=v+(S<<10&4294967295|S>>>22),S=V+(v^(N|~x))+P[10]+4293915773&4294967295,V=N+(S<<15&4294967295|S>>>17),S=x+(N^(V|~v))+P[1]+2240044497&4294967295,x=V+(S<<21&4294967295|S>>>11),S=v+(V^(x|~N))+P[8]+1873313359&4294967295,v=x+(S<<6&4294967295|S>>>26),S=N+(x^(v|~V))+P[15]+4264355552&4294967295,N=v+(S<<10&4294967295|S>>>22),S=V+(v^(N|~x))+P[6]+2734768916&4294967295,V=N+(S<<15&4294967295|S>>>17),S=x+(N^(V|~v))+P[13]+1309151649&4294967295,x=V+(S<<21&4294967295|S>>>11),S=v+(V^(x|~N))+P[4]+4149444226&4294967295,v=x+(S<<6&4294967295|S>>>26),S=N+(x^(v|~V))+P[11]+3174756917&4294967295,N=v+(S<<10&4294967295|S>>>22),S=V+(v^(N|~x))+P[2]+718787259&4294967295,V=N+(S<<15&4294967295|S>>>17),S=x+(N^(V|~v))+P[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,T.g[2]=T.g[2]+V&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.v=function(T,v){v===void 0&&(v=T.length);const x=v-this.blockSize,P=this.C;let V=this.h,N=0;for(;N<v;){if(V==0)for(;N<=x;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<v;)if(P[V++]=T.charCodeAt(N++),V==this.blockSize){i(this,P),V=0;break}}else for(;N<v;)if(P[V++]=T[N++],V==this.blockSize){i(this,P),V=0;break}}this.h=V,this.o+=v},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;v=this.o*8;for(var x=T.length-8;x<T.length;++x)T[x]=v&255,v/=256;for(this.v(T),T=Array(16),v=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)T[v++]=this.g[x]>>>P&255;return T};function s(T,v){var x=a;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=v(T)}function o(T,v){this.h=v;const x=[];let P=!0;for(let V=T.length-1;V>=0;V--){const N=T[V]|0;P&&N==v||(x[V]=N,P=!1)}this.g=x}var a={};function u(T){return-128<=T&&T<128?s(T,function(v){return new o([v|0],v<0?-1:0)}):new o([T|0],T<0?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(T<0)return k(c(-T));const v=[];let x=1;for(let P=0;T>=x;P++)v[P]=T/x|0,x*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return k(h(T.substring(1),v));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(v,8));let P=d;for(let N=0;N<T.length;N+=8){var V=Math.min(8,T.length-N);const S=parseInt(T.substring(N,N+V),v);V<8?(V=c(Math.pow(v,V)),P=P.j(V).add(c(S))):(P=P.j(x),P=P.add(c(S)))}return P}var d=u(0),p=u(1),g=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();let T=0,v=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);T+=(P>=0?P:4294967296+P)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(I(this))return"-"+k(this).toString(T);const v=c(Math.pow(T,6));var x=this;let P="";for(;;){const V=D(x,v).g;x=_(x,V.j(v));let N=((x.g.length>0?x.g[0]:x.h)>>>0).toString(T);if(x=V,C(x))return N+P;for(;N.length<6;)N="0"+N;P=N+P}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(let v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=_(this,T),I(T)?-1:C(T)?0:1};function k(T){const v=T.g.length,x=[];for(let P=0;P<v;P++)x[P]=~T.g[P];return new o(x,~T.h).add(p)}t.abs=function(){return I(this)?k(this):this},t.add=function(T){const v=Math.max(this.g.length,T.g.length),x=[];let P=0;for(let V=0;V<=v;V++){let N=P+(this.i(V)&65535)+(T.i(V)&65535),S=(N>>>16)+(this.i(V)>>>16)+(T.i(V)>>>16);P=S>>>16,N&=65535,S&=65535,x[V]=S<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function _(T,v){return T.add(k(v))}t.j=function(T){if(C(this)||C(T))return d;if(I(this))return I(T)?k(this).j(k(T)):k(k(this).j(T));if(I(T))return k(this.j(k(T)));if(this.l(g)<0&&T.l(g)<0)return c(this.m()*T.m());const v=this.g.length+T.g.length,x=[];for(var P=0;P<2*v;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<T.g.length;V++){const N=this.i(P)>>>16,S=this.i(P)&65535,Z=T.i(V)>>>16,re=T.i(V)&65535;x[2*P+2*V]+=S*re,y(x,2*P+2*V),x[2*P+2*V+1]+=N*re,y(x,2*P+2*V+1),x[2*P+2*V+1]+=S*Z,y(x,2*P+2*V+1),x[2*P+2*V+2]+=N*Z,y(x,2*P+2*V+2)}for(T=0;T<v;T++)x[T]=x[2*T+1]<<16|x[2*T];for(T=v;T<2*v;T++)x[T]=0;return new o(x,0)};function y(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function w(T,v){this.g=T,this.h=v}function D(T,v){if(C(v))throw Error("division by zero");if(C(T))return new w(d,d);if(I(T))return v=D(k(T),v),new w(k(v.g),k(v.h));if(I(v))return v=D(T,k(v)),new w(k(v.g),v.h);if(T.g.length>30){if(I(T)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var x=p,P=v;P.l(T)<=0;)x=M(x),P=M(P);var V=O(x,1),N=O(P,1);for(P=O(P,2),x=O(x,2);!C(P);){var S=N.add(P);S.l(T)<=0&&(V=V.add(x),N=S),P=O(P,1),x=O(x,1)}return v=_(T,V.j(v)),new w(V,v)}for(V=d;T.l(v)>=0;){for(x=Math.max(1,Math.floor(T.m()/v.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),N=c(x),S=N.j(v);I(S)||S.l(T)>0;)x-=P,N=c(x),S=N.j(v);C(N)&&(N=p),V=V.add(N),T=_(T,S)}return new w(V,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const v=Math.max(this.g.length,T.g.length),x=[];for(let P=0;P<v;P++)x[P]=this.i(P)&T.i(P);return new o(x,this.h&T.h)},t.or=function(T){const v=Math.max(this.g.length,T.g.length),x=[];for(let P=0;P<v;P++)x[P]=this.i(P)|T.i(P);return new o(x,this.h|T.h)},t.xor=function(T){const v=Math.max(this.g.length,T.g.length),x=[];for(let P=0;P<v;P++)x[P]=this.i(P)^T.i(P);return new o(x,this.h^T.h)};function M(T){const v=T.g.length+1,x=[];for(let P=0;P<v;P++)x[P]=T.i(P)<<1|T.i(P-1)>>>31;return new o(x,T.h)}function O(T,v){const x=v>>5;v%=32;const P=T.g.length-x,V=[];for(let N=0;N<P;N++)V[N]=v>0?T.i(N+x)>>>v|T.i(N+x+1)<<32-v:T.i(N+x);return new o(V,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,tS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,kr=o}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,Eo,rS,ql,md,iS,sS,oS;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wl=="object"&&wl];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var b=l[E];if(!(b in m))break e;m=m[b]}l=l[l.length-1],E=m[l],f=f(E),f!=E&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(f){var m=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&m.push([E,f[E]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function u(l,f,m){return l.call.apply(l.bind,arguments)}function c(l,f,m){return c=u,c.apply(null,arguments)}function h(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function d(l,f){function m(){}m.prototype=f.prototype,l.Z=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(E,b,L){for(var H=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)H[ne-2]=arguments[ne];return f.prototype[b].apply(E,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const f=l.length;if(f>0){const m=Array(f);for(let E=0;E<f;E++)m[E]=l[E];return m}return[]}function C(l,f){for(let E=1;E<arguments.length;E++){const b=arguments[E];var m=typeof b;if(m=m!="object"?m:b?Array.isArray(b)?"array":m:"null",m=="array"||m=="object"&&typeof b.length=="number"){m=l.length||0;const L=b.length||0;l.length=m+L;for(let H=0;H<L;H++)l[m+H]=b[H]}else l.push(b)}}class I{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function k(l){o.setTimeout(()=>{throw l},0)}function _(){var l=T;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class y{constructor(){this.h=this.g=null}add(f,m){const E=w.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var w=new I(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,T=new y,v=()=>{const l=Promise.resolve(void 0);M=()=>{l.then(x)}};function x(){for(var l;l=_();){try{l.h.call(l.g)}catch(m){k(m)}var f=w;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}O=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return l}();function S(l){return/^[\s\xa0]*$/.test(l)}function Z(l,f){V.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}d(Z,V),Z.prototype.init=function(l,f){const m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Ce=0;function ie(l,f,m,E,b){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=b,this.key=++Ce,this.da=this.fa=!1}function B(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,f,m){for(const E in l)f.call(m,l[E],E,l)}function $(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function ce(l){const f={};for(const m in l)f[m]=l[m];return f}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(l,f){let m,E;for(let b=1;b<arguments.length;b++){E=arguments[b];for(m in E)l[m]=E[m];for(let L=0;L<de.length;L++)m=de[L],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function xt(l){this.src=l,this.g={},this.h=0}xt.prototype.add=function(l,f,m,E,b){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const H=Nt(l,f,E,b);return H>-1?(f=l[H],m||(f.fa=!1)):(f=new ie(f,this.src,L,!!E,b),f.fa=m,l.push(f)),f};function pn(l,f){const m=f.type;if(m in l.g){var E=l.g[m],b=Array.prototype.indexOf.call(E,f,void 0),L;(L=b>=0)&&Array.prototype.splice.call(E,b,1),L&&(B(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Nt(l,f,m,E){for(let b=0;b<l.length;++b){const L=l[b];if(!L.da&&L.listener==f&&L.capture==!!m&&L.ha==E)return b}return-1}var mn="closure_lm_"+(Math.random()*1e6|0),$s={};function Fa(l,f,m,E,b){if(Array.isArray(f)){for(let L=0;L<f.length;L++)Fa(l,f[L],m,E,b);return null}return m=yt(m),l&&l[re]?l.J(f,m,a(E)?!!E.capture:!1,b):Pc(l,f,m,!1,E,b)}function Pc(l,f,m,E,b,L){if(!f)throw Error("Invalid event type");const H=a(b)?!!b.capture:!!b;let ne=me(l);if(ne||(l[mn]=ne=new xt(l)),m=ne.add(f,m,E,H,L),m.proxy)return m;if(E=j(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)N||(b=H),b===void 0&&(b=!1),l.addEventListener(f.toString(),E,b);else if(l.attachEvent)l.attachEvent(we(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function j(){function l(m){return f.call(l.src,l.listener,m)}const f=Bt;return l}function Q(l,f,m,E,b){if(Array.isArray(f))for(var L=0;L<f.length;L++)Q(l,f[L],m,E,b);else E=a(E)?!!E.capture:!!E,m=yt(m),l&&l[re]?(l=l.i,L=String(f).toString(),L in l.g&&(f=l.g[L],m=Nt(f,m,E,b),m>-1&&(B(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete l.g[L],l.h--)))):l&&(l=me(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Nt(f,m,E,b)),(m=l>-1?f[l]:null)&&pe(m))}function pe(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[re])pn(f.i,l);else{var m=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(m,E,l.capture):f.detachEvent?f.detachEvent(we(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=me(f))?(pn(m,l),m.h==0&&(m.src=null,f[mn]=null)):B(l)}}}function we(l){return l in $s?$s[l]:$s[l]="on"+l}function Bt(l,f){if(l.da)l=!0;else{f=new Z(f,this);const m=l.listener,E=l.ha||l.src;l.fa&&pe(l),l=m.call(E,f)}return l}function me(l){return l=l[mn],l instanceof xt?l:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(l){return typeof l=="function"?l:(l[en]||(l[en]=function(f){return l.handleEvent(f)}),l[en])}function ge(){P.call(this),this.i=new xt(this),this.M=this,this.G=null}d(ge,P),ge.prototype[re]=!0,ge.prototype.removeEventListener=function(l,f,m,E){Q(this,l,f,m,E)};function Ie(l,f){var m,E=l.G;if(E)for(m=[];E;E=E.G)m.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new V(f,l);else if(f instanceof V)f.target=f.target||l;else{var b=f;f=new V(E,l),On(f,b)}b=!0;let L,H;if(m)for(H=m.length-1;H>=0;H--)L=f.g=m[H],b=At(L,E,!0,f)&&b;if(L=f.g=l,b=At(L,E,!0,f)&&b,b=At(L,E,!1,f)&&b,m)for(H=0;H<m.length;H++)L=f.g=m[H],b=At(L,E,!1,f)&&b}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const m=l.g[f];for(let E=0;E<m.length;E++)B(m[E]);delete l.g[f],l.h--}}this.G=null},ge.prototype.J=function(l,f,m,E){return this.i.add(String(l),f,!1,m,E)},ge.prototype.K=function(l,f,m,E){return this.i.add(String(l),f,!0,m,E)};function At(l,f,m,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let b=!0;for(let L=0;L<f.length;++L){const H=f[L];if(H&&!H.da&&H.capture==m){const ne=H.listener,qe=H.ha||H.src;H.fa&&pn(l.i,H),b=ne.call(qe,E)!==!1&&b}}return b&&!E.defaultPrevented}function Fn(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function jn(l){l.g=Fn(()=>{l.g=null,l.i&&(l.i=!1,jn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class zs extends P{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:jn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(l){P.call(this),this.h=l,this.g={}}d(Gr,P);var qm=[];function Km(l){K(l.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},l),l.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),Km(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rc=o.JSON.stringify,Nx=o.JSON.parse,bx=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Gm(){}function Qm(){}var Hs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function kc(){V.call(this,"d")}d(kc,V);function Vc(){V.call(this,"c")}d(Vc,V);var Qr={},Xm=null;function ja(){return Xm=Xm||new ge}Qr.Ia="serverreachability";function Ym(l){V.call(this,Qr.Ia,l)}d(Ym,V);function Ws(l){const f=ja();Ie(f,new Ym(f))}Qr.STAT_EVENT="statevent";function Jm(l,f){V.call(this,Qr.STAT_EVENT,l),this.stat=f}d(Jm,V);function vt(l){const f=ja();Ie(f,new Jm(f,l))}Qr.Ja="timingevent";function Zm(l,f){V.call(this,Qr.Ja,l),this.size=f}d(Zm,V);function qs(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Ks(){this.g=!0}Ks.prototype.ua=function(){this.g=!1};function Mx(l,f,m,E,b,L){l.info(function(){if(l.g)if(L){var H="",ne=L.split("&");for(let ve=0;ve<ne.length;ve++){var qe=ne[ve].split("=");if(qe.length>1){const Ye=qe[0];qe=qe[1];const yn=Ye.split("_");H=yn.length>=2&&yn[1]=="type"?H+(Ye+"="+qe+"&"):H+(Ye+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+E+") [attempt "+b+"]: "+f+`
`+m+`
`+H})}function Lx(l,f,m,E,b,L,H){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+b+"]: "+f+`
`+m+`
`+L+" "+H})}function Ri(l,f,m,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Fx(l,m)+(E?" "+E:"")})}function Ox(l,f){l.info(function(){return"TIMEOUT: "+f})}Ks.prototype.info=function(){};function Fx(l,f){if(!l.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var E=m[1];if(Array.isArray(E)&&!(E.length<1)){var b=E[0];if(b!="noop"&&b!="stop"&&b!="close")for(let H=1;H<E.length;H++)E[H]=""}}}}return Rc(L)}catch{return f}}var Ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tg;function Dc(){}d(Dc,Gm),Dc.prototype.g=function(){return new XMLHttpRequest},tg=new Dc;function Gs(l){return encodeURIComponent(String(l))}function jx(l){var f=1;l=l.split(":");const m=[];for(;f>0&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function ir(l,f,m,E){this.j=l,this.i=f,this.l=m,this.S=E||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ng}function ng(){this.i=null,this.g="",this.h=!1}var rg={},Nc={};function bc(l,f,m){l.M=1,l.A=$a(gn(f)),l.u=m,l.R=!0,ig(l,null)}function ig(l,f){l.F=Date.now(),Ba(l),l.B=gn(l.A);var m=l.B,E=l.S;Array.isArray(E)||(E=[String(E)]),yg(m.i,"t",E),l.C=0,m=l.j.L,l.h=new ng,l.g=Mg(l.j,m?f:null,!l.u),l.P>0&&(l.O=new zs(c(l.Y,l,l.g),l.P)),f=l.V,m=l.g,E=l.ba;var b="readystatechange";Array.isArray(b)||(b&&(qm[0]=b.toString()),b=qm);for(let L=0;L<b.length;L++){const H=Fa(m,b[L],E||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=l.J?ce(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),Ws(),Mx(l.i,l.v,l.B,l.l,l.S,l.u)}ir.prototype.ba=function(l){l=l.target;const f=this.O;f&&ar(l)==3?f.j():this.Y(l)},ir.prototype.Y=function(l){try{if(l==this.g)e:{const ne=ar(this.g),qe=this.g.ya(),ve=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||xg(this.g)))){this.K||ne!=4||qe==7||(qe==8||ve<=0?Ws(3):Ws(2)),Mc(this);var f=this.g.ca();this.X=f;var m=Ux(this);if(this.o=f==200,Lx(this.i,this.v,this.B,this.l,this.S,ne,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,b=this.g;if((E=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(E)){var L=E;break t}}L=null}if(l=L)Ri(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lc(this,l);else{this.o=!1,this.m=3,vt(12),Xr(this),Qs(this);break e}}if(this.R){l=!0;let Ye;for(;!this.K&&this.C<m.length;)if(Ye=Bx(this,m),Ye==Nc){ne==4&&(this.m=4,vt(14),l=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Ye==rg){this.m=4,vt(15),Ri(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else Ri(this.i,this.l,Ye,null),Lc(this,Ye);if(sg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||m.length!=0||this.h.h||(this.m=1,vt(16),l=!1),this.o=this.o&&l,!l)Ri(this.i,this.l,m,"[Invalid Chunked Response]"),Xr(this),Qs(this);else if(m.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Hc(H),H.P=!0,vt(11))}}else Ri(this.i,this.l,m,null),Lc(this,m);ne==4&&Xr(this),this.o&&!this.K&&(ne==4?Vg(this.j,this):(this.o=!1,Ba(this)))}else tA(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),Xr(this),Qs(this)}}}catch{}finally{}};function Ux(l){if(!sg(l))return l.g.la();const f=xg(l.g);if(f==="")return"";let m="";const E=f.length,b=ar(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Xr(l),Qs(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<E;L++)l.h.h=!0,m+=l.h.i.decode(f[L],{stream:!(b&&L==E-1)});return f.length=0,l.h.g+=m,l.C=0,l.h.g}function sg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Bx(l,f){var m=l.C,E=f.indexOf(`
`,m);return E==-1?Nc:(m=Number(f.substring(m,E)),isNaN(m)?rg:(E+=1,E+m>f.length?Nc:(f=f.slice(E,E+m),l.C=E+m,f)))}ir.prototype.cancel=function(){this.K=!0,Xr(this)};function Ba(l){l.T=Date.now()+l.H,og(l,l.H)}function og(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=qs(c(l.aa,l),f)}function Mc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}ir.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Ox(this.i,this.B),this.M!=2&&(Ws(),vt(17)),Xr(this),this.m=2,Qs(this)):og(this,this.T-l)};function Qs(l){l.j.I==0||l.K||Vg(l.j,l)}function Xr(l){Mc(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,Km(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function Lc(l,f){try{var m=l.j;if(m.I!=0&&(m.g==l||Oc(m.h,l))){if(!l.L&&Oc(m.h,l)&&m.I==3){try{var E=m.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var b=E;if(b[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)Ka(m),Wa(m);else break e;zc(m),vt(18)}}else m.xa=b[1],0<m.xa-m.K&&b[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=qs(c(m.Va,m),6e3));ug(m.h)<=1&&m.ta&&(m.ta=void 0)}else Jr(m,11)}else if((l.L||m.g==l)&&Ka(m),!S(f))for(b=m.Ba.g.parse(f),f=0;f<b.length;f++){let ve=b[f];const Ye=ve[0];if(!(Ye<=m.K))if(m.K=Ye,ve=ve[1],m.I==2)if(ve[0]=="c"){m.M=ve[1],m.ba=ve[2];const yn=ve[3];yn!=null&&(m.ka=yn,m.j.info("VER="+m.ka));const Zr=ve[4];Zr!=null&&(m.za=Zr,m.j.info("SVER="+m.za));const lr=ve[5];lr!=null&&typeof lr=="number"&&lr>0&&(E=1.5*lr,m.O=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const ur=l.g;if(ur){const Qa=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qa){var L=E.h;L.g||Qa.indexOf("spdy")==-1&&Qa.indexOf("quic")==-1&&Qa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Fc(L,L.h),L.h=null))}if(E.G){const Wc=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(E.wa=Wc,Ee(E.J,E.G,Wc))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),E=m;var H=l;if(E.na=bg(E,E.L?E.ba:null,E.W),H.L){cg(E.h,H);var ne=H,qe=E.O;qe&&(ne.H=qe),ne.D&&(Mc(ne),Ba(ne)),E.g=H}else Rg(E);m.i.length>0&&qa(m)}else ve[0]!="stop"&&ve[0]!="close"||Jr(m,7);else m.I==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Jr(m,7):$c(m):ve[0]!="noop"&&m.l&&m.l.qa(ve),m.A=0)}}Ws(4)}catch{}}var $x=class{constructor(l,f){this.g=l,this.map=f}};function ag(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ug(l){return l.h?1:l.g?l.g.size:0}function Oc(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Fc(l,f){l.g?l.g.add(f):l.h=f}function cg(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}ag.prototype.cancel=function(){if(this.i=hg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function hg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.G);return f}return g(l.i)}var fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zx(l,f){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const E=l[m].indexOf("=");let b,L=null;E>=0?(b=l[m].substring(0,E),L=l[m].substring(E+1)):b=l[m],f(b,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function sr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof sr?(this.l=l.l,Xs(this,l.j),this.o=l.o,this.g=l.g,Ys(this,l.u),this.h=l.h,jc(this,vg(l.i)),this.m=l.m):l&&(f=String(l).match(fg))?(this.l=!1,Xs(this,f[1]||"",!0),this.o=Js(f[2]||""),this.g=Js(f[3]||"",!0),Ys(this,f[4]),this.h=Js(f[5]||"",!0),jc(this,f[6]||"",!0),this.m=Js(f[7]||"")):(this.l=!1,this.i=new eo(null,this.l))}sr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Zs(f,dg,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Zs(f,dg,!0),"@"),l.push(Gs(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Zs(m,m.charAt(0)=="/"?qx:Wx,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Zs(m,Gx)),l.join("")},sr.prototype.resolve=function(l){const f=gn(this);let m=!!l.j;m?Xs(f,l.j):m=!!l.o,m?f.o=l.o:m=!!l.g,m?f.g=l.g:m=l.u!=null;var E=l.h;if(m)Ys(f,l.u);else if(m=!!l.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var b=f.h.lastIndexOf("/");b!=-1&&(E=f.h.slice(0,b+1)+E)}if(b=E,b==".."||b==".")E="";else if(b.indexOf("./")!=-1||b.indexOf("/.")!=-1){E=b.lastIndexOf("/",0)==0,b=b.split("/");const L=[];for(let H=0;H<b.length;){const ne=b[H++];ne=="."?E&&H==b.length&&L.push(""):ne==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),E&&H==b.length&&L.push("")):(L.push(ne),E=!0)}E=L.join("/")}else E=b}return m?f.h=E:m=l.i.toString()!=="",m?jc(f,vg(l.i)):m=!!l.m,m&&(f.m=l.m),f};function gn(l){return new sr(l)}function Xs(l,f,m){l.j=m?Js(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ys(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function jc(l,f,m){f instanceof eo?(l.i=f,Qx(l.i,l.l)):(m||(f=Zs(f,Kx)),l.i=new eo(f,l.l))}function Ee(l,f,m){l.i.set(f,m)}function $a(l){return Ee(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Js(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zs(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,Hx),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Hx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dg=/[#\/\?@]/g,Wx=/[#\?:]/g,qx=/[#\?]/g,Kx=/[#\?@]/g,Gx=/#/g;function eo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Yr(l){l.g||(l.g=new Map,l.h=0,l.i&&zx(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=eo.prototype,t.add=function(l,f){Yr(this),this.i=null,l=ki(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function pg(l,f){Yr(l),f=ki(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function mg(l,f){return Yr(l),f=ki(l,f),l.g.has(f)}t.forEach=function(l,f){Yr(this),this.g.forEach(function(m,E){m.forEach(function(b){l.call(f,b,E,this)},this)},this)};function gg(l,f){Yr(l);let m=[];if(typeof f=="string")mg(l,f)&&(m=m.concat(l.g.get(ki(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)m=m.concat(l[f]);return m}t.set=function(l,f){return Yr(this),this.i=null,l=ki(this,l),mg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=gg(this,l),l.length>0?String(l[0]):f):f};function yg(l,f,m){pg(l,f),m.length>0&&(l.i=null,l.g.set(ki(l,f),g(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var m=f[E];const b=Gs(m);m=gg(this,m);for(let L=0;L<m.length;L++){let H=b;m[L]!==""&&(H+="="+Gs(m[L])),l.push(H)}}return this.i=l.join("&")};function vg(l){const f=new eo;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function ki(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Qx(l,f){f&&!l.j&&(Yr(l),l.i=null,l.g.forEach(function(m,E){const b=E.toLowerCase();E!=b&&(pg(this,E),yg(this,b,m))},l)),l.j=f}function Xx(l,f){const m=new Ks;if(o.Image){const E=new Image;E.onload=h(or,m,"TestLoadImage: loaded",!0,f,E),E.onerror=h(or,m,"TestLoadImage: error",!1,f,E),E.onabort=h(or,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=h(or,m,"TestLoadImage: timeout",!1,f,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Yx(l,f){const m=new Ks,E=new AbortController,b=setTimeout(()=>{E.abort(),or(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(L=>{clearTimeout(b),L.ok?or(m,"TestPingServer: ok",!0,f):or(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(b),or(m,"TestPingServer: error",!1,f)})}function or(l,f,m,E,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),E(m)}catch{}}function Jx(){this.g=new bx}function Uc(l){this.i=l.Sb||null,this.h=l.ab||!1}d(Uc,Gm),Uc.prototype.g=function(){return new za(this.i,this.h)};function za(l,f){ge.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(za,ge),t=za.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,no(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,to(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,no(this)),this.g&&(this.readyState=3,no(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_g(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function _g(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?to(this):no(this),this.readyState==3&&_g(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,to(this))},t.Na=function(l){this.g&&(this.response=l,to(this))},t.ga=function(){this.g&&to(this)};function to(l){l.readyState=4,l.l=null,l.j=null,l.B=null,no(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function no(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(za.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function wg(l){let f="";return K(l,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function Bc(l,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=wg(m),typeof l=="string"?m!=null&&Gs(m):Ee(l,f,m))}function Le(l){ge.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Le,ge);var Zx=/^https?$/i,eA=["POST","PUT"];t=Le.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(L){Eg(this,L);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var b in E)m.set(b,E[b]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const L of E.keys())m.set(L,E.get(L));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),b=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(eA,f,void 0)>=0)||E||b||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of m)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Eg(this,L)}};function Eg(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,Tg(l),Ha(l)}function Tg(l){l.A||(l.A=!0,Ie(l,"complete"),Ie(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Ie(this,"complete"),Ie(this,"abort"),Ha(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ha(this,!0)),Le.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sg(this):this.Xa())},t.Xa=function(){Sg(this)};function Sg(l){if(l.h&&typeof s<"u"){if(l.v&&ar(l)==4)setTimeout(l.Ca.bind(l),0);else if(Ie(l,"readystatechange"),ar(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=L===0){let H=String(l.D).match(fg)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),E=!Zx.test(H?H.toLowerCase():"")}m=E}if(m)Ie(l,"complete"),Ie(l,"success");else{l.o=6;try{var b=ar(l)>2?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.ca()+"]",Tg(l)}}finally{Ha(l)}}}}function Ha(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,f||Ie(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ar(l){return l.g?l.g.readyState:0}t.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Nx(f)}};function xg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function tA(l){const f={};l=(l.g&&ar(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(S(l[E]))continue;var m=jx(l[E]);const b=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=f[b]||[];f[b]=L,L.push(m)}$(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ro(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function Ag(l){this.za=0,this.i=[],this.j=new Ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ro("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ro("baseRetryDelayMs",5e3,l),this.Za=ro("retryDelaySeedMs",1e4,l),this.Ta=ro("forwardChannelMaxRetries",2,l),this.va=ro("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new ag(l&&l.concurrentRequestLimit),this.Ba=new Jx,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ag.prototype,t.ka=8,t.I=1,t.connect=function(l,f,m,E){vt(0),this.W=l,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.J=bg(this,null,this.W),qa(this)};function $c(l){if(Cg(l),l.I==3){var f=l.V++,m=gn(l.J);if(Ee(m,"SID",l.M),Ee(m,"RID",f),Ee(m,"TYPE","terminate"),io(l,m),f=new ir(l,l.j,f),f.M=2,f.A=$a(gn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Mg(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Ba(f)}Ng(l)}function Wa(l){l.g&&(Hc(l),l.g.cancel(),l.g=null)}function Cg(l){Wa(l),l.v&&(o.clearTimeout(l.v),l.v=null),Ka(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function qa(l){if(!lg(l.h)&&!l.m){l.m=!0;var f=l.Ea;M||v(),O||(M(),O=!0),T.add(f,l),l.D=0}}function nA(l,f){return ug(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=qs(c(l.Ea,l,f),Dg(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const b=new ir(this,this.j,l);let L=this.o;if(this.U&&(L?(L=ce(L),On(L,this.U)):L=this.U),this.u!==null||this.R||(b.J=L,L=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Pg(this,b,f),m=gn(this.J),Ee(m,"RID",l),Ee(m,"CVER",22),this.G&&Ee(m,"X-HTTP-Session-Id",this.G),io(this,m),L&&(this.R?f="headers="+Gs(wg(L))+"&"+f:this.u&&Bc(m,this.u,L)),Fc(this.h,b),this.Ra&&Ee(m,"TYPE","init"),this.S?(Ee(m,"$req",f),Ee(m,"SID","null"),b.U=!0,bc(b,m,null)):bc(b,m,f),this.I=2}}else this.I==3&&(l?Ig(this,l):this.i.length==0||lg(this.h)||Ig(this))};function Ig(l,f){var m;f?m=f.l:m=l.V++;const E=gn(l.J);Ee(E,"SID",l.M),Ee(E,"RID",m),Ee(E,"AID",l.K),io(l,E),l.u&&l.o&&Bc(E,l.u,l.o),m=new ir(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),f&&(l.i=f.G.concat(l.i)),f=Pg(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Fc(l.h,m),bc(m,E,f)}function io(l,f){l.H&&K(l.H,function(m,E){Ee(f,E,m)}),l.l&&K({},function(m,E){Ee(f,E,m)})}function Pg(l,f,m){m=Math.min(l.i.length,m);const E=l.l?c(l.l.Ka,l.l,l):null;e:{var b=l.i;let ne=-1;for(;;){const qe=["count="+m];ne==-1?m>0?(ne=b[0].g,qe.push("ofs="+ne)):ne=0:qe.push("ofs="+ne);let ve=!0;for(let Ye=0;Ye<m;Ye++){var L=b[Ye].g;const yn=b[Ye].map;if(L-=ne,L<0)ne=Math.max(0,b[Ye].g-100),ve=!1;else try{L="req"+L+"_"||"";try{var H=yn instanceof Map?yn:Object.entries(yn);for(const[Zr,lr]of H){let ur=lr;a(lr)&&(ur=Rc(lr)),qe.push(L+Zr+"="+encodeURIComponent(ur))}}catch(Zr){throw qe.push(L+"type="+encodeURIComponent("_badmap")),Zr}}catch{E&&E(yn)}}if(ve){H=qe.join("&");break e}}H=void 0}return l=l.i.splice(0,m),f.G=l,H}function Rg(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;M||v(),O||(M(),O=!0),T.add(f,l),l.A=0}}function zc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=qs(c(l.Da,l),Dg(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,kg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=qs(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Wa(this),kg(this))};function Hc(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function kg(l){l.g=new ir(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=gn(l.na);Ee(f,"RID","rpc"),Ee(f,"SID",l.M),Ee(f,"AID",l.K),Ee(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ee(f,"TO",l.ia),Ee(f,"TYPE","xmlhttp"),io(l,f),l.u&&l.o&&Bc(f,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=$a(gn(f)),m.u=null,m.R=!0,ig(m,l)}t.Va=function(){this.C!=null&&(this.C=null,Wa(this),zc(this),vt(19))};function Ka(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Vg(l,f){var m=null;if(l.g==f){Ka(l),Hc(l),l.g=null;var E=2}else if(Oc(l.h,f))m=f.G,cg(l.h,f),E=1;else return;if(l.I!=0){if(f.o)if(E==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var b=l.D;E=ja(),Ie(E,new Zm(E,m)),qa(l)}else Rg(l);else if(b=f.m,b==3||b==0&&f.X>0||!(E==1&&nA(l,f)||E==2&&zc(l)))switch(m&&m.length>0&&(f=l.h,f.i=f.i.concat(m)),b){case 1:Jr(l,5);break;case 4:Jr(l,10);break;case 3:Jr(l,6);break;default:Jr(l,2)}}}function Dg(l,f){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*f}function Jr(l,f){if(l.j.info("Error code "+f),f==2){var m=c(l.bb,l),E=l.Ua;const b=!E;E=new sr(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Xs(E,"https"),$a(E),b?Xx(E.toString(),m):Yx(E.toString(),m)}else vt(2);l.I=0,l.l&&l.l.pa(f),Ng(l),Cg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Ng(l){if(l.I=0,l.ja=[],l.l){const f=hg(l.h);(f.length!=0||l.i.length!=0)&&(C(l.ja,f),C(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function bg(l,f,m){var E=m instanceof sr?gn(m):new sr(m);if(E.g!="")f&&(E.g=f+"."+E.g),Ys(E,E.u);else{var b=o.location;E=b.protocol,f=f?f+"."+b.hostname:b.hostname,b=+b.port;const L=new sr(null);E&&Xs(L,E),f&&(L.g=f),b&&Ys(L,b),m&&(L.h=m),E=L}return m=l.G,f=l.wa,m&&f&&Ee(E,m,f),Ee(E,"VER",l.ka),io(l,E),E}function Mg(l,f,m){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new Le(new Uc({ab:m})):new Le(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lg(){}t=Lg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ga(){}Ga.prototype.g=function(l,f){return new bt(l,f)};function bt(l,f){ge.call(this),this.g=new Ag(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!S(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!S(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Vi(this)}d(bt,ge),bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){$c(this.g)},bt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Rc(l),l=m);f.i.push(new $x(f.Ya++,l)),f.I==3&&qa(f)},bt.prototype.N=function(){this.g.l=null,delete this.j,$c(this.g),delete this.g,bt.Z.N.call(this)};function Og(l){kc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}d(Og,kc);function Fg(){Vc.call(this),this.status=1}d(Fg,Vc);function Vi(l){this.g=l}d(Vi,Lg),Vi.prototype.ra=function(){Ie(this.g,"a")},Vi.prototype.qa=function(l){Ie(this.g,new Og(l))},Vi.prototype.pa=function(l){Ie(this.g,new Fg)},Vi.prototype.oa=function(){Ie(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,oS=function(){return new Ga},sS=function(){return ja()},iS=Qr,md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ua.NO_ERROR=0,Ua.TIMEOUT=8,Ua.HTTP_ERROR=6,ql=Ua,eg.COMPLETE="complete",rS=eg,Qm.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Eo=Qm,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,nS=Le}).apply(typeof wl<"u"?wl:typeof self<"u"?self:typeof window<"u"?window:{});const P_="@firebase/firestore",R_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new WT("@firebase/firestore");function Ni(){return wi.logLevel}function W(t,...e){if(wi.logLevel<=ue.DEBUG){const n=e.map(gm);wi.debug(`Firestore (${Fs}): ${t}`,...n)}}function tr(t,...e){if(wi.logLevel<=ue.ERROR){const n=e.map(gm);wi.error(`Firestore (${Fs}): ${t}`,...n)}}function Ss(t,...e){if(wi.logLevel<=ue.WARN){const n=e.map(gm);wi.warn(`Firestore (${Fs}): ${t}`,...n)}}function gm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aS(t,r,n)}function aS(t,e,n){let r=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw tr(r),new Error(r)}function fe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||aS(e,i,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class Xb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yb{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string",31837,{l:r}),new lS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string",2055,{h:e}),new ft(e)}}class Jb{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zb{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Jb(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new k_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new k_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function gd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return jh(i)===jh(s)?oe(i,s):jh(i)?1:-1}return oe(t.length,e.length)}const nM=55296,rM=57343;function jh(t){const e=t.charCodeAt(0);return e>=nM&&e<=rM}function xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__name__";class wn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=wn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=wn.isNumericId(e),i=wn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?wn.extractNumericId(e).compare(wn.extractNumericId(n)):gd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class Se extends wn{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const iM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends wn{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return iM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new it([V_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.path=e}static fromPath(e){return new X(Se.fromString(e))}static fromName(e){return new X(Se.fromString(e).popFirst(5))}static empty(){return new X(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new Se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sM(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D_(t){if(!X.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N_(t){if(X.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Vu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vm(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const n={typeString:t};return e&&(n.value=e),n}function Na(t,e){if(!cS(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-62135596800,M_=1e6;class xe{static now(){return xe.fromMillis(Date.now())}static fromDate(e){return xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*M_);return new xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b_)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Na(e,xe._jsonSchema))return new xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xe._jsonSchemaVersion="firestore/timestamp/1.0",xe._jsonSchema={type:We("string",xe._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new xe(0,0))}static max(){return new ee(new xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=-1;function oM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new xe(n+1,0):new xe(n,r));return new Or(i,X.empty(),e)}function aM(t){return new Or(t.readTime,t.key,ma)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(ee.min(),X.empty(),ma)}static max(){return new Or(ee.max(),X.empty(),ma)}}function lM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=X.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==uM)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function hM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Us(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m=-1;function mc(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function fM(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function dM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=pM(t.get(n),e);return L_(e)}function pM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case hS:n+="";break;default:n+=s}}return n}function L_(t){return t+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new El(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new El(this.root,e,this.comparator,!1)}getReverseIterator(){return new El(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new El(this.root,e,this.comparator,!0)}}class El{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new an([])}unionWith(e){let n=new Xe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dS("Invalid base64 string: "+s):s}}(e);return new lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lt.EMPTY_BYTE_STRING=new lt("");const mM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(fe(!!t,39018),typeof t=="string"){let e=0;const n=mM.exec(t);if(fe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="server_timestamp",mS="__type__",gS="__previous_value__",yS="__local_write_time__";function wm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mS])==null?void 0:r.stringValue)===pS}function gc(t){const e=t.mapValue.fields[gS];return wm(e)?gc(e):e}function ga(t){const e=Fr(t.mapValue.fields[yS].timestampValue);return new xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Nu="(default)";class ya{constructor(e,n){this.projectId=e,this.database=n||Nu}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database===Nu}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",yM="__max__",Tl={mapValue:{}},_S="__vector__",bu="value";function Ur(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wm(t)?4:_M(t)?9007199254740991:vM(t)?10:11:Y(28295,{value:t})}function Vn(t,e){if(t===e)return!0;const n=Ur(t);if(n!==Ur(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ga(t).isEqual(ga(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fr(i.timestampValue),a=Fr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jr(i.bytesValue).isEqual(jr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Du(o)===Du(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xs(t.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O_(o)!==O_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Vn(o[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function va(t,e){return(t.values||[]).find(n=>Vn(n,e))!==void 0}function As(t,e){if(t===e)return 0;const n=Ur(t),r=Ur(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),u=Ue(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return j_(t.timestampValue,e.timestampValue);case 4:return j_(ga(t),ga(e));case 5:return gd(t.stringValue,e.stringValue);case 6:return function(s,o){const a=jr(s),u=jr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=oe(a[c],u[c]);if(h!==0)return h}return oe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Ue(s.latitude),Ue(o.latitude));return a!==0?a:oe(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,g,C,I;const a=s.fields||{},u=o.fields||{},c=(p=a[bu])==null?void 0:p.arrayValue,h=(g=u[bu])==null?void 0:g.arrayValue,d=oe(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return d!==0?d:U_(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Tl.mapValue&&o===Tl.mapValue)return 0;if(s===Tl.mapValue)return 1;if(o===Tl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let d=0;d<u.length&&d<h.length;++d){const p=gd(u[d],h[d]);if(p!==0)return p;const g=As(a[u[d]],c[h[d]]);if(g!==0)return g}return oe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function j_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Fr(t),r=Fr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function U_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=As(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Cs(t){return yd(t)}function yd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return X.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=yd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${yd(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function Kl(t){switch(Ur(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(t);return e?16+Kl(e):16;case 5:return 2*t.stringValue.length;case 6:return jr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ai(r.fields,(s,o)=>{i+=s.length+Kl(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function vd(t){return!!t&&"integerValue"in t}function Em(t){return!!t&&"arrayValue"in t}function B_(t){return!!t&&"nullValue"in t}function $_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gl(t){return!!t&&"mapValue"in t}function vM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vS])==null?void 0:r.stringValue)===_S}function jo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jo(t.arrayValue.values[n]);return e}return{...t}}function _M(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jo(n)}setAll(e){let n=it.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=jo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ai(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(jo(this.value))}}function wS(t){const e=[];return Ai(t.fields,(n,r)=>{const i=new it([n]);if(Gl(r)){const s=wS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,ee.min(),ee.min(),ee.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new pt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new pt(e,2,n,ee.min(),ee.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ee.min(),ee.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.position=e,this.inclusive=n}}function z_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(o.referenceValue),n.key):r=As(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function H_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n="asc"){this.field=e,this.dir=n}}function wM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class Ge extends ES{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TM(e,n,r):n==="array-contains"?new AM(e,r):n==="in"?new CM(e,r):n==="not-in"?new IM(e,r):n==="array-contains-any"?new PM(e,r):new Ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SM(e,r):new xM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(As(n,this.value)):n!==null&&Ur(this.value)===Ur(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends ES{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Dn(e,n)}matches(e){return TS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TS(t){return t.op==="and"}function SS(t){return EM(t)&&TS(t)}function EM(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function _d(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(SS(t))return t.filters.map(e=>_d(e)).join(",");{const e=t.filters.map(n=>_d(n)).join(",");return`${t.op}(${e})`}}function xS(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&xS(o,i.filters[a]),!0):!1}(t,e):void Y(19439)}function AS(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Cs(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}class TM extends Ge{constructor(e,n,r){super(e,n,r),this.key=X.fromName(r.referenceValue)}matches(e){const n=X.comparator(e.key,this.key);return this.matchesComparison(n)}}class SM extends Ge{constructor(e,n){super(e,"in",n),this.keys=CS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xM extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=CS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class AM extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Em(n)&&va(n.arrayValue,this.value)}}class CM extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}}class IM extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!va(this.value.arrayValue,n)}}class PM extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Em(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>va(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function W_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new RM(t,e,n,r,i,s,o)}function Tm(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_d(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),mc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.Te=n}return e.Te}function Sm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H_(t.startAt,e.startAt)&&H_(t.endAt,e.endAt)}function wd(t){return X.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kM(t,e,n,r,i,s,o,a){return new yc(t,e,n,r,i,s,o,a)}function IS(t){return new yc(t)}function q_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VM(t){return t.collectionGroup!==null}function Uo(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(it.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Lu(s,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new Lu(it.keyField(),r))}return e.Ie}function In(t){const e=te(t);return e.Ee||(e.Ee=DM(e,Uo(t))),e.Ee}function DM(t,e){if(t.limitType==="F")return W_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Lu(i.field,s)});const n=t.endAt?new Mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mu(t.startAt.position,t.startAt.inclusive):null;return W_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ed(t,e,n){return new yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vc(t,e){return Sm(In(t),In(e))&&t.limitType===e.limitType}function PS(t){return`${Tm(In(t))}|lt:${t.limitType}`}function bi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AS(i)).join(", ")}]`),mc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cs(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function _c(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Uo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=z_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Uo(r),i)||r.endAt&&!function(o,a,u){const c=z_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Uo(r),i))}(t,e)}function NM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RS(t){return(e,n)=>{let r=!1;for(const i of Uo(t)){const s=bM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function bM(t,e,n){const r=t.field.isKeyField()?X.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?As(u,c):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Me(X.comparator);function nr(){return MM}const kS=new Me(X.comparator);function To(...t){let e=kS;for(const n of t)e=e.insert(n.key,n);return e}function VS(t){let e=kS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return Bo()}function DS(){return Bo()}function Bo(){return new Ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const LM=new Me(X.comparator),OM=new Xe(X.comparator);function ae(...t){let e=OM;for(const n of t)e=e.add(n);return e}const FM=new Xe(oe);function jM(){return FM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function NS(t){return{integerValue:""+t}}function UM(t,e){return fM(e)?NS(e):xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function BM(t,e,n){return t instanceof _a?function(i,s){const o={fields:{[mS]:{stringValue:pS},[yS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&wm(s)&&(s=gc(s)),s&&(o.fields[gS]=s),{mapValue:o}}(n,e):t instanceof wa?MS(t,e):t instanceof Ea?LS(t,e):function(i,s){const o=bS(i,s),a=K_(o)+K_(i.Ae);return vd(o)&&vd(i.Ae)?NS(a):xm(i.serializer,a)}(t,e)}function $M(t,e,n){return t instanceof wa?MS(t,e):t instanceof Ea?LS(t,e):n}function bS(t,e){return t instanceof Ou?function(r){return vd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _a extends wc{}class wa extends wc{constructor(e){super(),this.elements=e}}function MS(t,e){const n=OS(e);for(const r of t.elements)n.some(i=>Vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ea extends wc{constructor(e){super(),this.elements=e}}function LS(t,e){let n=OS(e);for(const r of t.elements)n=n.filter(i=>!Vn(i,r));return{arrayValue:{values:n}}}class Ou extends wc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K_(t){return Ue(t.integerValue||t.doubleValue)}function OS(t){return Em(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n){this.field=e,this.transform=n}}function HM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wa&&i instanceof wa||r instanceof Ea&&i instanceof Ea?xs(r.elements,i.elements,Vn):r instanceof Ou&&i instanceof Ou?Vn(r.Ae,i.Ae):r instanceof _a&&i instanceof _a}(t.transform,e.transform)}class WM{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ec{}function FS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new US(t.key,qn.none()):new ba(t.key,t.data,qn.none());{const n=t.data,r=qt.empty();let i=new Xe(it.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ii(t.key,r,new an(i.toArray()),qn.none())}}function qM(t,e,n){t instanceof ba?function(i,s,o){const a=i.value.clone(),u=Q_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ii?function(i,s,o){if(!Ql(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Q_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(jS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function $o(t,e,n,r){return t instanceof ba?function(s,o,a,u){if(!Ql(s.precondition,o))return a;const c=s.value.clone(),h=X_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ii?function(s,o,a,u){if(!Ql(s.precondition,o))return a;const c=X_(s.fieldTransforms,u,o),h=o.data;return h.setAll(jS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Ql(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function KM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=bS(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function G_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xs(r,i,(s,o)=>HM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ba extends Ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends Ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Q_(t,e,n){const r=new Map;fe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$M(o,a,n[i]))}return r}function X_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BM(s,o,e))}return r}class US extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends Ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=FS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&xs(this.mutations,e.mutations,(n,r)=>G_(n,r))&&xs(this.baseMutations,e.baseMutations,(n,r)=>G_(n,r))}}class Am{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return LM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Am(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,le;function JM(t){switch(t){case U.OK:return Y(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function BS(t){if(t===void 0)return tr("GRPC error has no .code"),U.UNKNOWN;switch(t){case $e.OK:return U.OK;case $e.CANCELLED:return U.CANCELLED;case $e.UNKNOWN:return U.UNKNOWN;case $e.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case $e.INTERNAL:return U.INTERNAL;case $e.UNAVAILABLE:return U.UNAVAILABLE;case $e.UNAUTHENTICATED:return U.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case $e.NOT_FOUND:return U.NOT_FOUND;case $e.ALREADY_EXISTS:return U.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return U.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case $e.ABORTED:return U.ABORTED;case $e.OUT_OF_RANGE:return U.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return U.UNIMPLEMENTED;case $e.DATA_LOSS:return U.DATA_LOSS;default:return Y(39323,{code:t})}}(le=$e||($e={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new kr([4294967295,4294967295],0);function Y_(t){const e=ZM().encode(t),n=new tS;return n.update(e),new Uint8Array(n.digest())}function J_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kr([n,r],0),new kr([i,s],0)]}class Cm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(r<0)throw new So(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(kr.fromNumber(r)));return i.compare(eL)===1&&(i=new kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y_(e),[r,i]=J_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Cm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Y_(e),[r,i]=J_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tc(ee.min(),i,new Me(oe),nr(),ae())}}class Ma{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ma(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $S{constructor(e,n){this.targetId=e,this.Ce=n}}class zS{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Z_{constructor(){this.ve=0,this.Fe=e0(),this.Me=lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),r=ae();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new Ma(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=e0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tL{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.Je=Sl(),this.He=Sl(),this.Ye=new Me(oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(wd(s))if(r===0){const o=new X(s.path);this.et(n,o,pt.newNoDocument(o,ee.min()))}else fe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=jr(r).toUint8Array()}catch(u){if(u instanceof dS)return Ss("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Cm(o,i,s)}catch(u){return Ss(u instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&wd(a.target)){const u=new X(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,pt.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ae();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Tc(e,n,this.Ye,this.je,r);return this.je=nr(),this.Je=Sl(),this.He=Sl(),this.Ye=new Me(oe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Z_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xe(oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xe(oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sl(){return new Me(X.comparator)}function e0(){return new Me(X.comparator)}const nL={asc:"ASCENDING",desc:"DESCENDING"},rL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iL={and:"AND",or:"OR"};class sL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Td(t,e){return t.useProto3Json||mc(e)?e:{value:e}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oL(t,e){return Fu(t,e.toTimestamp())}function Pn(t){return fe(!!t,49232),ee.fromTimestamp(function(n){const r=Fr(n);return new xe(r.seconds,r.nanos)}(t))}function Im(t,e){return Sd(t,e).canonicalString()}function Sd(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WS(t){const e=Se.fromString(t);return fe(XS(e),10190,{key:e.toString()}),e}function xd(t,e){return Im(t.databaseId,e.path)}function Uh(t,e){const n=WS(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new X(KS(n))}function qS(t,e){return Im(t.databaseId,e)}function aL(t){const e=WS(t);return e.length===4?Se.emptyPath():KS(e)}function Ad(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KS(t){return fe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function t0(t,e,n){return{name:xd(t,e),fields:n.value.mapValue.fields}}function lL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(fe(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:BS(c.code);return new G(h,c.message||"")}(o);n=new zS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uh(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):ee.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=pt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Xl(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uh(t,r.document),s=r.readTime?Pn(r.readTime):ee.min(),o=pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uh(t,r.document),s=r.removedTargetIds||[];n=new Xl([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new YM(i,s),a=r.targetId;n=new $S(a,o)}}return n}function uL(t,e){let n;if(e instanceof ba)n={update:t0(t,e.key,e.value)};else if(e instanceof US)n={delete:xd(t,e.key)};else if(e instanceof Ii)n={update:t0(t,e.key,e.data),updateMask:vL(e.fieldMask)};else{if(!(e instanceof GM))return Y(16599,{Vt:e.type});n={verify:xd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof _a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ou)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:oL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function cL(t,e){return t&&t.length>0?(fe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(ee.min())&&(o=Pn(s)),new WM(o,i.transformResults||[])}(n,e))):[]}function hL(t,e){return{documents:[qS(t,e.path)]}}function fL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qS(t,i);const s=function(c){if(c.length!==0)return QS(Dn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Mi(p.field),direction:mL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Td(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function dL(t){let e=aL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const p=GS(d);return p instanceof Dn&&SS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(p=>function(C){return new Lu(Li(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,mc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(d){const p=!!d.before,g=d.values||[];return new Mu(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const p=!d.before,g=d.values||[];return new Mu(g,p)}(n.endAt)),kM(e,i,o,s,a,"F",u,c)}function pL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Li(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Li(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Li(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Li(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Li(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>GS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function mL(t){return nL[t]}function gL(t){return rL[t]}function yL(t){return iL[t]}function Mi(t){return{fieldPath:t.canonicalString()}}function Li(t){return it.fromServerFormat(t.fieldPath)}function QS(t){return t instanceof Ge?function(n){if(n.op==="=="){if($_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NAN"}};if(B_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NAN"}};if(B_(n.value))return{unaryFilter:{field:Mi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(n.field),op:gL(n.op),value:n.value}}}(t):t instanceof Dn?function(n){const r=n.getFilters().map(i=>QS(i));return r.length===1?r[0]:{compositeFilter:{op:yL(n.op),filters:r}}}(t):Y(54877,{filter:t})}function vL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.yt=e}}function wL(t){const e=dL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.Cn=new TL}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Or.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class TL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YS=41943040;class Ct{static withCacheSize(e){return new Ct(e,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.DEFAULT_COLLECTION_PERCENTILE=10,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ct.DEFAULT=new Ct(YS,Ct.DEFAULT_COLLECTION_PERCENTILE,Ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ct.DISABLED=new Ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Is(0)}static cr(){return new Is(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="LruGarbageCollector",SL=1048576;function i0([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class xL{constructor(e){this.Ir=e,this.buffer=new Xe(i0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();i0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(r0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Us(n)?W(r0,"Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Vr(3e5)})}}class CL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(pc.ce);const r=new xL(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(n0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Ni()<=ue.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${d} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function IL(t,e){return new CL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.changes=new Ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&$o(r.mutation,i,an.empty(),xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=To();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=nr();const o=Bo(),a=function(){return Bo()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ii)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),$o(h.mutation,c,h.mutation.getFieldMask(),xe.now())):o.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new RL(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Bo();let i=new Me((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||an.empty();h=a.applyToLocalView(c,h),r.set(u,h);const d=(i.get(a.batchId)||ae()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,d=DS();h.forEach(p=>{if(!s.has(p)){const g=FS(n.get(p),r.get(p));g!==null&&d.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(ci());let a=ma,u=s;return o.next(c=>F.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ae())).next(h=>({batchId:a,changes:VS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new X(n)).next(r=>{let i=To();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=To();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(d,p){return new yc(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,pt.newInvalidDocument(h)))});let a=To();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&$o(h.mutation,c,an.empty(),xe.now()),_c(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:wL(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.overlays=new Me(X.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ci(),s=n.length+1,o=new X(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=ci(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XM(n,r));let s=this.qr.get(n);s===void 0&&(s=ae(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Qr=new Xe(Je.$r),this.Ur=new Xe(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Je(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Je(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new X(new Se([])),r=new Je(n,e),i=new Je(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new X(new Se([])),r=new Je(n,e),i=new Je(n,e+1);let s=ae();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Je{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return X.comparator(e.key,n.key)||oe(e.Yr,n.Yr)}static Kr(e,n){return oe(e.Yr,n.Yr)||X.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(Je.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?_m:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Je(n,0),i=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(oe);return n.forEach(i=>{const s=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const o=new Je(new X(s),0);let a=new Xe(oe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new Je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Je(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.ri=e,this.docs=function(){return new Me(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=nr();const o=n.path,a=new X(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lM(aM(h),r)<=0||(i.has(h.key)||_c(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LL(this)}getSize(e){return F.resolve(this.size)}}class LL extends PL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.persistence=e,this.si=new Ci(n=>Tm(n),Sm),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=Is.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Is(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new NL,this.referenceDelegate=e(this),this.Pi=new OL(this),this.indexManager=new EL,this.remoteDocumentCache=function(i){return new ML(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _L(n),this.Ii=new VL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new FL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class FL extends cM{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Ri=new Pm,this.Vi=null}static mi(e){return new Rm(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ju{constructor(e,n){this.persistence=e,this.pi=new Ci(r=>dM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=IL(this,n)}static mi(e,n){return new ju(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kl(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new km(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return NN()?8:hM(VN())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ni()<=ue.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",bi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ni()<=ue.DEBUG&&W("QueryEngine","Query:",bi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ni()<=ue.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",bi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):F.resolve())}ys(e,n){if(q_(n))return F.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ed(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,Ed(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return q_(n)||i.isEqual(ee.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Ni()<=ue.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bi(n)),this.vs(e,o,n,oM(i,ma)).next(a=>a))})}Ds(e,n){let r=new Xe(RS(e));return n.forEach((i,s)=>{_c(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ni()<=ue.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",bi(n)),this.ps.getDocumentsMatchingQuery(e,n,Or.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",BL=3e8;class $L{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Me(oe),this.xs=new Ci(s=>Tm(s),Sm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zL(t,e,n,r){return new $L(t,e,n,r)}async function ZS(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ae();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function HL(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const d=c.batch,p=d.keys();let g=F.resolve();return p.forEach(C=>{g=g.next(()=>h.getEntry(u,C)).next(I=>{const k=c.docVersions.get(C);fe(k!==null,48541),I.version.compareTo(k)<0&&(d.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ex(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WL(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,d)=>{const p=i.get(d);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(lt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(d,g),function(I,k,_){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=BL?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,g,h)&&a.push(n.Pi.updateTargetData(s,g))});let u=nr(),c=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(qL(s,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(ee.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function qL(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=nr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W(Vm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function KL(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_m),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GL(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new vr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Cd(t,e,n){const r=te(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Us(o))throw o;W(Vm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function s0(t,e,n){const r=te(t);let i=ee.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const d=te(u),p=d.xs.get(h);return p!==void 0?F.resolve(d.Ms.get(p)):d.Pi.getTargetData(c,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:ae())).next(a=>(QL(r,NM(e),a),{documents:a,Qs:s})))}function QL(t,e,n){let r=t.Os.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class o0{constructor(){this.activeTargetIds=jM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XL{constructor(){this.Mo=new o0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(a0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function Id(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="RestConnection",JL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Nu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Id(),a=this.zo(e,n.toUriEncodedString());W(Bh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(a),h=dc(c);return this.Jo(e,a,u,r,h).then(d=>(W(Bh,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Ss(Bh,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=JL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class t4 extends ZL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Id();return new Promise((a,u)=>{const c=new nS;c.setWithCredentials(!0),c.listenOnce(rS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ql.NO_ERROR:const d=c.getResponseJson();W(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case ql.TIMEOUT:W(ht,`RPC '${e}' ${o} timed out`),u(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:const p=c.getStatus();if(W(ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const C=g==null?void 0:g.error;if(C&&C.status&&C.message){const I=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(C.status);u(new G(I,C.message))}else u(new G(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(U.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(ht,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);W(ht,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Id(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oS(),a=sS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");W(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);const d=o.createWebChannel(h,u);this.I_(d);let p=!1,g=!1;const C=new e4({Yo:k=>{g?W(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(W(ht,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),W(ht,`RPC '${e}' stream ${i} sending:`,k),d.send(k))},Zo:()=>d.close()}),I=(k,_,y)=>{k.listen(_,w=>{try{y(w)}catch(D){setTimeout(()=>{throw D},0)}})};return I(d,Eo.EventType.OPEN,()=>{g||(W(ht,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),I(d,Eo.EventType.CLOSE,()=>{g||(g=!0,W(ht,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(d))}),I(d,Eo.EventType.ERROR,k=>{g||(g=!0,Ss(ht,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),C.a_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),I(d,Eo.EventType.MESSAGE,k=>{var _;if(!g){const y=k.data[0];fe(!!y,16349);const w=y,D=(w==null?void 0:w.error)||((_=w[0])==null?void 0:_.error);if(D){W(ht,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let O=function(x){const P=$e[x];if(P!==void 0)return BS(P)}(M),T=D.message;O===void 0&&(O=U.INTERNAL,T="Unknown error status: "+M+" with message "+D.message),g=!0,C.a_(new G(O,T)),d.close()}else W(ht,`RPC '${e}' stream ${i} received:`,y),C.u_(y)}}),I(a,iS.STAT_EVENT,k=>{k.stat===md.PROXY?W(ht,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===md.NOPROXY&&W(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return new sL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="PersistentStream";class nx{constructor(e,n,r,i,s,o,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(u0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(u0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n4 extends nx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Pn(o.readTime):ee.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ad(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=wd(u)?{documents:hL(s,u)}:{query:fL(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=HS(s,o.resumeToken);const c=Td(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=Fu(s,o.snapshotVersion.toTimestamp());const c=Td(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ad(this.serializer),n.removeTarget=e,this.q_(n)}}class r4 extends nx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cL(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ad(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{}class s4 extends i4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Sd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Sd(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class o4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="RemoteStore";class a4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Pi(this)&&(W(Ei,"Restarting streams for network reachability change."),await async function(u){const c=te(u);c.Ea.add(4),await La(c),c.Ra.set("Unknown"),c.Ea.delete(4),await xc(c)}(this))})}),this.Ra=new o4(r,i)}}async function xc(t){if(Pi(t))for(const e of t.da)await e(!0)}async function La(t){for(const e of t.da)await e(!1)}function rx(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Mm(n)?bm(n):Bs(n).O_()&&Nm(n,e))}function Dm(t,e){const n=te(t),r=Bs(n);n.Ia.delete(e),r.O_()&&ix(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pi(n)&&n.Ra.set("Unknown"))}function Nm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bs(t).Y_(e)}function ix(t,e){t.Va.Ue(e),Bs(t).Z_(e)}function bm(t){t.Va=new tL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bs(t).start(),t.Ra.ua()}function Mm(t){return Pi(t)&&!Bs(t).x_()&&t.Ia.size>0}function Pi(t){return te(t).Ea.size===0}function sx(t){t.Va=void 0}async function l4(t){t.Ra.set("Online")}async function u4(t){t.Ia.forEach((e,n)=>{Nm(t,e)})}async function c4(t,e){sx(t),Mm(t)?(t.Ra.ha(e),bm(t)):t.Ra.set("Unknown")}async function h4(t,e,n){if(t.Ra.set("Online"),e instanceof zS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){W(Ei,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uu(t,r)}else if(e instanceof Xl?t.Va.Ze(e):e instanceof $S?t.Va.st(e):t.Va.tt(e),!n.isEqual(ee.min()))try{const r=await ex(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),ix(s,u);const d=new vr(h.target,u,c,h.sequenceNumber);Nm(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Ei,"Failed to raise snapshot:",r),await Uu(t,r)}}async function Uu(t,e,n){if(!Us(e))throw e;t.Ea.add(1),await La(t),t.Ra.set("Offline"),n||(n=()=>ex(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Ei,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xc(t)})}function ox(t,e){return e().catch(n=>Uu(t,n,e))}async function Ac(t){const e=te(t),n=Br(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_m;for(;f4(e);)try{const i=await KL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,d4(e,i)}catch(i){await Uu(e,i)}ax(e)&&lx(e)}function f4(t){return Pi(t)&&t.Ta.length<10}function d4(t,e){t.Ta.push(e);const n=Br(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ax(t){return Pi(t)&&!Br(t).x_()&&t.Ta.length>0}function lx(t){Br(t).start()}async function p4(t){Br(t).ra()}async function m4(t){const e=Br(t);for(const n of t.Ta)e.ea(n.mutations)}async function g4(t,e,n){const r=t.Ta.shift(),i=Am.from(r,e,n);await ox(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ac(t)}async function y4(t,e){e&&Br(t).X_&&await async function(r,i){if(function(o){return JM(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Br(r).B_(),await ox(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ac(r)}}(t,e),ax(t)&&lx(t)}async function c0(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),W(Ei,"RemoteStore received new credentials");const r=Pi(n);n.Ea.add(3),await La(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xc(n)}async function v4(t,e){const n=te(t);e?(n.Ea.delete(2),await xc(n)):e||(n.Ea.add(2),await La(n),n.Ra.set("Unknown"))}function Bs(t){return t.ma||(t.ma=function(n,r,i){const s=te(n);return s.sa(),new n4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:l4.bind(null,t),t_:u4.bind(null,t),r_:c4.bind(null,t),H_:h4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Mm(t)?bm(t):t.Ra.set("Unknown")):(await t.ma.stop(),sx(t))})),t.ma}function Br(t){return t.fa||(t.fa=function(n,r,i){const s=te(n);return s.sa(),new r4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:p4.bind(null,t),r_:y4.bind(null,t),ta:m4.bind(null,t),na:g4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Ac(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Ei,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Lm(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Us(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=To(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.ga=new Me(X.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ps{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ps(e,n,us.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class w4{constructor(){this.queries=f0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=f0(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function f0(){return new Ci(t=>PS(t),vc)}async function E4(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _4,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Om(o,`Initialization of query '${bi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Fm(n)}async function T4(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function S4(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Fm(n)}function x4(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Fm(t){t.Ca.forEach(e=>{e.next()})}var Pd,d0;(d0=Pd||(Pd={})).Ma="default",d0.Cache="cache";class A4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.key=e}}class cx{constructor(e){this.key=e}}class C4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ae(),this.mutatedKeys=ae(),this.eu=RS(e),this.tu=new us(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new h0,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const p=i.get(h),g=_c(this.query,d)?d:null,C=!!p&&this.mutatedKeys.has(p.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let k=!1;p&&g?p.data.isEqual(g.data)?C!==I&&(r.track({type:3,doc:g}),k=!0):this.su(p,g)||(r.track({type:2,doc:g}),k=!0,(u&&this.eu(g,u)>0||c&&this.eu(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),k=!0):p&&!g&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(g?(o=o.add(g),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,d)=>function(g,C){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Rt:k})}};return I(g)-I(C)}(h.type,d.type)||this.eu(h.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new Ps(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new h0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new cx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ux(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jm="SyncEngine";class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class P4{constructor(e){this.key=e,this.hu=!1}}class R4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ci(a=>PS(a),vc),this.Iu=new Map,this.Eu=new Set,this.du=new Me(X.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=Is.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k4(t,e,n=!0){const r=gx(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await hx(r,e,n,!0),i}async function V4(t,e){const n=gx(t);await hx(n,e,!0,!1)}async function hx(t,e,n,r){const i=await GL(t.localStore,In(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await D4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rx(t.remoteStore,i),a}async function D4(t,e,n,r,i){t.pu=(d,p,g)=>async function(I,k,_,y){let w=k.view.ru(_);w.Cs&&(w=await s0(I.localStore,k.query,!1).then(({documents:T})=>k.view.ru(T,w)));const D=y&&y.targetChanges.get(k.targetId),M=y&&y.targetMismatches.get(k.targetId)!=null,O=k.view.applyChanges(w,I.isPrimaryClient,D,M);return m0(I,k.targetId,O.au),O.snapshot}(t,d,p,g);const s=await s0(t.localStore,e,!0),o=new C4(e,s.Qs),a=o.ru(s.documents),u=Ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);m0(t,n,c.au);const h=new I4(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function N4(t,e,n){const r=te(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!vc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Dm(r.remoteStore,i.targetId),Rd(r,i.targetId)}).catch(js)):(Rd(r,i.targetId),await Cd(r.localStore,i.targetId,!0))}async function b4(t,e){const n=te(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Dm(n.remoteStore,r.targetId))}async function M4(t,e,n){const r=$4(t);try{const i=await function(o,a){const u=te(o),c=xe.now(),h=a.reduce((g,C)=>g.add(C.key),ae());let d,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=nr(),I=ae();return u.Ns.getEntries(g,h).next(k=>{C=k,C.forEach((_,y)=>{y.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,C)).next(k=>{d=k;const _=[];for(const y of a){const w=KM(y,d.get(y.key).overlayedDocument);w!=null&&_.push(new Ii(y.key,w,wS(w.value.mapValue),qn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,_,a)}).next(k=>{p=k;const _=k.applyToLocalDocumentSet(d,I);return u.documentOverlayCache.saveOverlays(g,k.batchId,_)})}).then(()=>({batchId:p.batchId,changes:VS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Me(oe)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Oa(r,i.changes),await Ac(r.remoteStore)}catch(i){const s=Om(i,"Failed to persist write");n.reject(s)}}async function fx(t,e){const n=te(t);try{const r=await WL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?fe(o.hu,14607):i.removedDocuments.size>0&&(fe(o.hu,42227),o.hu=!1))}),await Oa(n,r,e)}catch(r){await js(r)}}function p0(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=te(o);u.onlineState=a;let c=!1;u.queries.forEach((h,d)=>{for(const p of d.Sa)p.va(a)&&(c=!0)}),c&&Fm(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L4(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Me(X.comparator);o=o.insert(s,pt.newNoDocument(s,ee.min()));const a=ae().add(s),u=new Tc(ee.min(),new Map,new Me(oe),o,a);await fx(r,u),r.du=r.du.remove(s),r.Au.delete(e),Um(r)}else await Cd(r.localStore,e,!1).then(()=>Rd(r,e,n)).catch(js)}async function O4(t,e){const n=te(t),r=e.batch.batchId;try{const i=await HL(n.localStore,e);px(n,r,null),dx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Oa(n,i)}catch(i){await js(i)}}async function F4(t,e,n){const r=te(t);try{const i=await function(o,a){const u=te(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(fe(d!==null,37113),h=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);px(r,e,n),dx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Oa(r,i)}catch(i){await js(i)}}function dx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function px(t,e,n){const r=te(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Rd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mx(t,r)})}function mx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Um(t))}function m0(t,e,n){for(const r of n)r instanceof ux?(t.Ru.addReference(r.key,e),j4(t,r)):r instanceof cx?(W(jm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mx(t,r.key)):Y(19791,{wu:r})}function j4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(jm,"New document in limbo: "+n),t.Eu.add(r),Um(t))}function Um(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new X(Se.fromString(e)),r=t.fu.next();t.Au.set(r,new P4(n)),t.du=t.du.insert(n,r),rx(t.remoteStore,new vr(In(IS(n.path)),r,"TargetPurposeLimboResolution",pc.ce))}}async function Oa(t,e,n){const r=te(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=km.As(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const h=te(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(c,p=>F.forEach(p.Es,g=>h.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>F.forEach(p.ds,g=>h.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!Us(d))throw d;W(Vm,"Failed to update sequence numbers: "+d)}for(const d of c){const p=d.targetId;if(!d.fromCache){const g=h.Ms.get(p),C=g.snapshotVersion,I=g.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(p,I)}}}(r.localStore,s))}async function U4(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){W(jm,"User change. New user:",e.toKey());const r=await ZS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new G(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oa(n,r.Ls)}}function B4(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ae().add(r.key);{let i=ae();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function gx(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L4.bind(null,e),e.Pu.H_=S4.bind(null,e.eventManager),e.Pu.yu=x4.bind(null,e.eventManager),e}function $4(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=F4.bind(null,e),e}class Bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zL(this.persistence,new UL,e.initialUser,this.serializer)}Cu(e){return new JS(Rm.mi,this.serializer)}Du(e){return new XL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bu.provider={build:()=>new Bu};class z4 extends Bu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){fe(this.persistence.referenceDelegate instanceof ju,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ct.withCacheSize(this.cacheSizeBytes):Ct.DEFAULT;return new JS(r=>ju.mi(r,n),this.serializer)}}class kd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>p0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=U4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w4}()}createDatastore(e){const n=Sc(e.databaseInfo.databaseId),r=function(s){return new t4(s)}(e.databaseInfo);return function(s,o,a,u){return new s4(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new a4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>p0(this.syncEngine,n,0),function(){return l0.v()?new l0:new YL}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const d=new R4(i,s,o,a,u,c);return h&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);W(Ei,"RemoteStore shutting down."),s.Ea.add(5),await La(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}kd.provider={build:()=>new kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class W4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W($r,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W($r,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Om(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zh(t,e){t.asyncQueue.verifyOperationInProgress(),W($r,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function g0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await q4(t);W($r,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>c0(e.remoteStore,i)),t._onlineComponents=e}async function q4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W($r,"Using user provided OfflineComponentProvider");try{await zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ss("Error using user provided cache. Falling back to memory cache: "+n),await zh(t,new Bu)}}else W($r,"Using default OfflineComponentProvider"),await zh(t,new z4(void 0));return t._offlineComponents}async function yx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W($r,"Using user provided OnlineComponentProvider"),await g0(t,t._uninitializedComponentsProvider._online)):(W($r,"Using default OnlineComponentProvider"),await g0(t,new kd))),t._onlineComponents}function K4(t){return yx(t).then(e=>e.syncEngine)}async function G4(t){const e=await yx(t),n=e.eventManager;return n.onListen=k4.bind(null,e.syncEngine),n.onUnlisten=N4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b4.bind(null,e.syncEngine),n}function Q4(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new H4({next:p=>{h.Nu(),o.enqueueAndForget(()=>T4(s,d)),p.fromCache&&u.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),d=new A4(a,h,{includeMetadataChanges:!0,qa:!0});return E4(s,d)}(await G4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firestore.googleapis.com",v0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SL)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vx(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qb;switch(r.type){case"firstParty":return new Zb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y0.get(n);r&&(W("ComponentProvider","Removing Datastore"),y0.delete(n),r.terminate())}(this),Promise.resolve()}}function X4(t,e,n,r={}){var c;t=Vu(t,Cc);const i=dc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(BT(`https://${a}`),zT("Firestore",!0)),s.host!==_x&&s.host!==a&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!Ru(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=ft.MOCK_USER;else{h=$T(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new ft(p)}t._authCredentials=new Xb(new lS(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ic(this.firestore,e,this._query)}}class st{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new st(this.firestore,e,this._key)}toJSON(){return{type:st._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Na(n,st._jsonSchema))return new st(e,r||null,new X(Se.fromString(n.referencePath)))}}st._jsonSchemaVersion="firestore/documentReference/1.0",st._jsonSchema={type:We("string",st._jsonSchemaVersion),referencePath:We("string")};class Dr extends Ic{constructor(e,n,r){super(e,n,IS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new st(this.firestore,null,new X(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function es(t,e,...n){if(t=Es(t),uS("collection","path",e),t instanceof Cc){const r=Se.fromString(e,...n);return N_(r),new Dr(t,null,r)}{if(!(t instanceof st||t instanceof Dr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return N_(r),new Dr(t.firestore,null,r)}}function Y4(t,e,...n){if(t=Es(t),arguments.length===1&&(e=ym.newId()),uS("doc","path",e),t instanceof Cc){const r=Se.fromString(e,...n);return D_(r),new st(t,null,new X(r))}{if(!(t instanceof st||t instanceof Dr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return D_(r),new st(t.firestore,t instanceof Dr?t.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tx(this,"async_queue_retry"),this._c=()=>{const r=$h();r&&W(w0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$h();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Us(e))throw e;W(w0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",T0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Lm.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bm extends Cc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new E0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function J4(t,e){const n=typeof t=="object"?t:JT(),r=typeof t=="string"?t:Nu,i=GT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jT("firestore");s&&X4(i,...s)}return i}function wx(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Z4(t),t._firestoreClient}function Z4(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,c,h){return new gM(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new W4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kt(lt.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kt(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Na(e,Kt._jsonSchema))return Kt.fromBase64String(e.bytes)}}Kt._jsonSchemaVersion="firestore/bytes/1.0",Kt._jsonSchema={type:We("string",Kt._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rn._jsonSchemaVersion}}static fromJSON(e){if(Na(e,Rn._jsonSchema))return new Rn(e.latitude,e.longitude)}}Rn._jsonSchemaVersion="firestore/geoPoint/1.0",Rn._jsonSchema={type:We("string",Rn._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Na(e,kn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kn(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kn._jsonSchemaVersion="firestore/vectorValue/1.0",kn._jsonSchema={type:We("string",kn._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=/^__.*__$/;class tO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new ba(e,this.data,n,this.fieldTransforms)}}function Ex(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class Hm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $u(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ex(this.Ac)&&eO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sc(e)}Cc(e,n,r,i=!1){return new Hm({Ac:e,methodName:n,Dc:r,path:it.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rO(t){const e=t._freezeSettings(),n=Sc(t._databaseId);return new nO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iO(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Ax("Data must be an object, but it was:",o,r);const a=Sx(r,o);let u,c;if(s.merge)u=new an(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const p=sO(e,d,n);if(!o.contains(p))throw new G(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aO(h,p)||h.push(p)}u=new an(h),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new tO(new qt(a),u,c)}class Wm extends zm{_toFieldTransform(e){return new zM(e.path,new _a)}isEqual(e){return e instanceof Wm}}function Tx(t,e){if(xx(t=Es(t)))return Ax("Unsupported field value:",e,t),Sx(t,e);if(t instanceof zm)return function(r,i){if(!Ex(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Tx(a,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Es(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xe.fromDate(r);return{timestampValue:Fu(i.serializer,s)}}if(r instanceof xe){const s=new xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(i.serializer,s)}}if(r instanceof Rn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kt)return{bytesValue:HS(i.serializer,r._byteString)};if(r instanceof st){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Im(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kn)return function(o,a){return{mapValue:{fields:{[vS]:{stringValue:_S},[bu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return xm(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${vm(r)}`)}(t,e)}function Sx(t,e){const n={};return fS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(t,(r,i)=>{const s=Tx(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function xx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xe||t instanceof Rn||t instanceof Kt||t instanceof st||t instanceof zm||t instanceof kn)}function Ax(t,e,n){if(!xx(n)||!cS(n)){const r=vm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sO(t,e,n){if((e=Es(e))instanceof $m)return e._internalPath;if(typeof e=="string")return Cx(t,e);throw $u("Field path arguments must be of type string or ",t,!1,void 0,n)}const oO=new RegExp("[~\\*/\\[\\]]");function Cx(t,e,n){if(e.search(oO)>=0)throw $u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw $u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $u(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(U.INVALID_ARGUMENT,a+t+u)}function aO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new st(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Px("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lO extends Ix{data(){return super.data()}}function Px(t,e){return typeof e=="string"?Cx(t,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cO{convertValue(e,n="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ai(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[bu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ue(o.doubleValue));return new kn(n)}convertGeoPoint(e){return new Rn(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=Fr(e);return new xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);fe(XS(r),9688,{name:e});const i=new ya(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cs extends Ix{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Px("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:We("string",cs._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Yl extends cs{data(e={}){return super.data(e)}}class hs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yl(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:fO(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}hs._jsonSchemaVersion="firestore/querySnapshot/1.0",hs._jsonSchema={type:We("string",hs._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class dO extends cO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new st(this.firestore,null,n)}}function Vd(t){t=Vu(t,Ic);const e=Vu(t.firestore,Bm),n=wx(e),r=new dO(e);return uO(t._query),Q4(n,t._query).then(i=>new hs(e,r,t,i))}function Hh(t,e){const n=Vu(t.firestore,Bm),r=Y4(t),i=hO(t.converter,e);return pO(n,[iO(rO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}function pO(t,e){return function(r,i){const s=new Vr;return r.asyncQueue.enqueueAndForget(async()=>M4(await K4(r),i,s)),s.promise}(wx(t),e)}function S0(){return new Wm("serverTimestamp")}(function(e,n=!0){(function(i){Fs=i})(XT),da(new Ts("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bm(new Yb(r.getProvider("auth-internal")),new eM(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rr(P_,R_,e),Rr(P_,R_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="firebasestorage.googleapis.com",mO="storageBucket",gO=2*60*1e3,yO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends xi{constructor(e,n,r=0){super(Wh(e),`Firebase Storage: ${n} (${Wh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ln.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function Wh(t){return"storage/"+t}function vO(){const t="An unknown error occurred, please check the error payload for server response.";return new Ln(Nn.UNKNOWN,t)}function _O(){return new Ln(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wO(){return new Ln(Nn.CANCELED,"User canceled the upload/download.")}function EO(t){return new Ln(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function TO(t){return new Ln(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x0(t){return new Ln(Nn.INVALID_ARGUMENT,t)}function kx(){return new Ln(Nn.APP_DELETED,"The Firebase app was deleted.")}function SO(t){return new Ln(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ln.makeFromUrl(e,n)}catch{return new ln(e,"")}if(r.path==="")return r;throw TO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${i}/o${p}`,"i"),C={bucket:1,path:3},I=n===Rx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",_=new RegExp(`^https?://${I}/${i}/${k}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:g,indices:C,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<w.length;D++){const M=w[D],O=M.regex.exec(e);if(O){const T=O[M.indices.bucket];let v=O[M.indices.path];v||(v=""),r=new ln(T,v),M.postModify(r);break}}if(r==null)throw EO(e);return r}}class xO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...k){c||(c=!0,e.apply(null,k))}function d(k){i=setTimeout(()=>{i=null,t(g,u())},k)}function p(){s&&clearTimeout(s)}function g(k,..._){if(c){p();return}if(k){p(),h.call(null,k,..._);return}if(u()||o){p(),h.call(null,k,..._);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let C=!1;function I(k){C||(C=!0,p(),!c&&(i!==null?(k||(a=2),clearTimeout(i),d(0)):k||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function CO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t){return t!==void 0}function A0(t,e,n,r){if(r<e)throw x0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw x0(`Invalid value for '${t}'. Expected ${n} or less.`)}function PO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var zu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zu||(zu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,r,i,s,o,a,u,c,h,d,p=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,I)=>{this.resolve_=C,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Cl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===zu.NO_ERROR,u=s.getStatus();if(!a||RO(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===zu.ABORT;r(!1,new Cl(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Cl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());IO(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=vO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?kx():wO();o(u)}else{const u=_O();o(u)}};this.canceled_?n(!1,new Cl(!1,null,!0)):this.backoffId_=AO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&CO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function NO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function MO(t,e,n,r,i,s,o=!0,a=!1){const u=PO(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return NO(h,e),VO(h,n),DO(h,s),bO(h,r),new kO(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this._service=e,n instanceof ln?this._location=n:this._location=ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hu(e,n)}get root(){const e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OO(this._location.path)}get storage(){return this._service}get parent(){const e=LO(this._location.path);if(e===null)return null;const n=new ln(this._location.bucket,e);return new Hu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw SO(e)}}function C0(t,e){const n=e==null?void 0:e[mO];return n==null?null:ln.makeFromBucketSpec(n,t)}function FO(t,e,n,r={}){t.host=`${e}:${n}`;const i=dc(e);i&&(BT(`https://${t.host}/b`),zT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:$T(s,t.app.options.projectId))}class jO{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Rx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gO,this._maxUploadRetryTime=yO,this._requests=new Set,i!=null?this._bucket=ln.makeFromBucketSpec(i,this._host):this._bucket=C0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=C0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){A0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(QT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hu(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new xO(kx());{const o=MO(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const I0="@firebase/storage",P0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="storage";function UO(t=JT(),e){t=Es(t);const r=GT(t,Vx).getImmediate({identifier:e}),i=jT("storage");return i&&BO(r,...i),r}function BO(t,e,n,r={}){FO(t,e,n,r)}function $O(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jO(n,r,i,e,XT)}function zO(){da(new Ts(Vx,$O,"PUBLIC").setMultipleInstances(!0)),Rr(I0,P0,""),Rr(I0,P0,"esm2020")}zO();const HO={apiKey:"AIzaSyCoKmYtoTLJooWDGxRoAHECkH_7obFwcl0",authDomain:"pasteleria-landing.firebaseapp.com",projectId:"pasteleria-landing",storageBucket:"pasteleria-landing.firebasestorage.app",messagingSenderId:"880216670695",appId:"1:880216670695:web:d41b7c4305cd27b972bd42",measurementId:"G-WMM1JB5T6T"},Dx=YT(HO),ts=J4(Dx);UO(Dx);const WO=1600,qO=.82,KO=8;function GO(){const[t,e]=R.useState([]),[n,r]=R.useState(""),[i,s]=R.useState(""),[o,a]=R.useState(""),[u,c]=R.useState(""),[h,d]=R.useState([]),[p,g]=R.useState(!1),[C,I]=R.useState(!1),k=R.useRef(null),_=R.useRef(null),[y,w]=R.useState([]),[D,M]=R.useState(!1),[O,T]=R.useState(!1),v=R.useRef(null),x=R.useRef(null),[P,V]=R.useState({done:0,total:0});R.useEffect(()=>{(async()=>{const Q=await Vd(es(ts,"categories"));e(Q.docs.map(pe=>({id:pe.id,...pe.data()})))})()},[]),R.useEffect(()=>()=>h.forEach(j=>URL.revokeObjectURL(j.preview)),[h]),R.useEffect(()=>()=>y.forEach(j=>URL.revokeObjectURL(j.preview)),[y]);const N=async j=>{j.preventDefault(),n.trim()&&(await Hh(es(ts,"categories"),{name:n}),r(""),alert("Categora creada "))},S=async j=>{const Q=j.type.startsWith("image/"),pe=/heic/i.test(j.type)||/\.heic$/i.test(j.name);if(!Q||pe||j.size<=3*1024*1024)return j;const we=await createImageBitmap(j),Bt=we.width/we.height,me=Math.min(WO,we.width),en=Math.round(me/Bt),yt=document.createElement("canvas");yt.width=me,yt.height=en,yt.getContext("2d").drawImage(we,0,0,me,en);const Ie=j.type==="image/png"?"image/png":"image/jpeg",At=await new Promise(jn=>yt.toBlob(zs=>jn(zs),Ie,qO)),Fn=j.name.replace(/\.\w+$/,"")+(Ie==="image/png"?".png":".jpg");return new File([At],Fn,{type:Ie})},Z=j=>Array.from(j).filter(pe=>pe.type.startsWith("image/")).map(pe=>({file:pe,preview:URL.createObjectURL(pe)})),re=j=>{const Q=Z(j);d(pe=>{const we=new Set(pe.map(me=>`${me.file.name}-${me.file.size}`)),Bt=Q.filter(me=>!we.has(`${me.file.name}-${me.file.size}`));return[...pe,...Bt]})},Ce=j=>{const Q=Z(j);w(pe=>{const we=new Set(pe.map(me=>`${me.file.name}-${me.file.size}`)),Bt=Q.filter(me=>!we.has(`${me.file.name}-${me.file.size}`));return[...pe,...Bt]})},ie=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),I(!0),j.dataTransfer.dropEffect="copy"},[]),B=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),I(!0)},[]),K=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),_.current&&!_.current.contains(j.relatedTarget)&&I(!1)},[]),$=R.useCallback(j=>{var Q;j.preventDefault(),j.stopPropagation(),I(!1),(Q=j.dataTransfer.files)!=null&&Q.length&&(re(j.dataTransfer.files),j.dataTransfer.clearData())},[]),ce=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),T(!0),j.dataTransfer.dropEffect="copy"},[]),de=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),T(!0)},[]),On=R.useCallback(j=>{j.preventDefault(),j.stopPropagation(),x.current&&!x.current.contains(j.relatedTarget)&&T(!1)},[]),xt=R.useCallback(j=>{var Q;j.preventDefault(),j.stopPropagation(),T(!1),(Q=j.dataTransfer.files)!=null&&Q.length&&(Ce(j.dataTransfer.files),j.dataTransfer.clearData())},[]);R.useEffect(()=>{const j=Q=>{var we;const pe=Array.from(((we=Q.clipboardData)==null?void 0:we.files)||[]);pe.length&&Ce(pe)};return window.addEventListener("paste",j),()=>window.removeEventListener("paste",j)},[]);const pn=()=>{var j;return(j=v.current)==null?void 0:j.click()},Nt=async j=>{if(j.preventDefault(),!h.length||!i)return alert("Selecciona categora y al menos 1 archivo");g(!0);try{const Q="dyl3tgsaf",pe="pasteleria_unsigned",we=o.split(",").map(me=>me.trim()).filter(Boolean);let Bt=0;for(const me of h){const en=me.file,yt=await S(en),ge=new FormData;ge.append("file",yt),ge.append("upload_preset",pe),ge.append("folder",`pasteleria/gallery/${i}`),we.length&&ge.append("tags",we.join(","));const At=(u==null?void 0:u.trim())||en.name;At&&ge.append("context",`caption=${At}|alt=${At}`);const Fn=await fetch(`https://api.cloudinary.com/v1_1/${Q}/image/upload`,{method:"POST",body:ge});if(!Fn.ok){console.error("Cloudinary error:",await Fn.text());continue}const jn=await Fn.json(),zs=jn.secure_url,Gr=jn.public_id;await Hh(es(ts,"gallery"),{title:At,imageUrl:zs,publicId:Gr,category:i,tags:we,createdAt:S0()}),Bt++}h.forEach(me=>URL.revokeObjectURL(me.preview)),d([]),c(""),a(""),s(""),alert(`Se subieron ${Bt} imagen(es) con xito `)}catch(Q){console.error(Q),alert("Error al subir imgenes ")}finally{g(!1)}},mn=(j,Q)=>Array.from({length:Math.ceil(j.length/Q)},(pe,we)=>j.slice(we*Q,we*Q+Q)),$s=async j=>{if(j.preventDefault(),!y.length)return alert("Agrega al menos 1 imagen");M(!0),V({done:0,total:y.length});try{const Q="dyl3tgsaf",pe="pasteleria_unsigned";let we=0;const Bt=mn(y,KO);for(const me of Bt)await Promise.all(me.map(async en=>{try{const yt=await S(en.file),ge=new FormData;ge.append("file",yt),ge.append("upload_preset",pe),ge.append("folder","pasteleria/gallery/bulk");const Ie=await fetch(`https://api.cloudinary.com/v1_1/${Q}/image/upload`,{method:"POST",body:ge});if(!Ie.ok){console.error("Cloudinary error:",await Ie.text());return}const At=await Ie.json(),Fn=At.secure_url,jn=At.public_id;await Hh(es(ts,"gallery"),{title:"",imageUrl:Fn,publicId:jn,category:"",tags:[],createdAt:S0()})}catch(yt){console.error("error grupo masivo:",yt)}finally{we++,V(yt=>({...yt,done:we}))}}));y.forEach(me=>URL.revokeObjectURL(me.preview)),w([]),alert(`Carga masiva lista: ${we}/${y.length} imgenes `)}catch(Q){console.error(Q),alert("Error en carga masiva ")}finally{M(!1)}},Fa=R.useMemo(()=>h.reduce((j,Q)=>j+Q.file.size,0),[h]),Pc=R.useMemo(()=>y.reduce((j,Q)=>j+Q.file.size,0),[y]);return A.jsxs("section",{className:"section admin-gallery",children:[A.jsxs("div",{className:"container",children:[A.jsx(Tn.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"h2",children:"Panel de Galera"}),A.jsx("p",{className:"lead",children:"Agrega categoras y sube fotos de pedidos"}),A.jsxs("form",{onSubmit:N,className:"admin-card",children:[A.jsxs("h3",{children:[A.jsx(WD,{size:18})," Nueva categora"]}),A.jsxs("div",{className:"input-group",children:[A.jsx("input",{type:"text",placeholder:"Ej: Tortas Infantiles",value:n,onChange:j=>r(j.target.value)}),A.jsx("button",{type:"submit",className:"btn",children:"Crear"})]})]}),A.jsxs("form",{onSubmit:Nt,className:"admin-card",children:[A.jsxs("h3",{children:[A.jsx(KD,{size:18})," Subir imgenes"]}),A.jsxs("div",{className:"grid cols-2",children:[A.jsxs("div",{className:"input-wrap",children:[A.jsx("label",{children:"Ttulo base (opcional)"}),A.jsx("input",{type:"text",placeholder:"Ej: Torta de unicornio",value:u,onChange:j=>c(j.target.value)}),A.jsx("small",{className:"muted",children:"Si lo dejas vaco, se usar el nombre del archivo."})]}),A.jsxs("div",{className:"input-wrap",children:[A.jsx("label",{children:"Categora"}),A.jsxs("select",{value:i,onChange:j=>s(j.target.value),children:[A.jsx("option",{value:"",children:"Selecciona categora"}),t.map(j=>A.jsx("option",{value:j.name,children:j.name},j.id))]})]})]}),A.jsxs("div",{className:"input-wrap",children:[A.jsxs("label",{children:[A.jsx(iN,{size:14})," Etiquetas (separadas por coma)"]}),A.jsx("input",{type:"text",placeholder:"Ej: chocolate, fondant, cumpleaos",value:o,onChange:j=>a(j.target.value)})]}),A.jsxs("div",{ref:_,className:`upload-zone ${C?"drag":""}`,onDragOver:ie,onDragEnter:B,onDragLeave:K,onDrop:$,onClick:()=>{var j;return(j=k.current)==null?void 0:j.click()},role:"button",tabIndex:0,onKeyDown:j=>{var Q;return(j.key==="Enter"||j.key===" ")&&((Q=k.current)==null?void 0:Q.click())},"aria-label":"Soltar o seleccionar imgenes",children:[A.jsx("input",{ref:k,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:j=>{const Q=Array.from(j.target.files||[]);Q.length&&re(Q),k.current&&(k.current.value="")}}),A.jsxs("div",{className:"drop-inner",children:[A.jsx(vl,{}),A.jsx("p",{className:"drop-title",children:"Arrastra y suelta tus imgenes aqu"}),A.jsx("p",{className:"muted",children:"o haz clic para seleccionarlas"})]}),h.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"preview-grid",children:h.map((j,Q)=>A.jsxs("div",{className:"thumb",title:j.file.name,children:[A.jsx("img",{src:j.preview,alt:`Preview ${Q+1}`}),A.jsxs("small",{children:[(j.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${j.file.name}-${Q}`))}),A.jsxs("div",{className:"muted total",children:["Total seleccionado: ",(Fa/(1024*1024)).toFixed(2)," ","MB"]})]})]}),A.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:p||!h.length,children:[p?A.jsx(d_,{className:"spin"}):A.jsx(vl,{})," Subir"," ",h.length?`(${h.length})`:""]})]}),A.jsxs("form",{onSubmit:$s,className:"admin-card",children:[A.jsxs("h3",{children:[A.jsx(nN,{size:18})," Carga masiva (sin ttulo, sin categora, sin tags)"]}),A.jsxs("p",{className:"muted",style:{marginTop:-6},children:["Sube todas tus imgenes tal cual. Se guardan vacas y se organizan en Cloudinary en ",A.jsx("code",{children:"pasteleria/gallery/bulk"}),"."]}),A.jsxs("div",{ref:x,className:`upload-zone ${O?"drag":""}`,onDragOver:ce,onDragEnter:de,onDragLeave:On,onDrop:xt,onClick:pn,role:"button",tabIndex:0,onKeyDown:j=>(j.key==="Enter"||j.key===" ")&&pn(),"aria-label":"Soltar o seleccionar imgenes (carga masiva)",children:[A.jsx("input",{ref:v,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:j=>{const Q=Array.from(j.target.files||[]);Q.length&&Ce(Q),v.current&&(v.current.value="")}}),A.jsxs("div",{className:"drop-inner",children:[A.jsx(vl,{}),A.jsx("p",{className:"drop-title",children:"Suelta aqu (o haz clic) para carga masiva"}),A.jsx("p",{className:"muted",children:"Se suben directamente sin metadatos"})]}),y.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"preview-grid",children:y.map((j,Q)=>A.jsxs("div",{className:"thumb",title:j.file.name,children:[A.jsx("img",{src:j.preview,alt:`Bulk ${Q+1}`}),A.jsxs("small",{children:[(j.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${j.file.name}-${Q}`))}),A.jsxs("div",{className:"muted total",children:["Total seleccionado:"," ",(Pc/(1024*1024)).toFixed(2)," MB"]})]})]}),D&&A.jsxs("div",{className:"muted",style:{margin:"8px 0"},children:["Subiendo... ",P.done,"/",P.total,A.jsx("div",{style:{height:8,background:"#eee",borderRadius:6,overflow:"hidden",marginTop:6},children:A.jsx("div",{style:{height:"100%",width:`${P.total?P.done/P.total*100:0}%`,background:"#6366f1",transition:"width .2s ease"}})})]}),A.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:D||!y.length,children:[D?A.jsx(d_,{className:"spin"}):A.jsx(vl,{})," Subir masivo ",y.length?`(${y.length})`:""]})]})]}),A.jsx("style",{children:`
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          margin-top: 1.5rem;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
        }
        h3 {
          display: flex;
          align-items: center;
          gap: 6px;
          font-weight: 700;
          margin-bottom: 0.75rem;
        }
        .input-group { display: flex; gap: 0.5rem; }
        .input-group input {
          flex: 1; padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .input-wrap { margin-bottom: 0.8rem; display: flex; flex-direction: column; }
        .input-wrap input, .input-wrap select {
          padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .upload-zone {
          margin: 1rem 0; border: 2px dashed #ccc; border-radius: 12px; padding: 1rem; text-align: center;
          transition: all .15s ease-in-out; cursor: pointer; outline: none;
        }
        .upload-zone:hover, .upload-zone:focus { border-color: #aaa; }
        .upload-zone.drag { border-color: #6366f1; background: #f8f9ff; }
        .drop-inner { display: grid; place-items: center; gap: 6px; color: #374151; }
        .drop-title { margin: 0; font-weight: 600; }
        .preview-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin-top: 12px; }
        .thumb {
          background: #fafafa; border: 1px solid #eee; border-radius: 10px; padding: 6px;
          display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center;
        }
        .thumb img { width: 100%; height: 90px; object-fit: cover; border-radius: 6px; }
        .muted { color: #6b7280; font-size: 12px; }
        .total { margin-top: 6px; }
        .upload-btn { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .spin { animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
      `})]})}const QO=(t,e=350)=>{const[n,r]=R.useState(t);return R.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n};function XO({id:t="galeria",title:e="Galera de pedidos",pageSize:n=12}){const[r,i]=R.useState(!0),[s,o]=R.useState(null),[a,u]=R.useState([]),[c,h]=R.useState([]),[d,p]=R.useState([]),[g,C]=R.useState(""),[I,k]=R.useState("todas"),[_,y]=R.useState([]),[w,D]=R.useState("reciente"),[M,O]=R.useState(n),T=QO(g,300);R.useEffect(()=>{(async()=>{try{i(!0),o(null);const re=(await Vd(es(ts,"categories"))).docs.map(K=>{var $;return($=K.data())==null?void 0:$.name}).filter(Boolean);h(re);const ie=(await Vd(es(ts,"gallery"))).docs.map(K=>{var de;const $=K.data(),ce=((de=$==null?void 0:$.createdAt)==null?void 0:de.toMillis)&&$.createdAt.toMillis()||typeof($==null?void 0:$.createdAt)=="number"&&$.createdAt||typeof($==null?void 0:$.createdAt)=="string"&&Date.parse($.createdAt)||0;return{id:K.id,title:($==null?void 0:$.title)||"",imageUrl:$==null?void 0:$.imageUrl,publicId:$==null?void 0:$.publicId,category:($==null?void 0:$.category)||"",tags:Array.isArray($==null?void 0:$.tags)?$.tags:[],createdAt:ce,description:$==null?void 0:$.description,author:$==null?void 0:$.author}});u(ie);const B=new Set;ie.forEach(K=>{var $,ce;return(ce=($=K.tags)==null?void 0:$.forEach)==null?void 0:ce.call($,de=>de&&B.add(de))}),p(Array.from(B).sort((K,$)=>K.localeCompare($)))}catch(Z){console.error(Z),o("No se pudieron cargar los datos")}finally{i(!1)}})()},[]);const v=(S,Z)=>{let re="dyl3tgsaf";return Z?`https://res.cloudinary.com/${re}/image/upload/f_jpg,q_auto,w_900,c_limit/${Z}.jpg`:S!=null&&S.includes("/image/upload/")?S.replace("/upload/","/upload/f_jpg,q_auto,w_900,c_limit/").replace(/\.(heic|heif|png|jpeg|jpg|webp|avif)(\?|$)/i,".jpg$2"):S};R.useEffect(()=>{if(a.length){const S=a[0];console.log("CL test ",v(S.imageUrl,S.publicId))}},[a]);const x=R.useMemo(()=>{let S=a;I!=="todas"&&(S=S.filter(re=>re.category===I)),_.length&&(S=S.filter(re=>_.every(Ce=>re.tags.includes(Ce))));const Z=T.trim().toLowerCase();return Z&&(S=S.filter(re=>(re.title||"").toLowerCase().includes(Z)||re.tags.some(ie=>ie.toLowerCase().includes(Z))||(re.category||"").toLowerCase().includes(Z))),S=[...S].sort((re,Ce)=>{if(w==="titulo")return(re.title||"").localeCompare(Ce.title||"");const ie=new Date(re.createdAt||0).getTime(),B=new Date(Ce.createdAt||0).getTime();return w==="reciente"?B-ie:ie-B}),S},[a,I,_,T,w]);R.useEffect(()=>O(n),[T,I,_,w,n]);const P=S=>y(Z=>Z.includes(S)?Z.filter(re=>re!==S):[...Z,S]);R.useEffect(()=>{var Ce;const S=document.querySelectorAll("[data-reveal]");if(((Ce=window.matchMedia)==null?void 0:Ce.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){S.forEach(ie=>ie.classList.add("reveal-in"));return}const re=new IntersectionObserver(ie=>ie.forEach(B=>{B.isIntersecting&&(B.target.classList.add("reveal-in"),re.unobserve(B.target))}),{threshold:.16,rootMargin:"40px 0px -20px 0px"});return S.forEach(ie=>re.observe(ie)),()=>re.disconnect()},[]);const V=M<x.length,N=x.slice(0,M);return A.jsxs("section",{id:t,className:"section alt","aria-labelledby":`${t}-title`,children:[A.jsxs("div",{className:"container",children:[A.jsxs("header",{className:"gal-header","data-reveal":!0,children:[A.jsxs("div",{children:[A.jsx("h2",{id:`${t}-title`,className:"h2",children:e}),A.jsx("p",{className:"lead",children:"Filtra por categora, etiquetas o busca por nombre/sabor/tema."})]}),A.jsxs("div",{className:"gal-controls",children:[A.jsx("div",{className:"input-wrap",children:A.jsx("input",{type:"search",placeholder:"Buscar (ej: Red Velvet, Spiderman, baby shower)",value:g,onChange:S=>C(S.target.value),"aria-label":"Buscar en galer\\u00eda"})}),A.jsx("div",{className:"select-wrap",children:A.jsxs("select",{value:I,onChange:S=>k(S.target.value),"aria-label":"Filtrar por categor\\u00eda",children:[A.jsx("option",{value:"todas",children:"Todas las categoras"}),c.map(S=>A.jsx("option",{value:S,children:S},S))]})}),A.jsx("div",{className:"select-wrap",children:A.jsxs("select",{value:w,onChange:S=>D(S.target.value),"aria-label":"Ordenar resultados",children:[A.jsx("option",{value:"reciente",children:"Ms recientes"}),A.jsx("option",{value:"antiguo",children:"Ms antiguos"}),A.jsx("option",{value:"titulo",children:"Por ttulo (A-Z)"})]})})]}),d.length>0&&A.jsxs("div",{className:"chips","data-reveal":!0,role:"group","aria-label":"Filtrar por etiquetas",children:[d.map(S=>{const Z=_.includes(S);return A.jsx("button",{className:`chip ${Z?"active":""}`,onClick:()=>P(S),"aria-pressed":Z,children:S},S)}),_.length>0&&A.jsx("button",{className:"chip clear",onClick:()=>y([]),children:"Limpiar etiquetas"})]})]}),r&&A.jsx("div",{className:"empty","data-reveal":!0,children:A.jsx("p",{children:"Cargando galera"})}),s&&!r&&A.jsx("div",{className:"empty","data-reveal":!0,children:A.jsx("p",{children:s})}),!r&&!s&&A.jsx(Q1,{mode:"popLayout",children:A.jsxs("div",{className:"gallery-grid",children:[N.map(S=>{var Z,re;return A.jsxs(Tn.figure,{className:"photo-tile",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.28},children:[A.jsx("div",{className:"thumb-wrap","aria-hidden":"true",children:A.jsx("img",{src:v(S.imageUrl,S.publicId),alt:S.title||"Pedido",loading:"lazy",decoding:"async"})}),A.jsxs("figcaption",{className:"tile-caption",children:[A.jsx("div",{className:"tile-title",children:S.title||"Pedido"}),A.jsxs("div",{className:"tile-meta",children:[A.jsx("span",{className:"badge",children:S.category||"Sin categora"}),(re=(Z=S.tags)==null?void 0:Z.slice)==null?void 0:re.call(Z,0,2).map(Ce=>A.jsx("span",{className:"tag",children:Ce},Ce))]})]})]},S.id)}),N.length===0&&A.jsx("div",{className:"empty",children:A.jsx("p",{children:"No encontramos resultados. Prueba otra bsqueda o quita filtros."})})]})}),!r&&!s&&V&&A.jsx("div",{className:"load-wrap",children:A.jsx("button",{className:"btn",onClick:()=>O(S=>S+n),children:"Cargar ms"})})]}),A.jsx("div",{className:"divider","aria-hidden":"true"})]})}const YO="1987",qh="dash_auth_ok";function JO(){const[t,e]=R.useState(()=>localStorage.getItem(qh)==="1"),[n,r]=R.useState(""),[i,s]=R.useState("upload");R.useEffect(()=>{document.title="Dashboard"},[]);const o=u=>{u.preventDefault(),n===YO?(localStorage.setItem(qh,"1"),e(!0)):alert("PIN incorrecto")},a=()=>{localStorage.removeItem(qh),e(!1),r("")};return t?A.jsxs("section",{className:"section",children:[A.jsx("div",{className:"container",children:A.jsxs("div",{className:"dash-layout",children:[A.jsxs("aside",{className:"dash-sidebar","aria-label":"Men del dashboard",children:[A.jsxs("div",{className:"dash-brand",children:[A.jsx("strong",{children:"Dashboard"}),A.jsx("small",{className:"muted",children:"oculto"})]}),A.jsxs("nav",{className:"dash-nav",children:[A.jsx("button",{className:`dash-link ${i==="upload"?"active":""}`,onClick:()=>s("upload"),children:" Subir imgenes"}),A.jsx("button",{className:`dash-link ${i==="gallery"?"active":""}`,onClick:()=>s("gallery"),children:" Galera"}),A.jsx("button",{className:`dash-link ${i==="settings"?"active":""}`,onClick:()=>s("settings"),children:" Ajustes"})]}),A.jsx("div",{className:"dash-footer",children:A.jsx("button",{className:"btn btn-ghost",onClick:a,children:"Salir"})})]}),A.jsxs("main",{className:"dash-content",children:[i==="upload"&&A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"h2",children:"Subida de imgenes"}),A.jsx("p",{className:"lead",children:"Usa el cargador para subir con datos o la seccin de carga masiva (sin metadatos)."}),A.jsx(GO,{})]}),i==="gallery"&&A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"h2",children:"Galera"}),A.jsx("p",{className:"lead",children:"Explora lo que ya subiste, con filtros y bsqueda."}),A.jsx(XO,{})]}),i==="settings"&&A.jsxs(A.Fragment,{children:[A.jsx("h2",{className:"h2",children:"Ajustes"}),A.jsx("div",{className:"admin-card",children:A.jsx("p",{className:"muted",children:"Aqu puedes agregar opciones como cambiar el PIN, revisar variables de entorno, o mostrar info de tu cuenta de Cloudinary / Firestore."})})]})]})]})}),A.jsx("style",{children:`
        .dash-layout {
          display: grid;
          grid-template-columns: 240px 1fr;
          gap: 16px;
          min-height: 70vh;
        }
        @media (max-width: 960px) {
          .dash-layout {
            grid-template-columns: 1fr;
          }
          .dash-sidebar {
            position: sticky;
            top: 10px;
            z-index: 2;
          }
        }
        .dash-sidebar {
          background: #fff;
          border: 1px solid #eee;
          border-radius: 14px;
          padding: 14px;
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: fit-content;
        }
        .dash-brand {
          display: flex;
          align-items: baseline;
          gap: 6px;
          font-size: 18px;
        }
        .muted { color: #6b7280; font-size: 12px; }
        .dash-nav {
          display: grid;
          gap: 6px;
          margin-top: 8px;
        }
        .dash-link {
          text-align: left;
          border: 1px solid #eee;
          background: #fafafa;
          border-radius: 10px;
          padding: 10px 12px;
          cursor: pointer;
          transition: background .15s ease, border-color .15s ease, transform .05s ease;
        }
        .dash-link:hover { background: #f6f6f6; border-color: #e7e7e7; }
        .dash-link.active {
          background: #f0f2ff;
          border-color: #dfe3ff;
        }
        .dash-footer {
          margin-top: auto;
          display: flex;
          justify-content: flex-start;
        }
        .btn-ghost {
          background: transparent;
          border: 1px solid #eee;
          color: #374151;
        }
        .dash-content {
          display: grid;
          gap: 16px;
        }
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
          border: 1px solid #eee;
        }
      `})]}):A.jsx("section",{className:"section",children:A.jsxs("div",{className:"container",style:{maxWidth:420},children:[A.jsx("h2",{className:"h2",children:"Acceso"}),A.jsx("p",{className:"lead",children:"Ingresa el PIN para continuar"}),A.jsxs("form",{onSubmit:o,className:"admin-card",children:[A.jsx("input",{type:"password",placeholder:"PIN",value:n,onChange:u=>r(u.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:8,border:"1px solid #ddd"}}),A.jsx("button",{className:"btn",style:{marginTop:12},type:"submit",children:"Entrar"})]})]})})}function ZO(){return A.jsxs(A.Fragment,{children:[A.jsx(MD,{}),A.jsxs("main",{children:[A.jsx(LD,{}),A.jsx(dN,{}),A.jsx(yN,{})]}),A.jsx(bD,{})]})}function e3(){return A.jsxs(EP,{children:[A.jsx(jl,{path:"/",element:A.jsx(ZO,{})}),A.jsx(jl,{path:"/dashboard",element:A.jsx(JO,{})}),A.jsx(jl,{path:"*",element:A.jsx(_P,{to:"/"})})]})}Kh.createRoot(document.getElementById("root")).render(A.jsx(_A.StrictMode,{children:A.jsx(HP,{children:A.jsx(e3,{})})}));
