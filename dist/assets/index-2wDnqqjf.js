(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _C(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U_={exports:{}},tc={},B_={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),wC=Symbol.for("react.portal"),EC=Symbol.for("react.fragment"),TC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),AC=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),Qg=Symbol.iterator;function kC(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z_=Object.assign,H_={};function Fs(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W_(){}W_.prototype=Fs.prototype;function qf(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||$_}var Kf=qf.prototype=new W_;Kf.constructor=qf;z_(Kf,Fs.prototype);Kf.isPureReactComponent=!0;var Yg=Array.isArray,q_=Object.prototype.hasOwnProperty,Gf={current:null},K_={key:!0,ref:!0,__self:!0,__source:!0};function G_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)q_.call(e,r)&&!K_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Da,type:t,key:s,ref:o,props:i,_owner:Gf.current}}function VC(t,e){return{$$typeof:Da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Da}function DC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xg=/\/+/g;function sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?DC(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Da:case wC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sh(o,0):r,Yg(i)?(n="",t!=null&&(n=t.replace(Xg,"$&/")+"/"),jl(i,e,n,"",function(c){return c})):i!=null&&(Qf(i)&&(i=VC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Xg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Yg(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+sh(s,a);o+=jl(s,e,n,u,i)}else if(u=kC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+sh(s,a++),o+=jl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function al(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},Fl={transition:null},NC={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Fl,ReactCurrentOwner:Gf};function Q_(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:al,forEach:function(t,e,n){al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return al(t,function(){e++}),e},toArray:function(t){return al(t,function(e){return e})||[]},only:function(t){if(!Qf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Fs;ie.Fragment=EC;ie.Profiler=SC;ie.PureComponent=qf;ie.StrictMode=TC;ie.Suspense=IC;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;ie.act=Q_;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=z_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)q_.call(e,u)&&!K_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Da,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:CC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xC,_context:t},t.Consumer=t};ie.createElement=G_;ie.createFactory=function(t){var e=G_.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:AC,render:t}};ie.isValidElement=Qf;ie.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:bC}};ie.memo=function(t,e){return{$$typeof:PC,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Fl.transition;Fl.transition={};try{t()}finally{Fl.transition=e}};ie.unstable_act=Q_;ie.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ie.useContext=function(t){return Vt.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ie.useId=function(){return Vt.current.useId()};ie.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};ie.useRef=function(t){return Vt.current.useRef(t)};ie.useState=function(t){return Vt.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Vt.current.useTransition()};ie.version="18.3.1";B_.exports=ie;var A=B_.exports;const MC=_C(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=A,OC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,UC=LC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BC={key:!0,ref:!0,__self:!0,__source:!0};function Y_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FC.call(e,r)&&!BC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OC,type:t,key:s,ref:o,props:i,_owner:UC.current}}tc.Fragment=jC;tc.jsx=Y_;tc.jsxs=Y_;U_.exports=tc;var g=U_.exports,od={},X_={exports:{}},Jt={},J_={exports:{}},Z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var Y=z.length;z.push(K);e:for(;0<Y;){var he=Y-1>>>1,Ce=z[he];if(0<i(Ce,K))z[he]=K,z[Y]=Ce,Y=he;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],Y=z.pop();if(Y!==K){z[0]=Y;e:for(var he=0,Ce=z.length,bt=Ce>>>1;he<bt;){var ve=2*(he+1)-1,At=z[ve],lt=ve+1,Ht=z[lt];if(0>i(At,Y))lt<Ce&&0>i(Ht,At)?(z[he]=Ht,z[lt]=Y,he=lt):(z[he]=At,z[ve]=Y,he=ve);else if(lt<Ce&&0>i(Ht,Y))z[he]=Ht,z[lt]=Y,he=lt;else break e}}return K}function i(z,K){var Y=z.sortIndex-K.sortIndex;return Y!==0?Y:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,p=3,y=!1,C=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=z)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function D(z){if(I=!1,E(z),!C)if(n(u)!==null)C=!0,zt(M);else{var K=n(c);K!==null&&ye(D,K.startTime-z)}}function M(z,K){C=!1,I&&(I=!1,w(_),_=-1),y=!0;var Y=p;try{for(E(K),f=n(u);f!==null&&(!(f.expirationTime>K)||z&&!V());){var he=f.callback;if(typeof he=="function"){f.callback=null,p=f.priorityLevel;var Ce=he(f.expirationTime<=K);K=t.unstable_now(),typeof Ce=="function"?f.callback=Ce:f===n(u)&&r(u),E(K)}else r(u);f=n(u)}if(f!==null)var bt=!0;else{var ve=n(c);ve!==null&&ye(D,ve.startTime-K),bt=!1}return bt}finally{f=null,p=Y,y=!1}}var O=!1,S=null,_=-1,x=5,P=-1;function V(){return!(t.unstable_now()-P<x)}function b(){if(S!==null){var z=t.unstable_now();P=z;var K=!0;try{K=S(!0,z)}finally{K?k():(O=!1,S=null)}}else O=!1}var k;if(typeof v=="function")k=function(){v(b)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ye=Ee.port2;Ee.port1.onmessage=b,k=function(){Ye.postMessage(null)}}else k=function(){R(b,0)};function zt(z){S=z,O||(O=!0,k())}function ye(z,K){_=R(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,zt(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var Y=p;p=K;try{return z()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Y=p;p=z;try{return K()}finally{p=Y}},t.unstable_scheduleCallback=function(z,K,Y){var he=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?he+Y:he):Y=he,z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=Y+Ce,z={id:h++,callback:K,priorityLevel:z,startTime:Y,expirationTime:Ce,sortIndex:-1},Y>he?(z.sortIndex=Y,e(c,z),n(u)===null&&z===n(c)&&(I?(w(_),_=-1):I=!0,ye(D,Y-he))):(z.sortIndex=Ce,e(u,z),C||y||(C=!0,zt(M))),z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(z){var K=p;return function(){var Y=p;p=K;try{return z.apply(this,arguments)}finally{p=Y}}}})(Z_);J_.exports=Z_;var $C=J_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=A,Xt=$C;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ew=new Set,Zo={};function Li(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(Zo[t]=e,t=0;t<e.length;t++)ew.add(e[t])}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=Object.prototype.hasOwnProperty,HC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jg={},Zg={};function WC(t){return ad.call(Zg,t)?!0:ad.call(Jg,t)?!1:HC.test(t)?Zg[t]=!0:(Jg[t]=!0,!1)}function qC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KC(t,e,n,r){if(e===null||typeof e>"u"||qC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Dt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Dt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Dt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Dt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Dt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Dt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Dt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Dt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Dt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yf=/[\-:]([a-z])/g;function Xf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);gt[e]=new Dt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yf,Xf);gt[e]=new Dt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yf,Xf);gt[e]=new Dt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Dt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jf(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KC(e,n,i,r)&&(n=null),r||i===null?WC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),Yi=Symbol.for("react.portal"),Xi=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),ep=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),ey=Symbol.iterator;function mo(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,oh;function Co(t){if(oh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);oh=e&&e[1]||""}return`
`+oh+t}var ah=!1;function lh(t,e){if(!t||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Co(t):""}function GC(t){switch(t.tag){case 5:return Co(t.type);case 16:return Co("Lazy");case 13:return Co("Suspense");case 19:return Co("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xi:return"Fragment";case Yi:return"Portal";case ld:return"Profiler";case Zf:return"StrictMode";case ud:return"Suspense";case cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nw:return(t.displayName||"Context")+".Consumer";case tw:return(t._context.displayName||"Context")+".Provider";case ep:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tp:return e=t.displayName||null,e!==null?e:hd(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return hd(t(e))}catch{}}return null}function QC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(e);case 8:return e===Zf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YC(t){var e=iw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ul(t){t._valueTracker||(t._valueTracker=YC(t))}function sw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=iw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dd(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ty(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ow(t,e){e=e.checked,e!=null&&Jf(t,"checked",e,!1)}function fd(t,e){ow(t,e);var n=Hr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pd(t,e.type,n):e.hasOwnProperty("defaultValue")&&pd(t,e.type,Hr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ny(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pd(t,e,n){(e!=="number"||lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ao=Array.isArray;function fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function md(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ry(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Ao(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hr(n)}}function aw(t,e){var n=Hr(e.value),r=Hr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cl,uw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cl=cl||document.createElement("div"),cl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var No={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XC=["Webkit","ms","Moz","O"];Object.keys(No).forEach(function(t){XC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),No[e]=No[t]})});function cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||No.hasOwnProperty(t)&&No[t]?(""+e).trim():e+"px"}function hw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JC=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(t,e){if(e){if(JC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function vd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wd=null,ps=null,ms=null;function sy(t){if(t=Ma(t)){if(typeof wd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=oc(e),wd(t.stateNode,t.type,e))}}function dw(t){ps?ms?ms.push(t):ms=[t]:ps=t}function fw(){if(ps){var t=ps,e=ms;if(ms=ps=null,sy(t),e)for(t=0;t<e.length;t++)sy(e[t])}}function pw(t,e){return t(e)}function mw(){}var uh=!1;function gw(t,e,n){if(uh)return t(e,n);uh=!0;try{return pw(t,e,n)}finally{uh=!1,(ps!==null||ms!==null)&&(mw(),fw())}}function ta(t,e){var n=t.stateNode;if(n===null)return null;var r=oc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Ed=!1;if(tr)try{var go={};Object.defineProperty(go,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{Ed=!1}function ZC(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Mo=!1,uu=null,cu=!1,Td=null,eA={onError:function(t){Mo=!0,uu=t}};function tA(t,e,n,r,i,s,o,a,u){Mo=!1,uu=null,ZC.apply(eA,arguments)}function nA(t,e,n,r,i,s,o,a,u){if(tA.apply(this,arguments),Mo){if(Mo){var c=uu;Mo=!1,uu=null}else throw Error(B(198));cu||(cu=!0,Td=c)}}function Oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oy(t){if(Oi(t)!==t)throw Error(B(188))}function rA(t){var e=t.alternate;if(!e){if(e=Oi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return oy(i),t;if(s===r)return oy(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function vw(t){return t=rA(t),t!==null?_w(t):null}function _w(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_w(t);if(e!==null)return e;t=t.sibling}return null}var ww=Xt.unstable_scheduleCallback,ay=Xt.unstable_cancelCallback,iA=Xt.unstable_shouldYield,sA=Xt.unstable_requestPaint,We=Xt.unstable_now,oA=Xt.unstable_getCurrentPriorityLevel,rp=Xt.unstable_ImmediatePriority,Ew=Xt.unstable_UserBlockingPriority,hu=Xt.unstable_NormalPriority,aA=Xt.unstable_LowPriority,Tw=Xt.unstable_IdlePriority,nc=null,bn=null;function lA(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(nc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:hA,uA=Math.log,cA=Math.LN2;function hA(t){return t>>>=0,t===0?32:31-(uA(t)/cA|0)|0}var hl=64,dl=4194304;function Io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Io(a):(s&=o,s!==0&&(r=Io(s)))}else o=n&~i,o!==0?r=Io(o):s!==0&&(r=Io(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function dA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=dA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Sd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sw(){var t=hl;return hl<<=1,!(hl&4194240)&&(hl=64),t}function ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ba(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function pA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ip(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _e=0;function xw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Cw,sp,Aw,Iw,Pw,xd=!1,fl=[],kr=null,Vr=null,Dr=null,na=new Map,ra=new Map,Cr=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":na.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ra.delete(e.pointerId)}}function yo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ma(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gA(t,e,n,r,i){switch(e){case"focusin":return kr=yo(kr,t,e,n,r,i),!0;case"dragenter":return Vr=yo(Vr,t,e,n,r,i),!0;case"mouseover":return Dr=yo(Dr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return na.set(s,yo(na.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ra.set(s,yo(ra.get(s)||null,t,e,n,r,i)),!0}return!1}function Rw(t){var e=yi(t.target);if(e!==null){var n=Oi(e);if(n!==null){if(e=n.tag,e===13){if(e=yw(n),e!==null){t.blockedOn=e,Pw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_d=r,n.target.dispatchEvent(r),_d=null}else return e=Ma(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function uy(t,e,n){Ul(t)&&n.delete(e)}function yA(){xd=!1,kr!==null&&Ul(kr)&&(kr=null),Vr!==null&&Ul(Vr)&&(Vr=null),Dr!==null&&Ul(Dr)&&(Dr=null),na.forEach(uy),ra.forEach(uy)}function vo(t,e){t.blockedOn===e&&(t.blockedOn=null,xd||(xd=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,yA)))}function ia(t){function e(i){return vo(i,t)}if(0<fl.length){vo(fl[0],t);for(var n=1;n<fl.length;n++){var r=fl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&vo(kr,t),Vr!==null&&vo(Vr,t),Dr!==null&&vo(Dr,t),na.forEach(e),ra.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)Rw(n),n.blockedOn===null&&Cr.shift()}var gs=dr.ReactCurrentBatchConfig,fu=!0;function vA(t,e,n,r){var i=_e,s=gs.transition;gs.transition=null;try{_e=1,op(t,e,n,r)}finally{_e=i,gs.transition=s}}function _A(t,e,n,r){var i=_e,s=gs.transition;gs.transition=null;try{_e=4,op(t,e,n,r)}finally{_e=i,gs.transition=s}}function op(t,e,n,r){if(fu){var i=Cd(t,e,n,r);if(i===null)wh(t,e,r,pu,n),ly(t,r);else if(gA(i,t,e,n,r))r.stopPropagation();else if(ly(t,r),e&4&&-1<mA.indexOf(t)){for(;i!==null;){var s=Ma(i);if(s!==null&&Cw(s),s=Cd(t,e,n,r),s===null&&wh(t,e,r,pu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else wh(t,e,r,null,n)}}var pu=null;function Cd(t,e,n,r){if(pu=null,t=np(r),t=yi(t),t!==null)if(e=Oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pu=t,null}function kw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oA()){case rp:return 1;case Ew:return 4;case hu:case aA:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var Ir=null,ap=null,Bl=null;function Vw(){if(Bl)return Bl;var t,e=ap,n=e.length,r,i="value"in Ir?Ir.value:Ir.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bl=i.slice(t,1<r?1-r:void 0)}function $l(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pl(){return!0}function cy(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pl:cy,this.isPropagationStopped=cy,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),e}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lp=Zt(Us),Na=je({},Us,{view:0,detail:0}),wA=Zt(Na),hh,dh,_o,rc=je({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:up,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_o&&(_o&&t.type==="mousemove"?(hh=t.screenX-_o.screenX,dh=t.screenY-_o.screenY):dh=hh=0,_o=t),hh)},movementY:function(t){return"movementY"in t?t.movementY:dh}}),hy=Zt(rc),EA=je({},rc,{dataTransfer:0}),TA=Zt(EA),SA=je({},Na,{relatedTarget:0}),fh=Zt(SA),xA=je({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),CA=Zt(xA),AA=je({},Us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IA=Zt(AA),PA=je({},Us,{data:0}),dy=Zt(PA),RA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VA[t])?!!e[t]:!1}function up(){return DA}var bA=je({},Na,{key:function(t){if(t.key){var e=RA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$l(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:up,charCode:function(t){return t.type==="keypress"?$l(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$l(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NA=Zt(bA),MA=je({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fy=Zt(MA),LA=je({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:up}),OA=Zt(LA),jA=je({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=Zt(jA),UA=je({},rc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BA=Zt(UA),$A=[9,13,27,32],cp=tr&&"CompositionEvent"in window,Lo=null;tr&&"documentMode"in document&&(Lo=document.documentMode);var zA=tr&&"TextEvent"in window&&!Lo,Dw=tr&&(!cp||Lo&&8<Lo&&11>=Lo),py=" ",my=!1;function bw(t,e){switch(t){case"keyup":return $A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function HA(t,e){switch(t){case"compositionend":return Nw(e);case"keypress":return e.which!==32?null:(my=!0,py);case"textInput":return t=e.data,t===py&&my?null:t;default:return null}}function WA(t,e){if(Ji)return t==="compositionend"||!cp&&bw(t,e)?(t=Vw(),Bl=ap=Ir=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Dw&&e.locale!=="ko"?null:e.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qA[t.type]:e==="textarea"}function Mw(t,e,n,r){dw(r),e=mu(e,"onChange"),0<e.length&&(n=new lp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oo=null,sa=null;function KA(t){qw(t,0)}function ic(t){var e=ts(t);if(sw(e))return t}function GA(t,e){if(t==="change")return e}var Lw=!1;if(tr){var ph;if(tr){var mh="oninput"in document;if(!mh){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),mh=typeof yy.oninput=="function"}ph=mh}else ph=!1;Lw=ph&&(!document.documentMode||9<document.documentMode)}function vy(){Oo&&(Oo.detachEvent("onpropertychange",Ow),sa=Oo=null)}function Ow(t){if(t.propertyName==="value"&&ic(sa)){var e=[];Mw(e,sa,t,np(t)),gw(KA,e)}}function QA(t,e,n){t==="focusin"?(vy(),Oo=e,sa=n,Oo.attachEvent("onpropertychange",Ow)):t==="focusout"&&vy()}function YA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ic(sa)}function XA(t,e){if(t==="click")return ic(e)}function JA(t,e){if(t==="input"||t==="change")return ic(e)}function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:ZA;function oa(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ad.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function _y(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,e){var n=_y(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_y(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lu(t.document)}return e}function hp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eI(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&hp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=wy(n,s);var o=wy(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tI=tr&&"documentMode"in document&&11>=document.documentMode,Zi=null,Ad=null,jo=null,Id=!1;function Ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Id||Zi==null||Zi!==lu(r)||(r=Zi,"selectionStart"in r&&hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jo&&oa(jo,r)||(jo=r,r=mu(Ad,"onSelect"),0<r.length&&(e=new lp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zi)))}function ml(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var es={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},gh={},Uw={};tr&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function sc(t){if(gh[t])return gh[t];if(!es[t])return t;var e=es[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uw)return gh[t]=e[n];return t}var Bw=sc("animationend"),$w=sc("animationiteration"),zw=sc("animationstart"),Hw=sc("transitionend"),Ww=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Ww.set(t,e),Li(e,[t])}for(var yh=0;yh<Ty.length;yh++){var vh=Ty[yh],nI=vh.toLowerCase(),rI=vh[0].toUpperCase()+vh.slice(1);ei(nI,"on"+rI)}ei(Bw,"onAnimationEnd");ei($w,"onAnimationIteration");ei(zw,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Hw,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Sy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nA(r,e,void 0,t),t.currentTarget=null}function qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Sy(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Sy(i,a,c),s=u}}}if(cu)throw t=Td,cu=!1,Td=null,t}function Ie(t,e){var n=e[Dd];n===void 0&&(n=e[Dd]=new Set);var r=t+"__bubble";n.has(r)||(Kw(e,t,2,!1),n.add(r))}function _h(t,e,n){var r=0;e&&(r|=4),Kw(n,t,r,e)}var gl="_reactListening"+Math.random().toString(36).slice(2);function aa(t){if(!t[gl]){t[gl]=!0,ew.forEach(function(n){n!=="selectionchange"&&(iI.has(n)||_h(n,!1,t),_h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gl]||(e[gl]=!0,_h("selectionchange",!1,e))}}function Kw(t,e,n,r){switch(kw(e)){case 1:var i=vA;break;case 4:i=_A;break;default:i=op}n=i.bind(null,e,n,t),i=void 0,!Ed||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function wh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}gw(function(){var c=s,h=np(n),f=[];e:{var p=Ww.get(t);if(p!==void 0){var y=lp,C=t;switch(t){case"keypress":if($l(n)===0)break e;case"keydown":case"keyup":y=NA;break;case"focusin":C="focus",y=fh;break;case"focusout":C="blur",y=fh;break;case"beforeblur":case"afterblur":y=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=TA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=OA;break;case Bw:case $w:case zw:y=CA;break;case Hw:y=FA;break;case"scroll":y=wA;break;case"wheel":y=BA;break;case"copy":case"cut":case"paste":y=IA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fy}var I=(e&4)!==0,R=!I&&t==="scroll",w=I?p!==null?p+"Capture":null:p;I=[];for(var v=c,E;v!==null;){E=v;var D=E.stateNode;if(E.tag===5&&D!==null&&(E=D,w!==null&&(D=ta(v,w),D!=null&&I.push(la(v,D,E)))),R)break;v=v.return}0<I.length&&(p=new y(p,C,null,n,h),f.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==_d&&(C=n.relatedTarget||n.fromElement)&&(yi(C)||C[nr]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=c,C=C?yi(C):null,C!==null&&(R=Oi(C),C!==R||C.tag!==5&&C.tag!==6)&&(C=null)):(y=null,C=c),y!==C)){if(I=hy,D="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(I=fy,D="onPointerLeave",w="onPointerEnter",v="pointer"),R=y==null?p:ts(y),E=C==null?p:ts(C),p=new I(D,v+"leave",y,n,h),p.target=R,p.relatedTarget=E,D=null,yi(h)===c&&(I=new I(w,v+"enter",C,n,h),I.target=E,I.relatedTarget=R,D=I),R=D,y&&C)t:{for(I=y,w=C,v=0,E=I;E;E=Wi(E))v++;for(E=0,D=w;D;D=Wi(D))E++;for(;0<v-E;)I=Wi(I),v--;for(;0<E-v;)w=Wi(w),E--;for(;v--;){if(I===w||w!==null&&I===w.alternate)break t;I=Wi(I),w=Wi(w)}I=null}else I=null;y!==null&&xy(f,p,y,I,!1),C!==null&&R!==null&&xy(f,R,C,I,!0)}}e:{if(p=c?ts(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=GA;else if(gy(p))if(Lw)M=JA;else{M=YA;var O=QA}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=XA);if(M&&(M=M(t,c))){Mw(f,M,n,h);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&pd(p,"number",p.value)}switch(O=c?ts(c):window,t){case"focusin":(gy(O)||O.contentEditable==="true")&&(Zi=O,Ad=c,jo=null);break;case"focusout":jo=Ad=Zi=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,Ey(f,n,h);break;case"selectionchange":if(tI)break;case"keydown":case"keyup":Ey(f,n,h)}var S;if(cp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ji?bw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Dw&&n.locale!=="ko"&&(Ji||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ji&&(S=Vw()):(Ir=h,ap="value"in Ir?Ir.value:Ir.textContent,Ji=!0)),O=mu(c,_),0<O.length&&(_=new dy(_,t,null,n,h),f.push({event:_,listeners:O}),S?_.data=S:(S=Nw(n),S!==null&&(_.data=S)))),(S=zA?HA(t,n):WA(t,n))&&(c=mu(c,"onBeforeInput"),0<c.length&&(h=new dy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=S))}qw(f,e)})}function la(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ta(t,n),s!=null&&r.unshift(la(t,s,i)),s=ta(t,e),s!=null&&r.push(la(t,s,i))),t=t.return}return r}function Wi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ta(n,s),u!=null&&o.unshift(la(n,u,a))):i||(u=ta(n,s),u!=null&&o.push(la(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(sI,`
`).replace(oI,"")}function yl(t,e,n){if(e=Cy(e),Cy(t)!==e&&n)throw Error(B(425))}function gu(){}var Pd=null,Rd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,lI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(uI)}:Vd;function uI(t){setTimeout(function(){throw t})}function Eh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ia(e)}function br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Bs,ua="__reactProps$"+Bs,nr="__reactContainer$"+Bs,Dd="__reactEvents$"+Bs,cI="__reactListeners$"+Bs,hI="__reactHandles$"+Bs;function yi(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[nr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iy(t);t!==null;){if(n=t[Vn])return n;t=Iy(t)}return e}t=n,n=t.parentNode}return null}function Ma(t){return t=t[Vn]||t[nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ts(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function oc(t){return t[ua]||null}var bd=[],ns=-1;function ti(t){return{current:t}}function ke(t){0>ns||(t.current=bd[ns],bd[ns]=null,ns--)}function xe(t,e){ns++,bd[ns]=t.current,t.current=e}var Wr={},Ct=ti(Wr),Ut=ti(!1),Pi=Wr;function xs(t,e){var n=t.type.contextTypes;if(!n)return Wr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function yu(){ke(Ut),ke(Ct)}function Py(t,e,n){if(Ct.current!==Wr)throw Error(B(168));xe(Ct,e),xe(Ut,n)}function Gw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,QC(t)||"Unknown",i));return je({},n,r)}function vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,Pi=Ct.current,xe(Ct,t),xe(Ut,Ut.current),!0}function Ry(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Gw(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,ke(Ut),ke(Ct),xe(Ct,t)):ke(Ut),xe(Ut,n)}var Qn=null,ac=!1,Th=!1;function Qw(t){Qn===null?Qn=[t]:Qn.push(t)}function dI(t){ac=!0,Qw(t)}function ni(){if(!Th&&Qn!==null){Th=!0;var t=0,e=_e;try{var n=Qn;for(_e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,ac=!1}catch(i){throw Qn!==null&&(Qn=Qn.slice(t+1)),ww(rp,ni),i}finally{_e=e,Th=!1}}return null}var rs=[],is=0,_u=null,wu=0,rn=[],sn=0,Ri=null,Yn=1,Xn="";function fi(t,e){rs[is++]=wu,rs[is++]=_u,_u=t,wu=e}function Yw(t,e,n){rn[sn++]=Yn,rn[sn++]=Xn,rn[sn++]=Ri,Ri=t;var r=Yn;t=Xn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yn=1<<32-_n(e)+i|n<<i|r,Xn=s+t}else Yn=1<<s|n<<i|r,Xn=t}function dp(t){t.return!==null&&(fi(t,1),Yw(t,1,0))}function fp(t){for(;t===_u;)_u=rs[--is],rs[is]=null,wu=rs[--is],rs[is]=null;for(;t===Ri;)Ri=rn[--sn],rn[sn]=null,Xn=rn[--sn],rn[sn]=null,Yn=rn[--sn],rn[sn]=null}var Yt=null,Gt=null,Ve=!1,yn=null;function Xw(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ky(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Gt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ri!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Gt=null,!0):!1;default:return!1}}function Nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Md(t){if(Ve){var e=Gt;if(e){var n=e;if(!ky(t,e)){if(Nd(t))throw Error(B(418));e=br(n.nextSibling);var r=Yt;e&&ky(t,e)?Xw(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Yt=t)}}else{if(Nd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Ve=!1,Yt=t}}}function Vy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function vl(t){if(t!==Yt)return!1;if(!Ve)return Vy(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=Gt)){if(Nd(t))throw Jw(),Error(B(418));for(;e;)Xw(t,e),e=br(e.nextSibling)}if(Vy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Gt=br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Gt=null}}else Gt=Yt?br(t.stateNode.nextSibling):null;return!0}function Jw(){for(var t=Gt;t;)t=br(t.nextSibling)}function Cs(){Gt=Yt=null,Ve=!1}function pp(t){yn===null?yn=[t]:yn.push(t)}var fI=dr.ReactCurrentBatchConfig;function wo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function _l(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Dy(t){var e=t._init;return e(t._payload)}function Zw(t){function e(w,v){if(t){var E=w.deletions;E===null?(w.deletions=[v],w.flags|=16):E.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function i(w,v){return w=Or(w,v),w.index=0,w.sibling=null,w}function s(w,v,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<v?(w.flags|=2,v):E):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,E,D){return v===null||v.tag!==6?(v=Rh(E,w.mode,D),v.return=w,v):(v=i(v,E),v.return=w,v)}function u(w,v,E,D){var M=E.type;return M===Xi?h(w,v,E.props.children,D,E.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sr&&Dy(M)===v.type)?(D=i(v,E.props),D.ref=wo(w,v,E),D.return=w,D):(D=Ql(E.type,E.key,E.props,null,w.mode,D),D.ref=wo(w,v,E),D.return=w,D)}function c(w,v,E,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=kh(E,w.mode,D),v.return=w,v):(v=i(v,E.children||[]),v.return=w,v)}function h(w,v,E,D,M){return v===null||v.tag!==7?(v=Ci(E,w.mode,D,M),v.return=w,v):(v=i(v,E),v.return=w,v)}function f(w,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Rh(""+v,w.mode,E),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ll:return E=Ql(v.type,v.key,v.props,null,w.mode,E),E.ref=wo(w,null,v),E.return=w,E;case Yi:return v=kh(v,w.mode,E),v.return=w,v;case Sr:var D=v._init;return f(w,D(v._payload),E)}if(Ao(v)||mo(v))return v=Ci(v,w.mode,E,null),v.return=w,v;_l(w,v)}return null}function p(w,v,E,D){var M=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(w,v,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ll:return E.key===M?u(w,v,E,D):null;case Yi:return E.key===M?c(w,v,E,D):null;case Sr:return M=E._init,p(w,v,M(E._payload),D)}if(Ao(E)||mo(E))return M!==null?null:h(w,v,E,D,null);_l(w,E)}return null}function y(w,v,E,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(E)||null,a(v,w,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ll:return w=w.get(D.key===null?E:D.key)||null,u(v,w,D,M);case Yi:return w=w.get(D.key===null?E:D.key)||null,c(v,w,D,M);case Sr:var O=D._init;return y(w,v,E,O(D._payload),M)}if(Ao(D)||mo(D))return w=w.get(E)||null,h(v,w,D,M,null);_l(v,D)}return null}function C(w,v,E,D){for(var M=null,O=null,S=v,_=v=0,x=null;S!==null&&_<E.length;_++){S.index>_?(x=S,S=null):x=S.sibling;var P=p(w,S,E[_],D);if(P===null){S===null&&(S=x);break}t&&S&&P.alternate===null&&e(w,S),v=s(P,v,_),O===null?M=P:O.sibling=P,O=P,S=x}if(_===E.length)return n(w,S),Ve&&fi(w,_),M;if(S===null){for(;_<E.length;_++)S=f(w,E[_],D),S!==null&&(v=s(S,v,_),O===null?M=S:O.sibling=S,O=S);return Ve&&fi(w,_),M}for(S=r(w,S);_<E.length;_++)x=y(S,w,_,E[_],D),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?_:x.key),v=s(x,v,_),O===null?M=x:O.sibling=x,O=x);return t&&S.forEach(function(V){return e(w,V)}),Ve&&fi(w,_),M}function I(w,v,E,D){var M=mo(E);if(typeof M!="function")throw Error(B(150));if(E=M.call(E),E==null)throw Error(B(151));for(var O=M=null,S=v,_=v=0,x=null,P=E.next();S!==null&&!P.done;_++,P=E.next()){S.index>_?(x=S,S=null):x=S.sibling;var V=p(w,S,P.value,D);if(V===null){S===null&&(S=x);break}t&&S&&V.alternate===null&&e(w,S),v=s(V,v,_),O===null?M=V:O.sibling=V,O=V,S=x}if(P.done)return n(w,S),Ve&&fi(w,_),M;if(S===null){for(;!P.done;_++,P=E.next())P=f(w,P.value,D),P!==null&&(v=s(P,v,_),O===null?M=P:O.sibling=P,O=P);return Ve&&fi(w,_),M}for(S=r(w,S);!P.done;_++,P=E.next())P=y(S,w,_,P.value,D),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?_:P.key),v=s(P,v,_),O===null?M=P:O.sibling=P,O=P);return t&&S.forEach(function(b){return e(w,b)}),Ve&&fi(w,_),M}function R(w,v,E,D){if(typeof E=="object"&&E!==null&&E.type===Xi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ll:e:{for(var M=E.key,O=v;O!==null;){if(O.key===M){if(M=E.type,M===Xi){if(O.tag===7){n(w,O.sibling),v=i(O,E.props.children),v.return=w,w=v;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sr&&Dy(M)===O.type){n(w,O.sibling),v=i(O,E.props),v.ref=wo(w,O,E),v.return=w,w=v;break e}n(w,O);break}else e(w,O);O=O.sibling}E.type===Xi?(v=Ci(E.props.children,w.mode,D,E.key),v.return=w,w=v):(D=Ql(E.type,E.key,E.props,null,w.mode,D),D.ref=wo(w,v,E),D.return=w,w=D)}return o(w);case Yi:e:{for(O=E.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(w,v.sibling),v=i(v,E.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=kh(E,w.mode,D),v.return=w,w=v}return o(w);case Sr:return O=E._init,R(w,v,O(E._payload),D)}if(Ao(E))return C(w,v,E,D);if(mo(E))return I(w,v,E,D);_l(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(w,v.sibling),v=i(v,E),v.return=w,w=v):(n(w,v),v=Rh(E,w.mode,D),v.return=w,w=v),o(w)):n(w,v)}return R}var As=Zw(!0),e1=Zw(!1),Eu=ti(null),Tu=null,ss=null,mp=null;function gp(){mp=ss=Tu=null}function yp(t){var e=Eu.current;ke(Eu),t._currentValue=e}function Ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ys(t,e){Tu=t,mp=ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(mp!==t)if(t={context:t,memoizedValue:e,next:null},ss===null){if(Tu===null)throw Error(B(308));ss=t,Tu.dependencies={lanes:0,firstContext:t}}else ss=ss.next=t;return e}var vi=null;function vp(t){vi===null?vi=[t]:vi.push(t)}function t1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vp(e)):(n.next=i.next,i.next=n),e.interleaved=n,rr(t,r)}function rr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xr=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,rr(t,n)}return i=r.interleaved,i===null?(e.next=e,vp(r)):(e.next=i.next,i.next=e),r.interleaved=e,rr(t,n)}function zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}function by(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Su(t,e,n,r){var i=t.updateQueue;xr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var C=t,I=a;switch(p=e,y=n,I.tag){case 1:if(C=I.payload,typeof C=="function"){f=C.call(y,f,p);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=I.payload,p=typeof C=="function"?C.call(y,f,p):C,p==null)break e;f=je({},f,p);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=y,u=f):h=h.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function Ny(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var La={},Nn=ti(La),ca=ti(La),ha=ti(La);function _i(t){if(t===La)throw Error(B(174));return t}function wp(t,e){switch(xe(ha,e),xe(ca,t),xe(Nn,La),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gd(e,t)}ke(Nn),xe(Nn,e)}function Is(){ke(Nn),ke(ca),ke(ha)}function r1(t){_i(ha.current);var e=_i(Nn.current),n=gd(e,t.type);e!==n&&(xe(ca,t),xe(Nn,n))}function Ep(t){ca.current===t&&(ke(Nn),ke(ca))}var Me=ti(0);function xu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function Tp(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var Hl=dr.ReactCurrentDispatcher,xh=dr.ReactCurrentBatchConfig,ki=0,Oe=null,Ze=null,st=null,Cu=!1,Fo=!1,da=0,pI=0;function vt(){throw Error(B(321))}function Sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function xp(t,e,n,r,i,s){if(ki=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hl.current=t===null||t.memoizedState===null?vI:_I,t=n(r,i),Fo){s=0;do{if(Fo=!1,da=0,25<=s)throw Error(B(301));s+=1,st=Ze=null,e.updateQueue=null,Hl.current=wI,t=n(r,i)}while(Fo)}if(Hl.current=Au,e=Ze!==null&&Ze.next!==null,ki=0,st=Ze=Oe=null,Cu=!1,e)throw Error(B(300));return t}function Cp(){var t=da!==0;return da=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Oe.memoizedState=st=t:st=st.next=t,st}function dn(){if(Ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=st===null?Oe.memoizedState:st.next;if(e!==null)st=e,Ze=t;else{if(t===null)throw Error(B(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Oe.memoizedState=st=t:st=st.next=t}return st}function fa(t,e){return typeof e=="function"?e(t):e}function Ch(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((ki&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Oe.lanes|=h,Vi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Tn(r,e.memoizedState)||(jt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,Vi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ah(t){var e=dn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function i1(){}function s1(t,e){var n=Oe,r=dn(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,jt=!0),r=r.queue,Ap(l1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,pa(9,a1.bind(null,n,r,i,e),void 0,null),at===null)throw Error(B(349));ki&30||o1(n,e,i)}return i}function o1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a1(t,e,n,r){e.value=n,e.getSnapshot=r,u1(e)&&c1(t)}function l1(t,e,n){return n(function(){u1(e)&&c1(t)})}function u1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function c1(t){var e=rr(t,1);e!==null&&wn(e,t,1,-1)}function My(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},e.queue=t,t=t.dispatch=yI.bind(null,Oe,t),[e.memoizedState,t]}function pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function h1(){return dn().memoizedState}function Wl(t,e,n,r){var i=Rn();Oe.flags|=t,i.memoizedState=pa(1|e,n,void 0,r===void 0?null:r)}function lc(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Sp(r,o.deps)){i.memoizedState=pa(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=pa(1|e,n,s,r)}function Ly(t,e){return Wl(8390656,8,t,e)}function Ap(t,e){return lc(2048,8,t,e)}function d1(t,e){return lc(4,2,t,e)}function f1(t,e){return lc(4,4,t,e)}function p1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m1(t,e,n){return n=n!=null?n.concat([t]):null,lc(4,4,p1.bind(null,e,t),n)}function Ip(){}function g1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y1(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v1(t,e,n){return ki&21?(Tn(n,e)||(n=Sw(),Oe.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function mI(t,e){var n=_e;_e=n!==0&&4>n?n:4,t(!0);var r=xh.transition;xh.transition={};try{t(!1),e()}finally{_e=n,xh.transition=r}}function _1(){return dn().memoizedState}function gI(t,e,n){var r=Lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w1(t))E1(e,n);else if(n=t1(t,e,n,r),n!==null){var i=kt();wn(n,t,r,i),T1(n,e,r)}}function yI(t,e,n){var r=Lr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w1(t))E1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var u=e.interleaved;u===null?(i.next=i,vp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=t1(t,e,i,r),n!==null&&(i=kt(),wn(n,t,r,i),T1(n,e,r))}}function w1(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function E1(t,e){Fo=Cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function T1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ip(t,n)}}var Au={readContext:hn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},vI={readContext:hn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:Ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wl(4194308,4,p1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wl(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gI.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:My,useDebugValue:Ip,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=My(!1),e=t[0];return t=mI.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=Rn();if(Ve){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),at===null)throw Error(B(349));ki&30||o1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ly(l1.bind(null,r,s,t),[t]),r.flags|=2048,pa(9,a1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rn(),e=at.identifierPrefix;if(Ve){var n=Xn,r=Yn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=da++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_I={readContext:hn,useCallback:g1,useContext:hn,useEffect:Ap,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:y1,useReducer:Ch,useRef:h1,useState:function(){return Ch(fa)},useDebugValue:Ip,useDeferredValue:function(t){var e=dn();return v1(e,Ze.memoizedState,t)},useTransition:function(){var t=Ch(fa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:s1,useId:_1,unstable_isNewReconciler:!1},wI={readContext:hn,useCallback:g1,useContext:hn,useEffect:Ap,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:y1,useReducer:Ah,useRef:h1,useState:function(){return Ah(fa)},useDebugValue:Ip,useDeferredValue:function(t){var e=dn();return Ze===null?e.memoizedState=t:v1(e,Ze.memoizedState,t)},useTransition:function(){var t=Ah(fa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:i1,useSyncExternalStore:s1,useId:_1,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Od(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?Oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),i=Lr(t),s=Zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(wn(e,t,i,r),zl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),i=Lr(t),s=Zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Nr(t,s,i),e!==null&&(wn(e,t,i,r),zl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Lr(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Nr(t,i,r),e!==null&&(wn(e,t,r,n),zl(e,t,r))}};function Oy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!oa(n,r)||!oa(i,s):!0}function S1(t,e,n){var r=!1,i=Wr,s=e.contextType;return typeof s=="object"&&s!==null?s=hn(s):(i=Bt(e)?Pi:Ct.current,r=e.contextTypes,s=(r=r!=null)?xs(t,i):Wr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function jd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_p(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hn(s):(s=Bt(e)?Pi:Ct.current,i.context=xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Od(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uc.enqueueReplaceState(i,i.state,null),Su(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,e){try{var n="",r=e;do n+=GC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EI=typeof WeakMap=="function"?WeakMap:Map;function x1(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pu||(Pu=!0,Qd=r),Fd(t,e)},n}function C1(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Fd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Fd(t,e),typeof r!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Fy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MI.bind(null,t,e,n),e.then(t,t))}function Uy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function By(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Nr(n,e,1))),n.lanes|=1),t)}var TI=dr.ReactCurrentOwner,jt=!1;function Pt(t,e,n,r){e.child=t===null?e1(e,null,n,r):As(e,t.child,n,r)}function $y(t,e,n,r,i){n=n.render;var s=e.ref;return ys(e,i),r=xp(t,e,n,r,s,i),n=Cp(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ve&&n&&dp(e),e.flags|=1,Pt(t,e,r,i),e.child)}function zy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,A1(t,e,s,r,i)):(t=Ql(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:oa,n(o,r)&&t.ref===e.ref)return ir(t,e,i)}return e.flags|=1,t=Or(s,r),t.ref=e.ref,t.return=e,e.child=t}function A1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(oa(s,r)&&t.ref===e.ref)if(jt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,ir(t,e,i)}return Ud(t,e,n,r,i)}function I1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(as,Kt),Kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(as,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(as,Kt),Kt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xe(as,Kt),Kt|=r;return Pt(t,e,i,n),e.child}function P1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ud(t,e,n,r,i){var s=Bt(n)?Pi:Ct.current;return s=xs(e,s),ys(e,i),n=xp(t,e,n,r,s,i),r=Cp(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ir(t,e,i)):(Ve&&r&&dp(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Hy(t,e,n,r,i){if(Bt(n)){var s=!0;vu(e)}else s=!1;if(ys(e,i),e.stateNode===null)ql(t,e),S1(e,n,r),jd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=hn(c):(c=Bt(n)?Pi:Ct.current,c=xs(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&jy(e,o,r,c),xr=!1;var p=e.memoizedState;o.state=p,Su(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Ut.current||xr?(typeof h=="function"&&(Od(e,n,h,r),u=e.memoizedState),(a=xr||Oy(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=hn(u):(u=Bt(n)?Pi:Ct.current,u=xs(e,u));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&jy(e,o,r,u),xr=!1,p=e.memoizedState,o.state=p,Su(e,r,o,i);var C=e.memoizedState;a!==f||p!==C||Ut.current||xr?(typeof y=="function"&&(Od(e,n,y,r),C=e.memoizedState),(c=xr||Oy(e,n,c,r,p,C,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,C,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,C,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),o.props=r,o.state=C,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bd(t,e,n,r,s,i)}function Bd(t,e,n,r,i,s){P1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Ry(e,n,!1),ir(t,e,s);r=e.stateNode,TI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=As(e,t.child,null,s),e.child=As(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=r.state,i&&Ry(e,n,!0),e.child}function R1(t){var e=t.stateNode;e.pendingContext?Py(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Py(t,e.context,!1),wp(t,e.containerInfo)}function Wy(t,e,n,r,i){return Cs(),pp(i),e.flags|=256,Pt(t,e,n,r),e.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function k1(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Me,i&1),t===null)return Md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dc(o,r,0,null),t=Ci(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zd(n),e.memoizedState=$d,t):Pp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Or(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Or(a,s):(s=Ci(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$d,r}return s=t.child,t=s.sibling,r=Or(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pp(t,e){return e=dc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wl(t,e,n,r){return r!==null&&pp(r),As(e,t.child,null,n),t=Pp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ih(Error(B(422))),wl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dc({mode:"visible",children:r.children},i,0,null),s=Ci(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&As(e,t.child,null,o),e.child.memoizedState=zd(o),e.memoizedState=$d,s);if(!(e.mode&1))return wl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Ih(s,r,void 0),wl(t,e,o,r)}if(a=(o&t.childLanes)!==0,jt||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rr(t,i),wn(r,t,i,-1))}return Np(),r=Ih(Error(B(421))),wl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gt=br(i.nextSibling),Yt=e,Ve=!0,yn=null,t!==null&&(rn[sn++]=Yn,rn[sn++]=Xn,rn[sn++]=Ri,Yn=t.id,Xn=t.overflow,Ri=e),e=Pp(e,r.children),e.flags|=4096,e)}function qy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ld(t.return,e,n)}function Ph(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function V1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,n,e);else if(t.tag===19)qy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ph(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ph(e,!0,n,null,s);break;case"together":Ph(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ql(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xI(t,e,n){switch(e.tag){case 3:R1(e),Cs();break;case 5:r1(e);break;case 1:Bt(e.type)&&vu(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?k1(t,e,n):(xe(Me,Me.current&1),t=ir(t,e,n),t!==null?t.sibling:null);xe(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,I1(t,e,n)}return ir(t,e,n)}var D1,Hd,b1,N1;D1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};b1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i(Nn.current);var s=null;switch(n){case"input":i=dd(t,i),r=dd(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=md(t,i),r=md(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gu)}yd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};N1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Eo(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CI(t,e,n){var r=e.pendingProps;switch(fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Bt(e.type)&&yu(),_t(e),null;case 3:return r=e.stateNode,Is(),ke(Ut),ke(Ct),Tp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(Jd(yn),yn=null))),Hd(t,e),_t(e),null;case 5:Ep(e);var i=_i(ha.current);if(n=e.type,t!==null&&e.stateNode!=null)b1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=_i(Nn.current),vl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[ua]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Po.length;i++)Ie(Po[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":ty(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":ry(r,s),Ie("invalid",r)}yd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yl(r.textContent,a,t),i=["children",""+a]):Zo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ul(r),ny(r,s,!0);break;case"textarea":ul(r),iy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[ua]=r,D1(t,e,!1,!1),e.stateNode=t;e:{switch(o=vd(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Po.length;i++)Ie(Po[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":ty(t,r),i=dd(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":ry(t,r),i=md(t,r),Ie("invalid",t);break;default:i=r}yd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?hw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&uw(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ea(t,u):typeof u=="number"&&ea(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zo.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ie("scroll",t):u!=null&&Jf(t,s,u,o))}switch(n){case"input":ul(t),ny(t,r,!1);break;case"textarea":ul(t),iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fs(t,!!r.multiple,s,!1):r.defaultValue!=null&&fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)N1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=_i(ha.current),_i(Nn.current),vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return _t(e),null;case 13:if(ke(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&Gt!==null&&e.mode&1&&!(e.flags&128))Jw(),Cs(),e.flags|=98560,s=!1;else if(s=vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Vn]=e}else Cs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),s=!1}else yn!==null&&(Jd(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?tt===0&&(tt=3):Np())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Is(),Hd(t,e),t===null&&aa(e.stateNode.containerInfo),_t(e),null;case 10:return yp(e.type._context),_t(e),null;case 17:return Bt(e.type)&&yu(),_t(e),null;case 19:if(ke(Me),s=e.memoizedState,s===null)return _t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Eo(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xu(t),o!==null){for(e.flags|=128,Eo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&We()>Rs&&(e.flags|=128,r=!0,Eo(s,!1),e.lanes=4194304)}else{if(!r)if(t=xu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Eo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return _t(e),null}else 2*We()-s.renderingStartTime>Rs&&n!==1073741824&&(e.flags|=128,r=!0,Eo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=We(),e.sibling=null,n=Me.current,xe(Me,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return bp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function AI(t,e){switch(fp(e),e.tag){case 1:return Bt(e.type)&&yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Is(),ke(Ut),ke(Ct),Tp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ep(e),null;case 13:if(ke(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Cs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Me),null;case 4:return Is(),null;case 10:return yp(e.type._context),null;case 22:case 23:return bp(),null;case 24:return null;default:return null}}var El=!1,Tt=!1,II=typeof WeakSet=="function"?WeakSet:Set,q=null;function os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function Wd(t,e,n){try{n()}catch(r){$e(t,e,r)}}var Ky=!1;function PI(t,e){if(Pd=fu,t=Fw(),hp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++h===r&&(u=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rd={focusedElem:t,selectionRange:n},fu=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var I=C.memoizedProps,R=C.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:mn(e.type,I),R);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){$e(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return C=Ky,Ky=!1,C}function Uo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wd(e,n,s)}i=i.next}while(i!==r)}}function cc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function M1(t){var e=t.alternate;e!==null&&(t.alternate=null,M1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[ua],delete e[Dd],delete e[cI],delete e[hI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function L1(t){return t.tag===5||t.tag===3||t.tag===4}function Gy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gu));else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}function Gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gd(t,e,n),t=t.sibling;t!==null;)Gd(t,e,n),t=t.sibling}var ht=null,gn=!1;function Er(t,e,n){for(n=n.child;n!==null;)O1(t,e,n),n=n.sibling}function O1(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(nc,n)}catch{}switch(n.tag){case 5:Tt||os(n,e);case 6:var r=ht,i=gn;ht=null,Er(t,e,n),ht=r,gn=i,ht!==null&&(gn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(gn?(t=ht,n=n.stateNode,t.nodeType===8?Eh(t.parentNode,n):t.nodeType===1&&Eh(t,n),ia(t)):Eh(ht,n.stateNode));break;case 4:r=ht,i=gn,ht=n.stateNode.containerInfo,gn=!0,Er(t,e,n),ht=r,gn=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wd(n,e,o),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!Tt&&(os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,Er(t,e,n),Tt=r):Er(t,e,n);break;default:Er(t,e,n)}}function Qy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new II),e.forEach(function(r){var i=OI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,gn=!1;break e;case 3:ht=a.stateNode.containerInfo,gn=!0;break e;case 4:ht=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(ht===null)throw Error(B(160));O1(s,o,i),ht=null,gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){$e(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j1(e,t),e=e.sibling}function j1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Pn(t),r&4){try{Uo(3,t,t.return),cc(3,t)}catch(I){$e(t,t.return,I)}try{Uo(5,t,t.return)}catch(I){$e(t,t.return,I)}}break;case 1:fn(e,t),Pn(t),r&512&&n!==null&&os(n,n.return);break;case 5:if(fn(e,t),Pn(t),r&512&&n!==null&&os(n,n.return),t.flags&32){var i=t.stateNode;try{ea(i,"")}catch(I){$e(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ow(i,s),vd(a,o);var c=vd(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?hw(i,f):h==="dangerouslySetInnerHTML"?uw(i,f):h==="children"?ea(i,f):Jf(i,h,f,c)}switch(a){case"input":fd(i,s);break;case"textarea":aw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?fs(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?fs(i,!!s.multiple,s.defaultValue,!0):fs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ua]=s}catch(I){$e(t,t.return,I)}}break;case 6:if(fn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){$e(t,t.return,I)}}break;case 3:if(fn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ia(e.containerInfo)}catch(I){$e(t,t.return,I)}break;case 4:fn(e,t),Pn(t);break;case 13:fn(e,t),Pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vp=We())),r&4&&Qy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(c=Tt)||h,fn(e,t),Tt=c):fn(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(f=q=h;q!==null;){switch(p=q,y=p.child,p.tag){case 0:case 11:case 14:case 15:Uo(4,p,p.return);break;case 1:os(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(I){$e(r,n,I)}}break;case 5:os(p,p.return);break;case 22:if(p.memoizedState!==null){Xy(f);continue}}y!==null?(y.return=p,q=y):Xy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=cw("display",o))}catch(I){$e(t,t.return,I)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){$e(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),Pn(t),r&4&&Qy(t);break;case 21:break;default:fn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(L1(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ea(i,""),r.flags&=-33);var s=Gy(t);Gd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Gy(t);Kd(t,a,o);break;default:throw Error(B(161))}}catch(u){$e(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RI(t,e,n){q=t,F1(t)}function F1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||El;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Tt;a=El;var c=Tt;if(El=o,(Tt=u)&&!c)for(q=i;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?Jy(i):u!==null?(u.return=o,q=u):Jy(i);for(;s!==null;)q=s,F1(s),s=s.sibling;q=i,El=a,Tt=c}Yy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Yy(t)}}function Yy(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||cc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ny(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ny(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&qd(e)}catch(p){$e(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Xy(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Jy(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cc(4,e)}catch(u){$e(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){$e(e,i,u)}}var s=e.return;try{qd(e)}catch(u){$e(e,s,u)}break;case 5:var o=e.return;try{qd(e)}catch(u){$e(e,o,u)}}}catch(u){$e(e,e.return,u)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var kI=Math.ceil,Iu=dr.ReactCurrentDispatcher,Rp=dr.ReactCurrentOwner,un=dr.ReactCurrentBatchConfig,fe=0,at=null,Ge=null,mt=0,Kt=0,as=ti(0),tt=0,ma=null,Vi=0,hc=0,kp=0,Bo=null,Lt=null,Vp=0,Rs=1/0,Gn=null,Pu=!1,Qd=null,Mr=null,Tl=!1,Pr=null,Ru=0,$o=0,Yd=null,Kl=-1,Gl=0;function kt(){return fe&6?We():Kl!==-1?Kl:Kl=We()}function Lr(t){return t.mode&1?fe&2&&mt!==0?mt&-mt:fI.transition!==null?(Gl===0&&(Gl=Sw()),Gl):(t=_e,t!==0||(t=window.event,t=t===void 0?16:kw(t.type)),t):1}function wn(t,e,n,r){if(50<$o)throw $o=0,Yd=null,Error(B(185));ba(t,n,r),(!(fe&2)||t!==at)&&(t===at&&(!(fe&2)&&(hc|=n),tt===4&&Ar(t,mt)),$t(t,r),n===1&&fe===0&&!(e.mode&1)&&(Rs=We()+500,ac&&ni()))}function $t(t,e){var n=t.callbackNode;fA(t,e);var r=du(t,t===at?mt:0);if(r===0)n!==null&&ay(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ay(n),e===1)t.tag===0?dI(Zy.bind(null,t)):Qw(Zy.bind(null,t)),lI(function(){!(fe&6)&&ni()}),n=null;else{switch(xw(r)){case 1:n=rp;break;case 4:n=Ew;break;case 16:n=hu;break;case 536870912:n=Tw;break;default:n=hu}n=K1(n,U1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U1(t,e){if(Kl=-1,Gl=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(vs()&&t.callbackNode!==n)return null;var r=du(t,t===at?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ku(t,r);else{e=r;var i=fe;fe|=2;var s=$1();(at!==t||mt!==e)&&(Gn=null,Rs=We()+500,xi(t,e));do try{bI();break}catch(a){B1(t,a)}while(!0);gp(),Iu.current=s,fe=i,Ge!==null?e=0:(at=null,mt=0,e=tt)}if(e!==0){if(e===2&&(i=Sd(t),i!==0&&(r=i,e=Xd(t,i))),e===1)throw n=ma,xi(t,0),Ar(t,r),$t(t,We()),n;if(e===6)Ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!VI(i)&&(e=ku(t,r),e===2&&(s=Sd(t),s!==0&&(r=s,e=Xd(t,s))),e===1))throw n=ma,xi(t,0),Ar(t,r),$t(t,We()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:pi(t,Lt,Gn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=Vp+500-We(),10<e)){if(du(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vd(pi.bind(null,t,Lt,Gn),e);break}pi(t,Lt,Gn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kI(r/1960))-r,10<r){t.timeoutHandle=Vd(pi.bind(null,t,Lt,Gn),r);break}pi(t,Lt,Gn);break;case 5:pi(t,Lt,Gn);break;default:throw Error(B(329))}}}return $t(t,We()),t.callbackNode===n?U1.bind(null,t):null}function Xd(t,e){var n=Bo;return t.current.memoizedState.isDehydrated&&(xi(t,e).flags|=256),t=ku(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Jd(e)),t}function Jd(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function VI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~kp,e&=~hc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function Zy(t){if(fe&6)throw Error(B(327));vs();var e=du(t,0);if(!(e&1))return $t(t,We()),null;var n=ku(t,e);if(t.tag!==0&&n===2){var r=Sd(t);r!==0&&(e=r,n=Xd(t,r))}if(n===1)throw n=ma,xi(t,0),Ar(t,e),$t(t,We()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Lt,Gn),$t(t,We()),null}function Dp(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Rs=We()+500,ac&&ni())}}function Di(t){Pr!==null&&Pr.tag===0&&!(fe&6)&&vs();var e=fe;fe|=1;var n=un.transition,r=_e;try{if(un.transition=null,_e=1,t)return t()}finally{_e=r,un.transition=n,fe=e,!(fe&6)&&ni()}}function bp(){Kt=as.current,ke(as)}function xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aI(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yu();break;case 3:Is(),ke(Ut),ke(Ct),Tp();break;case 5:Ep(r);break;case 4:Is();break;case 13:ke(Me);break;case 19:ke(Me);break;case 10:yp(r.type._context);break;case 22:case 23:bp()}n=n.return}if(at=t,Ge=t=Or(t.current,null),mt=Kt=e,tt=0,ma=null,kp=hc=Vi=0,Lt=Bo=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vi=null}return t}function B1(t,e){do{var n=Ge;try{if(gp(),Hl.current=Au,Cu){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cu=!1}if(ki=0,st=Ze=Oe=null,Fo=!1,da=0,Rp.current=null,n===null||n.return===null){tt=1,ma=e,Ge=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=mt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Uy(o);if(y!==null){y.flags&=-257,By(y,o,a,s,e),y.mode&1&&Fy(s,c,e),e=y,u=c;var C=e.updateQueue;if(C===null){var I=new Set;I.add(u),e.updateQueue=I}else C.add(u);break e}else{if(!(e&1)){Fy(s,c,e),Np();break e}u=Error(B(426))}}else if(Ve&&a.mode&1){var R=Uy(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),By(R,o,a,s,e),pp(Ps(u,a));break e}}s=u=Ps(u,a),tt!==4&&(tt=2),Bo===null?Bo=[s]:Bo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=x1(s,u,e);by(s,w);break e;case 1:a=u;var v=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Mr===null||!Mr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=C1(s,a,e);by(s,D);break e}}s=s.return}while(s!==null)}H1(n)}catch(M){e=M,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function $1(){var t=Iu.current;return Iu.current=Au,t===null?Au:t}function Np(){(tt===0||tt===3||tt===2)&&(tt=4),at===null||!(Vi&268435455)&&!(hc&268435455)||Ar(at,mt)}function ku(t,e){var n=fe;fe|=2;var r=$1();(at!==t||mt!==e)&&(Gn=null,xi(t,e));do try{DI();break}catch(i){B1(t,i)}while(!0);if(gp(),fe=n,Iu.current=r,Ge!==null)throw Error(B(261));return at=null,mt=0,tt}function DI(){for(;Ge!==null;)z1(Ge)}function bI(){for(;Ge!==null&&!iA();)z1(Ge)}function z1(t){var e=q1(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?H1(t):Ge=e,Rp.current=null}function H1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AI(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ge=null;return}}else if(n=CI(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);tt===0&&(tt=5)}function pi(t,e,n){var r=_e,i=un.transition;try{un.transition=null,_e=1,NI(t,e,n,r)}finally{un.transition=i,_e=r}return null}function NI(t,e,n,r){do vs();while(Pr!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pA(t,s),t===at&&(Ge=at=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tl||(Tl=!0,K1(hu,function(){return vs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=_e;_e=1;var a=fe;fe|=4,Rp.current=null,PI(t,n),j1(n,t),eI(Rd),fu=!!Pd,Rd=Pd=null,t.current=n,RI(n),sA(),fe=a,_e=o,un.transition=s}else t.current=n;if(Tl&&(Tl=!1,Pr=t,Ru=i),s=t.pendingLanes,s===0&&(Mr=null),lA(n.stateNode),$t(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pu)throw Pu=!1,t=Qd,Qd=null,t;return Ru&1&&t.tag!==0&&vs(),s=t.pendingLanes,s&1?t===Yd?$o++:($o=0,Yd=t):$o=0,ni(),null}function vs(){if(Pr!==null){var t=xw(Ru),e=un.transition,n=_e;try{if(un.transition=null,_e=16>t?16:t,Pr===null)var r=!1;else{if(t=Pr,Pr=null,Ru=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:Uo(8,h,s)}var f=h.child;if(f!==null)f.return=h,q=f;else for(;q!==null;){h=q;var p=h.sibling,y=h.return;if(M1(h),h===c){q=null;break}if(p!==null){p.return=y,q=p;break}q=y}}}var C=s.alternate;if(C!==null){var I=C.child;if(I!==null){C.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,q=w;break e}q=s.return}}var v=t.current;for(q=v;q!==null;){o=q;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,q=E;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cc(9,a)}}catch(M){$e(a,a.return,M)}if(a===o){q=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,q=D;break e}q=a.return}}if(fe=i,ni(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(nc,t)}catch{}r=!0}return r}finally{_e=n,un.transition=e}}return!1}function ev(t,e,n){e=Ps(n,e),e=x1(t,e,1),t=Nr(t,e,1),e=kt(),t!==null&&(ba(t,1,e),$t(t,e))}function $e(t,e,n){if(t.tag===3)ev(t,t,n);else for(;e!==null;){if(e.tag===3){ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mr===null||!Mr.has(r))){t=Ps(n,t),t=C1(e,t,1),e=Nr(e,t,1),t=kt(),e!==null&&(ba(e,1,t),$t(e,t));break}}e=e.return}}function MI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(mt&n)===n&&(tt===4||tt===3&&(mt&130023424)===mt&&500>We()-Vp?xi(t,0):kp|=n),$t(t,e)}function W1(t,e){e===0&&(t.mode&1?(e=dl,dl<<=1,!(dl&130023424)&&(dl=4194304)):e=1);var n=kt();t=rr(t,e),t!==null&&(ba(t,e,n),$t(t,n))}function LI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),W1(t,n)}function OI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),W1(t,n)}var q1;q1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,xI(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ve&&e.flags&1048576&&Yw(e,wu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ql(t,e),t=e.pendingProps;var i=xs(e,Ct.current);ys(e,n),i=xp(null,e,r,t,i,n);var s=Cp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(s=!0,vu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_p(e),i.updater=uc,e.stateNode=i,i._reactInternals=e,jd(e,r,t,n),e=Bd(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&dp(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ql(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FI(r),t=mn(r,t),i){case 0:e=Ud(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=$y(null,e,r,t,n);break e;case 14:e=zy(null,e,r,mn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Ud(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Hy(t,e,r,i,n);case 3:e:{if(R1(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,n1(t,e),Su(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ps(Error(B(423)),e),e=Wy(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(B(424)),e),e=Wy(t,e,r,n,i);break e}else for(Gt=br(e.stateNode.containerInfo.firstChild),Yt=e,Ve=!0,yn=null,n=e1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cs(),r===i){e=ir(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return r1(e),t===null&&Md(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kd(r,i)?o=null:s!==null&&kd(r,s)&&(e.flags|=32),P1(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Md(e),null;case 13:return k1(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),$y(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xe(Eu,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Ut.current){e=ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ld(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ld(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ys(e,n),i=hn(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),zy(t,e,r,i,n);case 15:return A1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),ql(t,e),e.tag=1,Bt(r)?(t=!0,vu(e)):t=!1,ys(e,n),S1(e,r,i),jd(e,r,i,n),Bd(null,e,r,!0,t,n);case 19:return V1(t,e,n);case 22:return I1(t,e,n)}throw Error(B(156,e.tag))};function K1(t,e){return ww(t,e)}function jI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new jI(t,e,n,r)}function Mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FI(t){if(typeof t=="function")return Mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ep)return 11;if(t===tp)return 14}return 2}function Or(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ql(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xi:return Ci(n.children,i,s,e);case Zf:o=8,i|=8;break;case ld:return t=an(12,n,e,i|2),t.elementType=ld,t.lanes=s,t;case ud:return t=an(13,n,e,i),t.elementType=ud,t.lanes=s,t;case cd:return t=an(19,n,e,i),t.elementType=cd,t.lanes=s,t;case rw:return dc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tw:o=10;break e;case nw:o=9;break e;case ep:o=11;break e;case tp:o=14;break e;case Sr:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=an(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ci(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function dc(t,e,n,r){return t=an(22,t,r,e),t.elementType=rw,t.lanes=n,t.stateNode={isHidden:!1},t}function Rh(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function kh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lp(t,e,n,r,i,s,o,a,u){return t=new UI(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(s),t}function BI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G1(t){if(!t)return Wr;t=t._reactInternals;e:{if(Oi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Bt(n))return Gw(t,n,e)}return e}function Q1(t,e,n,r,i,s,o,a,u){return t=Lp(n,r,!0,t,i,s,o,a,u),t.context=G1(null),n=t.current,r=kt(),i=Lr(n),s=Zn(r,i),s.callback=e??null,Nr(n,s,i),t.current.lanes=i,ba(t,i,r),$t(t,r),t}function fc(t,e,n,r){var i=e.current,s=kt(),o=Lr(i);return n=G1(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nr(i,e,o),t!==null&&(wn(t,i,o,s),zl(t,i,o)),o}function Vu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){tv(t,e),(t=t.alternate)&&tv(t,e)}function $I(){return null}var Y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function jp(t){this._internalRoot=t}pc.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));fc(t,e,null,null)};pc.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Di(function(){fc(null,t,null,null)}),e[nr]=null}};function pc(t){this._internalRoot=t}pc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Iw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cr.length&&e!==0&&e<Cr[n].priority;n++);Cr.splice(n,0,t),n===0&&Rw(t)}};function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nv(){}function zI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Vu(o);s.call(c)}}var o=Q1(e,r,t,0,null,!1,!1,"",nv);return t._reactRootContainer=o,t[nr]=o.current,aa(t.nodeType===8?t.parentNode:t),Di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Vu(u);a.call(c)}}var u=Lp(t,0,!1,null,null,!1,!1,"",nv);return t._reactRootContainer=u,t[nr]=u.current,aa(t.nodeType===8?t.parentNode:t),Di(function(){fc(e,u,n,r)}),u}function gc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Vu(o);a.call(u)}}fc(e,o,t,i)}else o=zI(n,e,t,i,r);return Vu(o)}Cw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Io(e.pendingLanes);n!==0&&(ip(e,n|1),$t(e,We()),!(fe&6)&&(Rs=We()+500,ni()))}break;case 13:Di(function(){var r=rr(t,1);if(r!==null){var i=kt();wn(r,t,1,i)}}),Op(t,1)}};sp=function(t){if(t.tag===13){var e=rr(t,134217728);if(e!==null){var n=kt();wn(e,t,134217728,n)}Op(t,134217728)}};Aw=function(t){if(t.tag===13){var e=Lr(t),n=rr(t,e);if(n!==null){var r=kt();wn(n,t,e,r)}Op(t,e)}};Iw=function(){return _e};Pw=function(t,e){var n=_e;try{return _e=t,e()}finally{_e=n}};wd=function(t,e,n){switch(e){case"input":if(fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oc(r);if(!i)throw Error(B(90));sw(r),fd(r,i)}}}break;case"textarea":aw(t,n);break;case"select":e=n.value,e!=null&&fs(t,!!n.multiple,e,!1)}};pw=Dp;mw=Di;var HI={usingClientEntryPoint:!1,Events:[Ma,ts,oc,dw,fw,Dp]},To={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WI={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||$I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{nc=Sl.inject(WI),bn=Sl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HI;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(e))throw Error(B(200));return BI(t,e,null,n)};Jt.createRoot=function(t,e){if(!Fp(t))throw Error(B(299));var n=!1,r="",i=Y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Lp(t,1,!1,null,null,n,!1,r,i),t[nr]=e.current,aa(t.nodeType===8?t.parentNode:t),new jp(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Di(t)};Jt.hydrate=function(t,e,n){if(!mc(e))throw Error(B(200));return gc(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Fp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Y1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q1(e,null,t,1,n??null,i,!1,s,o),t[nr]=e.current,aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pc(e)};Jt.render=function(t,e,n){if(!mc(e))throw Error(B(200));return gc(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!mc(t))throw Error(B(40));return t._reactRootContainer?(Di(function(){gc(null,null,t,!1,function(){t._reactRootContainer=null,t[nr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Dp;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return gc(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function X1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X1)}catch(t){console.error(t)}}X1(),X_.exports=Jt;var qI=X_.exports,rv=qI;od.createRoot=rv.createRoot,od.hydrateRoot=rv.hydrateRoot;/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iv="popstate";function KI(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ga(i)}return QI(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substring(2,10)}function sv(t,e){return{usr:t.state,key:t.key,idx:e}}function Zd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$s(e):e,state:n,key:e&&e.key||r||GI()}}function ga({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function QI(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=h(),w=R==null?null:R-c;c=R,u&&u({action:a,location:I.location,delta:w})}function p(R,w){a="PUSH";let v=Zd(I.location,R,w);c=h()+1;let E=sv(v,c),D=I.createHref(v);try{o.pushState(E,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}s&&u&&u({action:a,location:I.location,delta:1})}function y(R,w){a="REPLACE";let v=Zd(I.location,R,w);c=h();let E=sv(v,c),D=I.createHref(v);o.replaceState(E,"",D),s&&u&&u({action:a,location:I.location,delta:0})}function C(R){return YI(R)}let I={get action(){return a},get location(){return t(i,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iv,f),u=R,()=>{i.removeEventListener(iv,f),u=null}},createHref(R){return e(i,R)},createURL:C,encodeLocation(R){let w=C(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:y,go(R){return o.go(R)}};return I}function YI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),be(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ga(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function J1(t,e,n="/"){return XI(t,e,n,!1)}function XI(t,e,n,r){let i=typeof e=="string"?$s(e):e,s=sr(i.pathname||"/",n);if(s==null)return null;let o=Z1(t);JI(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=uP(s);a=aP(o[u],c,r)}return a}function Z1(t,e=[],n=[],r="",i=!1){let s=(o,a,u=i,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;be(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=er([r,h.relativePath]),p=n.concat(h);o.children&&o.children.length>0&&(be(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Z1(o.children,e,p,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:sP(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of eE(o.path))s(o,a,!0,c)}),e}function eE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function JI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZI=/^:[\w-]+$/,eP=3,tP=2,nP=1,rP=10,iP=-2,ov=t=>t==="*";function sP(t,e){let n=t.split("/"),r=n.length;return n.some(ov)&&(r+=iP),e&&(r+=tP),n.filter(i=>!ov(i)).reduce((i,s)=>i+(ZI.test(s)?eP:s===""?nP:rP),r)}function oP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aP(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Du({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Du({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:er([s,f.pathname]),pathnameBase:fP(er([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=er([s,f.pathnameBase]))}return o}function Du(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:f},p)=>{if(h==="*"){let C=a[p]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const y=a[p];return f&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function lP(t,e=!1,n=!0){Sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function sr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cP(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$s(t):t;return{pathname:n?n.startsWith("/")?n:hP(n,e):e,search:pP(r),hash:mP(i)}}function hP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Up(t){let e=dP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Bp(t,e,n,r=!1){let i;typeof t=="string"?i=$s(t):(i={...t},be(!i.pathname||!i.pathname.includes("?"),Vh("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Vh("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Vh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=cP(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var er=t=>t.join("/").replace(/\/\/+/g,"/"),fP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var yP=["GET",...tE];new Set(yP);var zs=A.createContext(null);zs.displayName="DataRouter";var yc=A.createContext(null);yc.displayName="DataRouterState";A.createContext(!1);var nE=A.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var vP=A.createContext(new Map);vP.displayName="Fetchers";var _P=A.createContext(null);_P.displayName="Await";var xn=A.createContext(null);xn.displayName="Navigation";var Oa=A.createContext(null);Oa.displayName="Location";var Hn=A.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var $p=A.createContext(null);$p.displayName="RouteError";function wP(t,{relative:e}={}){be(Hs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(xn),{hash:i,pathname:s,search:o}=ja(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:er([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Hs(){return A.useContext(Oa)!=null}function fr(){return be(Hs(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Oa).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(t){A.useContext(xn).static||A.useLayoutEffect(t)}function sE(){let{isDataRoute:t}=A.useContext(Hn);return t?bP():EP()}function EP(){be(Hs(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(zs),{basename:e,navigator:n}=A.useContext(xn),{matches:r}=A.useContext(Hn),{pathname:i}=fr(),s=JSON.stringify(Up(r)),o=A.useRef(!1);return iE(()=>{o.current=!0}),A.useCallback((u,c={})=>{if(Sn(o.current,rE),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Bp(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:er([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,s,i,t])}A.createContext(null);function ja(t,{relative:e}={}){let{matches:n}=A.useContext(Hn),{pathname:r}=fr(),i=JSON.stringify(Up(n));return A.useMemo(()=>Bp(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function TP(t,e){return oE(t,e)}function oE(t,e,n,r,i){var v;be(Hs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=A.useContext(xn),{matches:o}=A.useContext(Hn),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";aE(c,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=fr(),y;if(e){let E=typeof e=="string"?$s(e):e;be(h==="/"||((v=E.pathname)==null?void 0:v.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=p;let C=y.pathname||"/",I=C;if(h!=="/"){let E=h.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=J1(t,{pathname:I});Sn(f||R!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Sn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=IP(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:er([h,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:er([h,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&w?A.createElement(Oa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function SP(){let t=DP(),e=gP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:s},"ErrorBoundary")," or"," ",A.createElement("code",{style:s},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,o)}var xP=A.createElement(SP,null),CP=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(Hn.Provider,{value:this.props.routeContext},A.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AP({routeContext:t,match:e,children:n}){let r=A.useContext(zs);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Hn.Provider,{value:t},n)}function IP(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);be(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=n,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let p,y=!1,C=null,I=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,C=h.route.errorElement||xP,a&&(u<0&&f===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,I=null):u===f&&(y=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,f+1)),w=()=>{let v;return p?v=C:y?v=I:h.route.Component?v=A.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=c,A.createElement(AP,{match:h,routeContext:{outlet:c,matches:R,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(CP,{location:n.location,revalidation:n.revalidation,component:C,error:p,children:w(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):w()},null)}function zp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PP(t){let e=A.useContext(zs);return be(e,zp(t)),e}function RP(t){let e=A.useContext(yc);return be(e,zp(t)),e}function kP(t){let e=A.useContext(Hn);return be(e,zp(t)),e}function Hp(t){let e=kP(t),n=e.matches[e.matches.length-1];return be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function VP(){return Hp("useRouteId")}function DP(){var r;let t=A.useContext($p),e=RP("useRouteError"),n=Hp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function bP(){let{router:t}=PP("useNavigate"),e=Hp("useNavigate"),n=A.useRef(!1);return iE(()=>{n.current=!0}),A.useCallback(async(i,s={})=>{Sn(n.current,rE),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var av={};function aE(t,e,n){!e&&!av[t]&&(av[t]=!0,Sn(!1,n))}A.memo(NP);function NP({routes:t,future:e,state:n,unstable_onError:r}){return oE(t,void 0,n,r,e)}function MP({to:t,replace:e,state:n,relative:r}){be(Hs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(xn);Sn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=A.useContext(Hn),{pathname:o}=fr(),a=sE(),u=Bp(t,Up(s),o,r==="path"),c=JSON.stringify(u);return A.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function Ro(t){be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){be(!Hs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=$s(n));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=n,y=A.useMemo(()=>{let C=sr(u,o);return C==null?null:{location:{pathname:C,search:c,hash:h,state:f,key:p},navigationType:r}},[o,u,c,h,f,p,r]);return Sn(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:A.createElement(xn.Provider,{value:a},A.createElement(Oa.Provider,{children:e,value:y}))}function OP({children:t,location:e}){return TP(ef(t),e)}function ef(t,e=[]){let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,ef(r.props.children,s));return}be(r.type===Ro,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ef(r.props.children,s)),n.push(o)}),n}var Yl="get",Xl="application/x-www-form-urlencoded";function vc(t){return t!=null&&typeof t.tagName=="string"}function jP(t){return vc(t)&&t.tagName.toLowerCase()==="button"}function FP(t){return vc(t)&&t.tagName.toLowerCase()==="form"}function UP(t){return vc(t)&&t.tagName.toLowerCase()==="input"}function BP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $P(t,e){return t.button===0&&(!e||e==="_self")&&!BP(t)}var xl=null;function zP(){if(xl===null)try{new FormData(document.createElement("form"),0),xl=!1}catch{xl=!0}return xl}var HP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dh(t){return t!=null&&!HP.has(t)?(Sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xl}"`),null):t}function WP(t,e){let n,r,i,s,o;if(FP(t)){let a=t.getAttribute("action");r=a?sr(a,e):null,n=t.getAttribute("method")||Yl,i=Dh(t.getAttribute("enctype"))||Xl,s=new FormData(t)}else if(jP(t)||UP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?sr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Yl,i=Dh(t.getAttribute("formenctype"))||Dh(a.getAttribute("enctype"))||Xl,s=new FormData(a,t),!zP()){let{name:c,type:h,value:f}=t;if(h==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(vc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yl,r=null,i=Xl,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&sr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function KP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function QP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await KP(s,n);return o.links?o.links():[]}return[]}));return ZP(r.flat(1).filter(GP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lv(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function YP(t,e,{includeHydrateFallback:n}={}){return XP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function XP(t){return[...new Set(t)]}function JP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function ZP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(JP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function lE(){let t=A.useContext(zs);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eR(){let t=A.useContext(yc);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qp=A.createContext(void 0);qp.displayName="FrameworkContext";function uE(){let t=A.useContext(qp);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function tR(t,e){let n=A.useContext(qp),[r,i]=A.useState(!1),[s,o]=A.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:f}=e,p=A.useRef(null);A.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=w=>{w.forEach(v=>{o(v.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),A.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let y=()=>{i(!0)},C=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:So(a,y),onBlur:So(u,C),onMouseEnter:So(c,y),onMouseLeave:So(h,C),onTouchStart:So(f,y)}]:[!1,p,{}]}function So(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nR({page:t,...e}){let{router:n}=lE(),r=A.useMemo(()=>J1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(iR,{page:t,matches:r,...e}):null}function rR(t){let{manifest:e,routeModules:n}=uE(),[r,i]=A.useState([]);return A.useEffect(()=>{let s=!1;return QP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function iR({page:t,matches:e,...n}){let r=fr(),{manifest:i,routeModules:s}=uE(),{basename:o}=lE(),{loaderData:a,matches:u}=eR(),c=A.useMemo(()=>lv(t,e,u,i,r,"data"),[t,e,u,i,r]),h=A.useMemo(()=>lv(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(w=>{var E;let v=i.routes[w.route.id];!v||!v.hasLoader||(!c.some(D=>D.route.id===w.route.id)&&w.route.id in a&&((E=s[w.route.id])!=null&&E.shouldRevalidate)||v.hasClientLoader?I=!0:C.add(w.route.id))}),C.size===0)return[];let R=qP(t,o,"data");return I&&C.size>0&&R.searchParams.set("_routes",e.filter(w=>C.has(w.route.id)).map(w=>w.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,c,e,t,s]),p=A.useMemo(()=>YP(h,i),[h,i]),y=rR(h);return A.createElement(A.Fragment,null,f.map(C=>A.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),p.map(C=>A.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),y.map(({key:C,link:I})=>A.createElement("link",{key:C,nonce:n.nonce,...I})))}function sR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.9.5")}catch{}function oR({basename:t,children:e,window:n}){let r=A.useRef();r.current==null&&(r.current=KI({window:n,v5Compat:!0}));let i=r.current,[s,o]=A.useState({action:i.action,location:i.location}),a=A.useCallback(u=>{A.startTransition(()=>o(u))},[o]);return A.useLayoutEffect(()=>i.listen(a),[i,a]),A.createElement(LP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dE=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f,...p},y){let{basename:C}=A.useContext(xn),I=typeof c=="string"&&hE.test(c),R,w=!1;if(typeof c=="string"&&I&&(R=c,cE))try{let x=new URL(window.location.href),P=c.startsWith("//")?new URL(x.protocol+c):new URL(c),V=sr(P.pathname,C);P.origin===x.origin&&V!=null?c=V+P.search+P.hash:w=!0}catch{Sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=wP(c,{relative:i}),[E,D,M]=tR(r,p),O=cR(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function S(x){e&&e(x),x.defaultPrevented||O(x)}let _=A.createElement("a",{...p,...M,href:R||v,onClick:w||s?e:S,ref:sR(y,D),target:u,"data-discover":!I&&n==="render"?"true":void 0});return E&&!I?A.createElement(A.Fragment,null,_,A.createElement(nR,{page:v})):_});dE.displayName="Link";var aR=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let f=ja(o,{relative:c.relative}),p=fr(),y=A.useContext(yc),{navigator:C,basename:I}=A.useContext(xn),R=y!=null&&mR(f)&&a===!0,w=C.encodeLocation?C.encodeLocation(f).pathname:f.pathname,v=p.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,w=w.toLowerCase()),E&&I&&(E=sr(E,I)||E);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=v===w||!i&&v.startsWith(w)&&v.charAt(D)==="/",O=E!=null&&(E===w||!i&&E.startsWith(w)&&E.charAt(w.length)==="/"),S={isActive:M,isPending:O,isTransitioning:R},_=M?e:void 0,x;typeof r=="function"?x=r(S):x=[r,M?"active":null,O?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let P=typeof s=="function"?s(S):s;return A.createElement(dE,{...c,"aria-current":_,className:x,ref:h,style:P,to:o,viewTransition:a},typeof u=="function"?u(S):u)});aR.displayName="NavLink";var lR=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Yl,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:f,...p},y)=>{let C=fR(),I=pR(a,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&hE.test(a),v=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let D=E.nativeEvent.submitter,M=(D==null?void 0:D.getAttribute("formmethod"))||o;C(D||E.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:s,relative:c,preventScrollReset:h,viewTransition:f})};return A.createElement("form",{ref:y,method:R,action:I,onSubmit:r?u:v,...p,"data-discover":!w&&t==="render"?"true":void 0})});lR.displayName="Form";function uR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(t){let e=A.useContext(zs);return be(e,uR(t)),e}function cR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=sE(),u=fr(),c=ja(t,{relative:s});return A.useCallback(h=>{if($P(h,e)){h.preventDefault();let f=n!==void 0?n:ga(u)===ga(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,e,t,i,s,o])}var hR=0,dR=()=>`__${String(++hR)}__`;function fR(){let{router:t}=fE("useSubmit"),{basename:e}=A.useContext(xn),n=VP();return A.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=WP(r,e);if(i.navigate===!1){let h=i.fetcherKey||dR();await t.fetch(h,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pR(t,{relative:e}={}){let{basename:n}=A.useContext(xn),r=A.useContext(Hn);be(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...ja(t||".",{relative:e})},o=fr();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let h=a.toString();s.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:er([n,s.pathname])),ga(s)}function mR(t,{relative:e}={}){let n=A.useContext(nE);be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fE("useViewTransitionState"),i=ja(t,{relative:e});if(!n.isTransitioning)return!1;let s=sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Du(i.pathname,o)!=null||Du(i.pathname,s)!=null}const Kp=A.createContext({});function Gp(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qp=typeof window<"u",pE=Qp?A.useLayoutEffect:A.useEffect,_c=A.createContext(null);function Yp(t,e){t.indexOf(e)===-1&&t.push(e)}function Xp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const or=(t,e,n)=>n>e?e:n<t?t:n;let Jp=()=>{};const ar={},mE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gE(t){return typeof t=="object"&&t!==null}const yE=t=>/^0[^.\s]+$/u.test(t);function Zp(t){let e;return()=>(e===void 0&&(e=t()),e)}const cn=t=>t,gR=(t,e)=>n=>e(t(n)),Fa=(...t)=>t.reduce(gR),ya=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class em{constructor(){this.subscriptions=[]}add(e){return Yp(this.subscriptions,e),()=>Xp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mn=t=>t*1e3,ln=t=>t/1e3;function vE(t,e){return e?t*(1e3/e):0}const _E=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yR=1e-7,vR=12;function _R(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=_E(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>yR&&++a<vR);return o}function Ua(t,e,n,r){if(t===e&&n===r)return cn;const i=s=>_R(s,0,1,t,n);return s=>s===0||s===1?s:_E(i(s),e,r)}const wE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,EE=t=>e=>1-t(1-e),TE=Ua(.33,1.53,.69,.99),tm=EE(TE),SE=wE(tm),xE=t=>(t*=2)<1?.5*tm(t):.5*(2-Math.pow(2,-10*(t-1))),nm=t=>1-Math.sin(Math.acos(t)),CE=EE(nm),AE=wE(nm),wR=Ua(.42,0,1,1),ER=Ua(0,0,.58,1),IE=Ua(.42,0,.58,1),TR=t=>Array.isArray(t)&&typeof t[0]!="number",PE=t=>Array.isArray(t)&&typeof t[0]=="number",SR={linear:cn,easeIn:wR,easeInOut:IE,easeOut:ER,circIn:nm,circInOut:AE,circOut:CE,backIn:tm,backInOut:SE,backOut:TE,anticipate:xE},xR=t=>typeof t=="string",uv=t=>{if(PE(t)){Jp(t.length===4);const[e,n,r,i]=t;return Ua(e,n,r,i)}else if(xR(t))return SR[t];return t},Cl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function CR(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function u(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,f=!1,p=!1)=>{const C=p&&i?n:r;return f&&o.add(h),C.has(h)||C.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const AR=40;function RE(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Cl.reduce((E,D)=>(E[D]=CR(s),E),{}),{setup:a,read:u,resolveKeyframes:c,preUpdate:h,update:f,preRender:p,render:y,postRender:C}=o,I=()=>{const E=ar.useManualTiming?i.timestamp:performance.now();n=!1,ar.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(E-i.timestamp,AR),1)),i.timestamp=E,i.isProcessing=!0,a.process(i),u.process(i),c.process(i),h.process(i),f.process(i),p.process(i),y.process(i),C.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(I))},R=()=>{n=!0,r=!0,i.isProcessing||t(I)};return{schedule:Cl.reduce((E,D)=>{const M=o[D];return E[D]=(O,S=!1,_=!1)=>(n||R(),M.schedule(O,S,_)),E},{}),cancel:E=>{for(let D=0;D<Cl.length;D++)o[Cl[D]].cancel(E)},state:i,steps:o}}const{schedule:De,cancel:qr,state:dt,steps:bh}=RE(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0);let Jl;function IR(){Jl=void 0}const Ft={now:()=>(Jl===void 0&&Ft.set(dt.isProcessing||ar.useManualTiming?dt.timestamp:performance.now()),Jl),set:t=>{Jl=t,queueMicrotask(IR)}},kE=t=>e=>typeof e=="string"&&e.startsWith(t),rm=kE("--"),PR=kE("var(--"),im=t=>PR(t)?RR.test(t.split("/*")[0].trim()):!1,RR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ws={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},va={...Ws,transform:t=>or(0,1,t)},Al={...Ws,default:1},zo=t=>Math.round(t*1e5)/1e5,sm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kR(t){return t==null}const VR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,om=(t,e)=>n=>!!(typeof n=="string"&&VR.test(n)&&n.startsWith(t)||e&&!kR(n)&&Object.prototype.hasOwnProperty.call(n,e)),VE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(sm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},DR=t=>or(0,255,t),Nh={...Ws,transform:t=>Math.round(DR(t))},wi={test:om("rgb","red"),parse:VE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Nh.transform(t)+", "+Nh.transform(e)+", "+Nh.transform(n)+", "+zo(va.transform(r))+")"};function bR(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tf={test:om("#"),parse:bR,transform:wi.transform},Ba=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tr=Ba("deg"),Ln=Ba("%"),Z=Ba("px"),NR=Ba("vh"),MR=Ba("vw"),cv={...Ln,parse:t=>Ln.parse(t)/100,transform:t=>Ln.transform(t*100)},ls={test:om("hsl","hue"),parse:VE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ln.transform(zo(e))+", "+Ln.transform(zo(n))+", "+zo(va.transform(r))+")"},Ke={test:t=>wi.test(t)||tf.test(t)||ls.test(t),parse:t=>wi.test(t)?wi.parse(t):ls.test(t)?ls.parse(t):tf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wi.transform(t):ls.transform(t),getAnimatableNone:t=>{const e=Ke.parse(t);return e.alpha=0,Ke.transform(e)}},LR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function OR(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sm))==null?void 0:e.length)||0)+(((n=t.match(LR))==null?void 0:n.length)||0)>0}const DE="number",bE="color",jR="var",FR="var(",hv="${}",UR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _a(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(UR,u=>(Ke.test(u)?(r.color.push(s),i.push(bE),n.push(Ke.parse(u))):u.startsWith(FR)?(r.var.push(s),i.push(jR),n.push(u)):(r.number.push(s),i.push(DE),n.push(parseFloat(u))),++s,hv)).split(hv);return{values:n,split:a,indexes:r,types:i}}function NE(t){return _a(t).values}function ME(t){const{split:e,types:n}=_a(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===DE?s+=zo(i[o]):a===bE?s+=Ke.transform(i[o]):s+=i[o]}return s}}const BR=t=>typeof t=="number"?0:Ke.test(t)?Ke.getAnimatableNone(t):t;function $R(t){const e=NE(t);return ME(t)(e.map(BR))}const Kr={test:OR,parse:NE,createTransformer:ME,getAnimatableNone:$R};function Mh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function zR({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=Mh(u,a,t+1/3),s=Mh(u,a,t),o=Mh(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function bu(t,e){return n=>n>0?e:t}const Le=(t,e,n)=>t+(e-t)*n,Lh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},HR=[tf,wi,ls],WR=t=>HR.find(e=>e.test(t));function dv(t){const e=WR(t);if(!e)return!1;let n=e.parse(t);return e===ls&&(n=zR(n)),n}const fv=(t,e)=>{const n=dv(t),r=dv(e);if(!n||!r)return bu(t,e);const i={...n};return s=>(i.red=Lh(n.red,r.red,s),i.green=Lh(n.green,r.green,s),i.blue=Lh(n.blue,r.blue,s),i.alpha=Le(n.alpha,r.alpha,s),wi.transform(i))},nf=new Set(["none","hidden"]);function qR(t,e){return nf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function KR(t,e){return n=>Le(t,e,n)}function am(t){return typeof t=="number"?KR:typeof t=="string"?im(t)?bu:Ke.test(t)?fv:YR:Array.isArray(t)?LE:typeof t=="object"?Ke.test(t)?fv:GR:bu}function LE(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>am(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function GR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=am(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function QR(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const YR=(t,e)=>{const n=Kr.createTransformer(e),r=_a(t),i=_a(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?nf.has(t)&&!i.values.length||nf.has(e)&&!r.values.length?qR(t,e):Fa(LE(QR(r,i),i.values),n):bu(t,e)};function OE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Le(t,e,n):am(t)(t,e)}const XR=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>De.update(e,n),stop:()=>qr(e),now:()=>dt.isProcessing?dt.timestamp:Ft.now()}},jE=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nu=2e4;function lm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Nu;)e+=n,r=t.next(e);return e>=Nu?1/0:e}function JR(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(lm(r),Nu);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ln(i)}}const ZR=5;function FE(t,e,n){const r=Math.max(e-ZR,0);return vE(n-t(r),e-r)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oh=.001;function ek({duration:t=Be.duration,bounce:e=Be.bounce,velocity:n=Be.velocity,mass:r=Be.mass}){let i,s,o=1-e;o=or(Be.minDamping,Be.maxDamping,o),t=or(Be.minDuration,Be.maxDuration,ln(t)),o<1?(i=c=>{const h=c*o,f=h*t,p=h-n,y=rf(c,o),C=Math.exp(-f);return Oh-p/y*C},s=c=>{const f=c*o*t,p=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,C=Math.exp(-f),I=rf(Math.pow(c,2),o);return(-i(c)+Oh>0?-1:1)*((p-y)*C)/I}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Oh+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,u=nk(i,s,a);if(t=Mn(t),isNaN(u))return{stiffness:Be.stiffness,damping:Be.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const tk=12;function nk(t,e,n){let r=n;for(let i=1;i<tk;i++)r=r-t(r)/e(r);return r}function rf(t,e){return t*Math.sqrt(1-e*e)}const rk=["duration","bounce"],ik=["stiffness","damping","mass"];function pv(t,e){return e.some(n=>t[n]!==void 0)}function sk(t){let e={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...t};if(!pv(t,ik)&&pv(t,rk))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*or(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Be.mass,stiffness:i,damping:s}}else{const n=ek(t);e={...e,...n,mass:Be.mass},e.isResolvedFromDuration=!0}return e}function Mu(t=Be.visualDuration,e=Be.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:u,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:y}=sk({...n,velocity:-ln(n.velocity||0)}),C=p||0,I=c/(2*Math.sqrt(u*h)),R=o-s,w=ln(Math.sqrt(u/h)),v=Math.abs(R)<5;r||(r=v?Be.restSpeed.granular:Be.restSpeed.default),i||(i=v?Be.restDelta.granular:Be.restDelta.default);let E;if(I<1){const M=rf(w,I);E=O=>{const S=Math.exp(-I*w*O);return o-S*((C+I*w*R)/M*Math.sin(M*O)+R*Math.cos(M*O))}}else if(I===1)E=M=>o-Math.exp(-w*M)*(R+(C+w*R)*M);else{const M=w*Math.sqrt(I*I-1);E=O=>{const S=Math.exp(-I*w*O),_=Math.min(M*O,300);return o-S*((C+I*w*R)*Math.sinh(_)+M*R*Math.cosh(_))/M}}const D={calculatedDuration:y&&f||null,next:M=>{const O=E(M);if(y)a.done=M>=f;else{let S=M===0?C:0;I<1&&(S=M===0?Mn(C):FE(E,M,O));const _=Math.abs(S)<=r,x=Math.abs(o-O)<=i;a.done=_&&x}return a.value=a.done?o:O,a},toString:()=>{const M=Math.min(lm(D),Nu),O=jE(S=>D.next(M*S).value,M,30);return M+"ms "+O},toTransition:()=>{}};return D}Mu.applyToOptions=t=>{const e=JR(t,100,Mu);return t.ease=e.ease,t.duration=Mn(e.duration),t.type="keyframes",t};function sf({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},y=_=>a!==void 0&&_<a||u!==void 0&&_>u,C=_=>a===void 0?u:u===void 0||Math.abs(a-_)<Math.abs(u-_)?a:u;let I=n*e;const R=f+I,w=o===void 0?R:o(R);w!==R&&(I=w-f);const v=_=>-I*Math.exp(-_/r),E=_=>w+v(_),D=_=>{const x=v(_),P=E(_);p.done=Math.abs(x)<=c,p.value=p.done?w:P};let M,O;const S=_=>{y(p.value)&&(M=_,O=Mu({keyframes:[p.value,C(p.value)],velocity:FE(E,_,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return S(0),{calculatedDuration:null,next:_=>{let x=!1;return!O&&M===void 0&&(x=!0,D(_),S(_)),M!==void 0&&_>=M?O.next(_-M):(!x&&D(_),p)}}}function ok(t,e,n){const r=[],i=n||ar.mix||OE,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||cn:e;a=Fa(u,a)}r.push(a)}return r}function ak(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Jp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=ok(e,r,i),u=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=ya(t[f],t[f+1],h);return a[f](p)};return n?h=>c(or(t[0],t[s-1],h)):c}function lk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ya(0,e,r);t.push(Le(n,1,i))}}function uk(t){const e=[0];return lk(e,t.length-1),e}function ck(t,e){return t.map(n=>n*e)}function hk(t,e){return t.map(()=>e||IE).splice(0,t.length-1)}function Ho({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TR(r)?r.map(uv):uv(r),s={done:!1,value:e[0]},o=ck(n&&n.length===e.length?n:uk(e),t),a=ak(o,e,{ease:Array.isArray(i)?i:hk(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}const dk=t=>t!==null;function um(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(dk),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const fk={decay:sf,inertia:sf,tween:Ho,keyframes:Ho,spring:Mu};function UE(t){typeof t.type=="string"&&(t.type=fk[t.type])}class cm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pk=t=>t/100;class hm extends cm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;UE(e);const{type:n=Ho,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const u=n||Ho;u!==Ho&&typeof a[0]!="number"&&(this.mixKeyframes=Fa(pk,OE(a[0],a[1])),a=[0,100]);const c=u({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=lm(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:y,type:C,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let E=this.currentTime,D=r;if(f){const _=Math.min(this.currentTime,i)/a;let x=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&x--,x=Math.min(x,f+1),!!(x%2)&&(p==="reverse"?(P=1-P,y&&(P-=y/a)):p==="mirror"&&(D=o)),E=or(0,1,P)*a}const M=v?{done:!1,value:h[0]}:D.next(E);s&&(M.value=s(M.value));let{done:O}=M;!v&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return S&&C!==sf&&(M.value=um(h,this.options,R,this.speed)),I&&I(M.value),S&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return ln(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(this.currentTime)}set time(e){var n;e=Mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ln(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=XR,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function mk(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ei=t=>t*180/Math.PI,of=t=>{const e=Ei(Math.atan2(t[1],t[0]));return af(e)},gk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:of,rotateZ:of,skewX:t=>Ei(Math.atan(t[1])),skewY:t=>Ei(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},af=t=>(t=t%360,t<0&&(t+=360),t),mv=of,gv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gv,scaleY:yv,scale:t=>(gv(t)+yv(t))/2,rotateX:t=>af(Ei(Math.atan2(t[6],t[5]))),rotateY:t=>af(Ei(Math.atan2(-t[2],t[0]))),rotateZ:mv,rotate:mv,skewX:t=>Ei(Math.atan(t[4])),skewY:t=>Ei(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lf(t){return t.includes("scale")?1:0}function uf(t,e){if(!t||t==="none")return lf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=yk,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gk,i=a}if(!i)return lf(e);const s=r[e],o=i[1].split(",").map(_k);return typeof s=="function"?s(o):o[s]}const vk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uf(n,e)};function _k(t){return parseFloat(t.trim())}const qs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(qs),vv=t=>t===Ws||t===Z,wk=new Set(["x","y","z"]),Ek=qs.filter(t=>!wk.has(t));function Tk(t){const e=[];return Ek.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ai={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uf(e,"x"),y:(t,{transform:e})=>uf(e,"y")};Ai.translateX=Ai.x;Ai.translateY=Ai.y;const Ii=new Set;let cf=!1,hf=!1,df=!1;function BE(){if(hf){const t=Array.from(Ii).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Tk(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hf=!1,cf=!1,Ii.forEach(t=>t.complete(df)),Ii.clear()}function $E(){Ii.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hf=!0)})}function Sk(){df=!0,$E(),BE(),df=!1}class dm{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ii.add(this),cf||(cf=!0,De.read($E),De.resolveKeyframes(BE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}mk(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ii.delete(this)}cancel(){this.state==="scheduled"&&(Ii.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xk=t=>t.startsWith("--");function Ck(t,e,n){xk(e)?t.style.setProperty(e,n):t.style[e]=n}const Ak=Zp(()=>window.ScrollTimeline!==void 0),Ik={};function Pk(t,e){const n=Zp(t);return()=>Ik[e]??n()}const zE=Pk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ko=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_v={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ko([0,.65,.55,1]),circOut:ko([.55,0,1,.45]),backIn:ko([.31,.01,.66,-.59]),backOut:ko([.33,1.53,.69,.99])};function HE(t,e){if(t)return typeof t=="function"?zE()?jE(t,e):"ease-out":PE(t)?ko(t):Array.isArray(t)?t.map(n=>HE(n,e)||_v.easeOut):_v[t]}function Rk(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:u}={},c=void 0){const h={[e]:n};u&&(h.offset=u);const f=HE(a,i);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(h,p)}function WE(t){return typeof t=="function"&&"applyToOptions"in t}function kk({type:t,...e}){return WE(t)&&zE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Vk extends cm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Jp(typeof e.type!="string");const c=kk(e);this.animation=Rk(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=um(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):Ck(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ln(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ln(e)}get time(){return ln(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ak()?(this.animation.timeline=e,cn):n(this)}}const qE={anticipate:xE,backInOut:SE,circInOut:AE};function Dk(t){return t in qE}function bk(t){typeof t.ease=="string"&&Dk(t.ease)&&(t.ease=qE[t.ease])}const wv=10;class Nk extends Vk{constructor(e){bk(e),UE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new hm({...o,autoplay:!1}),u=Mn(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-wv).value,a.sample(u).value,wv),a.stop()}}const Ev=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Kr.test(t)||t==="0")&&!t.startsWith("url("));function Mk(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Lk(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ev(i,e),a=Ev(s,e);return!o||!a?!1:Mk(t)||(n==="spring"||WE(n))&&r}function ff(t){t.duration=0,t.type="keyframes"}const Ok=new Set(["opacity","clipPath","filter","transform"]),jk=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fk(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=e.owner.getProps();return jk()&&n&&Ok.has(n)&&(n!=="transform"||!c)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const Uk=40;class Bk extends cm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:u,motionValue:c,element:h,...f}){var C;super(),this.stop=()=>{var I,R;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Ft.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:c,element:h,...f},y=(h==null?void 0:h.KeyframeResolver)||dm;this.keyframeResolver=new y(a,(I,R,w)=>this.onKeyframesResolved(I,R,p,!w),u,c,h),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:u,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Ft.now(),Lk(e,s,o,a)||((ar.instantAnimations||!u)&&(h==null||h(um(e,r,n))),e[0]=e[e.length-1],ff(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Uk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&Fk(p)?new Nk({...p,element:p.motionValue.owner.current}):new hm(p);y.finished.then(()=>this.notifyFinished()).catch(cn),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Sk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const $k=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zk(t){const e=$k.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function KE(t,e,n=1){const[r,i]=zk(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return mE(o)?parseFloat(o):o}return im(i)?KE(i,e,n+1):i}function fm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const GE=new Set(["width","height","top","left","right","bottom",...qs]),Hk={test:t=>t==="auto",parse:t=>t},QE=t=>e=>e.test(t),YE=[Ws,Z,Ln,Tr,MR,NR,Hk],Tv=t=>YE.find(QE(t));function Wk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yE(t):!0}const qk=new Set(["brightness","contrast","saturate","opacity"]);function Kk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sm)||[];if(!r)return t;const i=n.replace(r,"");let s=qk.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Gk=/\b([a-z-]*)\(.*?\)/gu,pf={...Kr,getAnimatableNone:t=>{const e=t.match(Gk);return e?e.map(Kk).join(" "):t}},Sv={...Ws,transform:Math.round},Qk={rotate:Tr,rotateX:Tr,rotateY:Tr,rotateZ:Tr,scale:Al,scaleX:Al,scaleY:Al,scaleZ:Al,skew:Tr,skewX:Tr,skewY:Tr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:va,originX:cv,originY:cv,originZ:Z},pm={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,backgroundPositionX:Z,backgroundPositionY:Z,...Qk,zIndex:Sv,fillOpacity:va,strokeOpacity:va,numOctaves:Sv},Yk={...pm,color:Ke,backgroundColor:Ke,outlineColor:Ke,fill:Ke,stroke:Ke,borderColor:Ke,borderTopColor:Ke,borderRightColor:Ke,borderBottomColor:Ke,borderLeftColor:Ke,filter:pf,WebkitFilter:pf},XE=t=>Yk[t];function JE(t,e){let n=XE(t);return n!==pf&&(n=Kr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Xk=new Set(["auto","none","0"]);function Jk(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Xk.has(s)&&_a(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=JE(n,i)}class Zk extends dm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),im(c))){const h=KE(c,n.current);h!==void 0&&(e[u]=h),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!GE.has(r)||e.length!==2)return;const[i,s]=e,o=Tv(i),a=Tv(s);if(o!==a)if(vv(o)&&vv(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else Ai[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Wk(e[i]))&&r.push(i);r.length&&Jk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ai[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=Ai[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function e2(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const ZE=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function eT(t){return gE(t)&&"offsetHeight"in t}const xv=30,t2=t=>!isNaN(parseFloat(t));class n2{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Ft.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=t2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new em);const r=this.events[e].add(n);return e==="change"?()=>{r(),De.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xv);return vE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ks(t,e){return new n2(t,e)}const{schedule:mm}=RE(queueMicrotask,!1),pn={x:!1,y:!1};function tT(){return pn.x||pn.y}function r2(t){return t==="x"||t==="y"?pn[t]?null:(pn[t]=!0,()=>{pn[t]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}function nT(t,e){const n=e2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Cv(t){return!(t.pointerType==="touch"||tT())}function i2(t,e,n={}){const[r,i,s]=nT(t,n),o=a=>{if(!Cv(a))return;const{target:u}=a,c=e(u,a);if(typeof c!="function"||!u)return;const h=f=>{Cv(f)&&(c(f),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const rT=(t,e)=>e?t===e?!0:rT(t,e.parentElement):!1,gm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,s2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function o2(t){return s2.has(t.tagName)||t.tabIndex!==-1}const Zl=new WeakSet;function Av(t){return e=>{e.key==="Enter"&&t(e)}}function jh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const a2=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Av(()=>{if(Zl.has(n))return;jh(n,"down");const i=Av(()=>{jh(n,"up")}),s=()=>jh(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Iv(t){return gm(t)&&!tT()}function l2(t,e,n={}){const[r,i,s]=nT(t,n),o=a=>{const u=a.currentTarget;if(!Iv(a))return;Zl.add(u);const c=e(u,a),h=(y,C)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),Zl.has(u)&&Zl.delete(u),Iv(y)&&typeof c=="function"&&c(y,{success:C})},f=y=>{h(y,u===window||u===document||n.useGlobalTarget||rT(u,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),eT(a)&&(a.addEventListener("focus",c=>a2(c,i)),!o2(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function iT(t){return gE(t)&&"ownerSVGElement"in t}function u2(t){return iT(t)&&t.tagName==="svg"}const xt=t=>!!(t&&t.getVelocity),c2=[...YE,Ke,Kr],h2=t=>c2.find(QE(t)),ym=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Pv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d2(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Pv(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Pv(t[i],null)}}}}function f2(...t){return A.useCallback(d2(...t),t)}class p2 extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=eT(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m2({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),s=A.useRef(null),o=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(ym),u=f2(s,t==null?void 0:t.ref);return A.useInsertionEffect(()=>{const{width:c,height:h,top:f,left:p,right:y}=o.current;if(e||!s.current||!c||!h)return;const C=n==="left"?`left: ${p}`:`right: ${y}`;s.current.dataset.motionPopId=i;const I=document.createElement("style");a&&(I.nonce=a);const R=r??document.head;return R.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${C}px !important;
            top: ${f}px !important;
          }
        `),()=>{R.contains(I)&&R.removeChild(I)}},[e]),g.jsx(p2,{isPresent:e,childRef:s,sizeRef:o,children:A.cloneElement(t,{ref:u})})}const g2=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:u})=>{const c=Gp(y2),h=A.useId();let f=!0,p=A.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:y=>{c.set(y,!0);for(const C of c.values())if(!C)return;r&&r()},register:y=>(c.set(y,!1),()=>c.delete(y))}),[n,c,r]);return s&&f&&(p={...p}),A.useMemo(()=>{c.forEach((y,C)=>c.set(C,!1))},[n]),A.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(m2,{isPresent:n,anchorX:a,root:u,children:t})),g.jsx(_c.Provider,{value:p,children:t})};function y2(){return new Map}function sT(t=!0){const e=A.useContext(_c);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const o=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Il=t=>t.key||"";function Rv(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const oT=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:u})=>{const[c,h]=sT(o),f=A.useMemo(()=>Rv(t),[t]),p=o&&!c?[]:f.map(Il),y=A.useRef(!0),C=A.useRef(f),I=Gp(()=>new Map),[R,w]=A.useState(f),[v,E]=A.useState(f);pE(()=>{y.current=!1,C.current=f;for(let O=0;O<v.length;O++){const S=Il(v[O]);p.includes(S)?I.delete(S):I.get(S)!==!0&&I.set(S,!1)}},[v,p.length,p.join("-")]);const D=[];if(f!==R){let O=[...f];for(let S=0;S<v.length;S++){const _=v[S],x=Il(_);p.includes(x)||(O.splice(S,0,_),D.push(_))}return s==="wait"&&D.length&&(O=D),E(Rv(O)),w(f),null}const{forceRender:M}=A.useContext(Kp);return g.jsx(g.Fragment,{children:v.map(O=>{const S=Il(O),_=o&&!c?!1:f===v||p.includes(S),x=()=>{if(I.has(S))I.set(S,!0);else return;let P=!0;I.forEach(V=>{V||(P=!1)}),P&&(M==null||M(),E(C.current),o&&(h==null||h()),r&&r())};return g.jsx(g2,{isPresent:_,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:_?void 0:x,anchorX:a,children:O},S)})})},aT=A.createContext({strict:!1}),kv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const t in kv)Vs[t]={isEnabled:e=>kv[t].some(n=>!!e[n])};function v2(t){for(const e in t)Vs[e]={...Vs[e],...t[e]}}const _2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_2.has(t)}let lT=t=>!Lu(t);function w2(t){typeof t=="function"&&(lT=e=>e.startsWith("on")?!Lu(e):t(e))}try{w2(require("@emotion/is-prop-valid").default)}catch{}function E2(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lT(i)||n===!0&&Lu(i)||!e&&!Lu(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const wc=A.createContext({});function Ec(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function wa(t){return typeof t=="string"||Array.isArray(t)}const vm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_m=["initial",...vm];function Tc(t){return Ec(t.animate)||_m.some(e=>wa(t[e]))}function uT(t){return!!(Tc(t)||t.variants)}function T2(t,e){if(Tc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wa(n)?n:void 0,animate:wa(r)?r:void 0}}return t.inherit!==!1?e:{}}function S2(t){const{initial:e,animate:n}=T2(t,A.useContext(wc));return A.useMemo(()=>({initial:e,animate:n}),[Vv(e),Vv(n)])}function Vv(t){return Array.isArray(t)?t.join(" "):t}const Ea={};function x2(t){for(const e in t)Ea[e]=t[e],rm(e)&&(Ea[e].isCSSVariable=!0)}function cT(t,{layout:e,layoutId:n}){return Ks.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ea[t]||t==="opacity")}const C2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A2=qs.length;function I2(t,e,n){let r="",i=!0;for(let s=0;s<A2;s++){const o=qs[s],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=ZE(a,pm[o]);if(!u){i=!1;const h=C2[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function wm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(Ks.has(u)){o=!0;continue}else if(rm(u)){i[u]=c;continue}else{const h=ZE(c,pm[u]);u.startsWith("origin")?(a=!0,s[u]=h):r[u]=h}}if(e.transform||(o||n?r.transform=I2(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${c} ${h}`}}const Em=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hT(t,e,n){for(const r in e)!xt(e[r])&&!cT(r,n)&&(t[r]=e[r])}function P2({transformTemplate:t},e){return A.useMemo(()=>{const n=Em();return wm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function R2(t,e){const n=t.style||{},r={};return hT(r,n,t),Object.assign(r,P2(t,e)),r}function k2(t,e){const n={},r=R2(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const V2={offset:"stroke-dashoffset",array:"stroke-dasharray"},D2={offset:"strokeDashoffset",array:"strokeDasharray"};function b2(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?V2:D2;t[s.offset]=Z.transform(-r);const o=Z.transform(e),a=Z.transform(n);t[s.array]=`${o} ${a}`}function dT(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},u,c,h){if(wm(t,a,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&b2(f,i,s,o,!1)}const fT=()=>({...Em(),attrs:{}}),pT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N2(t,e,n,r){const i=A.useMemo(()=>{const s=fT();return dT(s,e,pT(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};hT(s,t.style,t),i.style={...s,...i.style}}return i}const M2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tm(t){return typeof t!="string"||t.includes("-")?!1:!!(M2.indexOf(t)>-1||/[A-Z]/u.test(t))}function L2(t,e,n,{latestValues:r},i,s=!1){const a=(Tm(t)?N2:k2)(e,r,i,t),u=E2(e,typeof t=="string",s),c=t!==A.Fragment?{...u,...a,ref:n}:{},{children:h}=e,f=A.useMemo(()=>xt(h)?h.get():h,[h]);return A.createElement(t,{...c,children:f})}function Dv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Sm(t,e,n,r){if(typeof e=="function"){const[i,s]=Dv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Dv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function eu(t){return xt(t)?t.get():t}function O2({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:j2(n,r,i,t),renderState:e()}}function j2(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=eu(s[p]);let{initial:o,animate:a}=t;const u=Tc(t),c=uT(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Ec(f)){const p=Array.isArray(f)?f:[f];for(let y=0;y<p.length;y++){const C=Sm(t,p[y]);if(C){const{transitionEnd:I,transition:R,...w}=C;for(const v in w){let E=w[v];if(Array.isArray(E)){const D=h?E.length-1:0;E=E[D]}E!==null&&(i[v]=E)}for(const v in I)i[v]=I[v]}}}return i}const mT=t=>(e,n)=>{const r=A.useContext(wc),i=A.useContext(_c),s=()=>O2(t,e,r,i);return n?s():Gp(s)};function xm(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(xt(r[o])||e.style&&xt(e.style[o])||cT(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const F2=mT({scrapeMotionValuesFromProps:xm,createRenderState:Em});function gT(t,e,n){const r=xm(t,e,n);for(const i in t)if(xt(t[i])||xt(e[i])){const s=qs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const U2=mT({scrapeMotionValuesFromProps:gT,createRenderState:fT}),B2=Symbol.for("motionComponentSymbol");function us(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $2(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):us(n)&&(n.current=r))},[e])}const Cm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z2="framerAppearId",yT="data-"+Cm(z2),vT=A.createContext({});function H2(t,e,n,r,i){var I,R;const{visualElement:s}=A.useContext(wc),o=A.useContext(aT),a=A.useContext(_c),u=A.useContext(ym).reducedMotion,c=A.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const h=c.current,f=A.useContext(vT);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&W2(c.current,n,i,f);const p=A.useRef(!1);A.useInsertionEffect(()=>{h&&p.current&&h.update(n,a)});const y=n[yT],C=A.useRef(!!y&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,y))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,y)));return pE(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),C.current&&h.animationState&&h.animationState.animateChanges())}),A.useEffect(()=>{h&&(!C.current&&h.animationState&&h.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,y)}),C.current=!1),h.enteringChildren=void 0)}),h}function W2(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_T(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&us(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:c})}function _T(t){if(t)return t.options.allowProjection!==!1?t.projection:_T(t.parent)}function Fh(t,{forwardMotionProps:e=!1}={},n,r){n&&v2(n);const i=Tm(t)?U2:F2;function s(a,u){let c;const h={...A.useContext(ym),...a,layoutId:q2(a)},{isStatic:f}=h,p=S2(a),y=i(a,f);if(!f&&Qp){K2();const C=G2(h);c=C.MeasureLayout,p.visualElement=H2(t,y,h,r,C.ProjectionNode)}return g.jsxs(wc.Provider,{value:p,children:[c&&p.visualElement?g.jsx(c,{visualElement:p.visualElement,...h}):null,L2(t,a,$2(y,p.visualElement,u),y,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=A.forwardRef(s);return o[B2]=t,o}function q2({layoutId:t}){const e=A.useContext(Kp).id;return e&&t!==void 0?e+"-"+t:t}function K2(t,e){A.useContext(aT).strict}function G2(t){const{drag:e,layout:n}=Vs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Q2(t,e){if(typeof Proxy>"u")return Fh;const n=new Map,r=(s,o)=>Fh(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,Fh(o,void 0,t,e)),n.get(o))})}function wT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Y2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function X2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Uh(t){return t===void 0||t===1}function mf({scale:t,scaleX:e,scaleY:n}){return!Uh(t)||!Uh(e)||!Uh(n)}function mi(t){return mf(t)||ET(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ET(t){return bv(t.x)||bv(t.y)}function bv(t){return t&&t!=="0%"}function Ou(t,e,n){const r=t-n,i=e*r;return n+i}function Nv(t,e,n,r,i){return i!==void 0&&(t=Ou(t,i,r)),Ou(t,n,r)+e}function gf(t,e=0,n=1,r,i){t.min=Nv(t.min,e,n,r,i),t.max=Nv(t.max,e,n,r,i)}function TT(t,{x:e,y:n}){gf(t.x,e.translate,e.scale,e.originPoint),gf(t.y,n.translate,n.scale,n.originPoint)}const Mv=.999999999999,Lv=1.0000000000001;function J2(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&hs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,TT(t,o)),r&&mi(s.latestValues)&&hs(t,s.latestValues))}e.x<Lv&&e.x>Mv&&(e.x=1),e.y<Lv&&e.y>Mv&&(e.y=1)}function cs(t,e){t.min=t.min+e,t.max=t.max+e}function Ov(t,e,n,r,i=.5){const s=Le(t.min,t.max,i);gf(t,e,n,s,r)}function hs(t,e){Ov(t.x,e.x,e.scaleX,e.scale,e.originX),Ov(t.y,e.y,e.scaleY,e.scale,e.originY)}function ST(t,e){return wT(X2(t.getBoundingClientRect(),e))}function Z2(t,e,n){const r=ST(t,n),{scroll:i}=e;return i&&(cs(r.x,i.offset.x),cs(r.y,i.offset.y)),r}const jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),ds=()=>({x:jv(),y:jv()}),Fv=()=>({min:0,max:0}),ze=()=>({x:Fv(),y:Fv()}),yf={current:null},xT={current:!1};function eV(){if(xT.current=!0,!!Qp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yf.current=t.matches;t.addEventListener("change",e),e()}else yf.current=!1}const tV=new WeakMap;function nV(t,e,n){for(const r in e){const i=e[r],s=n[r];if(xt(i))t.addValue(r,i);else if(xt(s))t.addValue(r,ks(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ks(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ft.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,De.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Tc(n),this.isVariantNode=uT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const y=f[p];u[p]!==void 0&&xt(y)&&y.set(u[p])}}mount(e){var n;this.current=e,tV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),xT.current||eV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yf.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),qr(this.notifyUpdate),qr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ks.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&De.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vs){const n=Vs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Uv.length;r++){const i=Uv[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=nV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ks(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mE(r)||yE(r))?r=parseFloat(r):!h2(r)&&Kr.test(n)&&(r=JE(e,n)),this.setBaseTarget(e,xt(r)?r.get():r)),xt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Sm(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!xt(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new em),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mm.render(this.render)}}class CT extends rV{constructor(){super(...arguments),this.KeyframeResolver=Zk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AT(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function iV(t){return window.getComputedStyle(t)}class sV extends CT{constructor(){super(...arguments),this.type="html",this.renderInstance=AT}readValueFromInstance(e,n){var r;if(Ks.has(n))return(r=this.projection)!=null&&r.isProjecting?lf(n):vk(e,n);{const i=iV(e),s=(rm(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return ST(e,n)}build(e,n,r){wm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return xm(e,n,r)}}const IT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oV(t,e,n,r){AT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(IT.has(i)?i:Cm(i),e.attrs[i])}class aV extends CT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ks.has(n)){const r=XE(n);return r&&r.default||0}return n=IT.has(n)?n:Cm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return gT(e,n,r)}build(e,n,r){dT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){oV(e,n,r,i)}mount(e){this.isSVGTag=pT(e.tagName),super.mount(e)}}const lV=(t,e)=>Tm(t)?new aV(e):new sV(e,{allowProjection:t!==A.Fragment});function _s(t,e,n){const r=t.getProps();return Sm(r,e,n!==void 0?n:r.custom,t)}const vf=t=>Array.isArray(t);function uV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ks(n))}function cV(t){return vf(t)?t[t.length-1]||0:t}function hV(t,e){const n=_s(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=cV(s[o]);uV(t,o,a)}}function dV(t){return!!(xt(t)&&t.add)}function _f(t,e){const n=t.getValue("willChange");if(dV(n))return n.add(e);if(!n&&ar.WillChange){const r=new ar.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function PT(t){return t.props[yT]}const fV=t=>t!==null;function pV(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(fV),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const mV={type:"spring",stiffness:500,damping:25,restSpeed:10},gV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yV={type:"keyframes",duration:.8},vV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_V=(t,{keyframes:e})=>e.length>2?yV:Ks.has(t)?t.startsWith("scale")?gV(e[1]):mV:vV;function wV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...h}){return!!Object.keys(h).length}const Am=(t,e,n,r={},i,s)=>o=>{const a=fm(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Mn(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};wV(a)||Object.assign(h,_V(t,h)),h.duration&&(h.duration=Mn(h.duration)),h.repeatDelay&&(h.repeatDelay=Mn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(ff(h),h.delay===0&&(f=!0)),(ar.instantAnimations||ar.skipAnimations)&&(f=!0,ff(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const p=pV(h.keyframes,a);if(p!==void 0){De.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new hm(h):new Bk(h)};function EV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function RT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h,t.latestValues[h]??null),p=a[h];if(p===void 0||c&&EV(c,h))continue;const y={delay:n,...fm(s||{},h)},C=f.get();if(C!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===C&&!y.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const w=PT(t);if(w){const v=window.MotionHandoffAnimation(w,h,De);v!==null&&(y.startTime=v,I=!0)}}_f(t,h),f.start(Am(h,f,p,t.shouldReduceMotion&&GE.has(h)?{type:!1}:y,t,I));const R=f.animation;R&&u.push(R)}return o&&Promise.all(u).then(()=>{De.update(()=>{o&&hV(t,o)})}),u}function kT(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function wf(t,e,n={}){var u;const r=_s(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(RT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return TV(t,e,c,h,f,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,h]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>h())}else return Promise.all([s(),o(n.delay)])}function TV(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),a.push(wf(u,e,{...o,delay:n+(typeof r=="function"?0:r)+kT(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(a)}function SV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>wf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=wf(t,e,n);else{const i=typeof e=="function"?_s(t,e,n.custom):e;r=Promise.all(RT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function VT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const xV=_m.length;function DT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xV;n++){const r=_m[n],i=t.props[r];(wa(i)||i===!1)&&(e[r]=i)}return e}const CV=[...vm].reverse(),AV=vm.length;function IV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>SV(t,n,r)))}function PV(t){let e=IV(t),n=Bv(),r=!0;const i=u=>(c,h)=>{var p;const f=_s(t,h,u==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:y,transitionEnd:C,...I}=f;c={...c,...I,...C}}return c};function s(u){e=u(t)}function o(u){const{props:c}=t,h=DT(t.parent)||{},f=[],p=new Set;let y={},C=1/0;for(let R=0;R<AV;R++){const w=CV[R],v=n[w],E=c[w]!==void 0?c[w]:h[w],D=wa(E),M=w===u?v.isActive:null;M===!1&&(C=R);let O=E===h[w]&&E!==c[w]&&D;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),v.protectedKeys={...y},!v.isActive&&M===null||!E&&!v.prevProp||Ec(E)||typeof E=="boolean")continue;const S=RV(v.prevProp,E);let _=S||w===u&&v.isActive&&!O&&D||R>C&&D,x=!1;const P=Array.isArray(E)?E:[E];let V=P.reduce(i(w),{});M===!1&&(V={});const{prevResolvedValues:b={}}=v,k={...b,...V},Ee=ye=>{_=!0,p.has(ye)&&(x=!0,p.delete(ye)),v.needsAnimating[ye]=!0;const z=t.getValue(ye);z&&(z.liveStyle=!1)};for(const ye in k){const z=V[ye],K=b[ye];if(y.hasOwnProperty(ye))continue;let Y=!1;vf(z)&&vf(K)?Y=!VT(z,K):Y=z!==K,Y?z!=null?Ee(ye):p.add(ye):z!==void 0&&p.has(ye)?Ee(ye):v.protectedKeys[ye]=!0}v.prevProp=E,v.prevResolvedValues=V,v.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(_=!1);const Ye=O&&S;_&&(!Ye||x)&&f.push(...P.map(ye=>{const z={type:w};if(typeof ye=="string"&&r&&!Ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,Y=_s(K,ye);if(K.enteringChildren&&Y){const{delayChildren:he}=Y.transition||{};z.delay=kT(K.enteringChildren,t,he)}}return{animation:ye,options:z}}))}if(p.size){const R={};if(typeof c.initial!="boolean"){const w=_s(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(R.transition=w.transition)}p.forEach(w=>{const v=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),R[w]=v??null}),f.push({animation:R})}let I=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(f):Promise.resolve()}function a(u,c){var f;if(n[u].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var y;return(y=p.animationState)==null?void 0:y.setActive(u,c)}),n[u].isActive=c;const h=o(u);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Bv()}}}function RV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VT(e,t):!1}function di(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bv(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kV extends ri{constructor(e){super(e),e.animationState||(e.animationState=PV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ec(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let VV=0;class DV extends ri{constructor(){super(...arguments),this.id=VV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bV={animation:{Feature:kV},exit:{Feature:DV}};function Ta(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function $a(t){return{point:{x:t.pageX,y:t.pageY}}}const NV=t=>e=>gm(e)&&t(e,$a(e));function Wo(t,e,n,r){return Ta(t,e,NV(n),r)}const bT=1e-4,MV=1-bT,LV=1+bT,NT=.01,OV=0-NT,jV=0+NT;function Rt(t){return t.max-t.min}function FV(t,e,n){return Math.abs(t-e)<=n}function $v(t,e,n,r=.5){t.origin=r,t.originPoint=Le(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MV&&t.scale<=LV||isNaN(t.scale))&&(t.scale=1),(t.translate>=OV&&t.translate<=jV||isNaN(t.translate))&&(t.translate=0)}function qo(t,e,n,r){$v(t.x,e.x,n.x,r?r.originX:void 0),$v(t.y,e.y,n.y,r?r.originY:void 0)}function zv(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function UV(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}function Hv(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function Ko(t,e,n){Hv(t.x,e.x,n.x),Hv(t.y,e.y,n.y)}function nn(t){return[t("x"),t("y")]}const MT=({current:t})=>t?t.ownerDocument.defaultView:null,Wv=(t,e)=>Math.abs(t-e);function BV(t,e){const n=Wv(t.x,e.x),r=Wv(t.y,e.y);return Math.sqrt(n**2+r**2)}class LT{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=$h(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,C=BV(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!C)return;const{point:I}=p,{timestamp:R}=dt;this.history.push({...I,timestamp:R});const{onStart:w,onMove:v}=this.handlers;y||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Bh(y,this.transformPagePoint),De.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=$h(p.type==="pointercancel"?this.lastMoveEventInfo:Bh(y,this.transformPagePoint),this.history);this.startEvent&&C&&C(p,w),I&&I(p,w)},!gm(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=$a(e),u=Bh(a,this.transformPagePoint),{point:c}=u,{timestamp:h}=dt;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,$h(u,this.history)),this.removeListeners=Fa(Wo(this.contextWindow,"pointermove",this.handlePointerMove),Wo(this.contextWindow,"pointerup",this.handlePointerUp),Wo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qr(this.updatePoint)}}function Bh(t,e){return e?{point:e(t.point)}:t}function qv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $h({point:t},e){return{point:t,delta:qv(t,OT(e)),offset:qv(t,$V(e)),velocity:zV(e,.1)}}function $V(t){return t[0]}function OT(t){return t[t.length-1]}function zV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=OT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Mn(e)));)n--;if(!r)return{x:0,y:0};const s=ln(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function HV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Le(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Le(n,t,r.max):Math.min(t,n)),t}function Kv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WV(t,{top:e,left:n,bottom:r,right:i}){return{x:Kv(t.x,n,i),y:Kv(t.y,e,r)}}function Gv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qV(t,e){return{x:Gv(t.x,e.x),y:Gv(t.y,e.y)}}function KV(t,e){let n=.5;const r=Rt(t),i=Rt(e);return i>r?n=ya(e.min,e.max-r,t.min):r>i&&(n=ya(t.min,t.max-i,e.min)),or(0,1,n)}function GV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ef=.35;function QV(t=Ef){return t===!1?t=0:t===!0&&(t=Ef),{x:Qv(t,"left","right"),y:Qv(t,"top","bottom")}}function Qv(t,e,n){return{min:Yv(t,e),max:Yv(t,n)}}function Yv(t,e){return typeof t=="number"?t:t[e]||0}const YV=new WeakMap;class XV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor($a(f).point)},o=(f,p)=>{const{drag:y,dragPropagation:C,onDragStart:I}=this.getProps();if(y&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r2(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Ln.test(v)){const{projection:E}=this.visualElement;if(E&&E.layout){const D=E.layout.layoutBox[w];D&&(v=Rt(D)*(parseFloat(v)/100))}}this.originPoint[w]=v}),I&&De.postRender(()=>I(f,p)),_f(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:C,onDirectionLock:I,onDrag:R}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:w}=p;if(C&&this.currentDirection===null){this.currentDirection=JV(w),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),R&&R(f,p)},u=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>nn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new LT(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:MT(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&De.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Pl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=HV(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&us(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=WV(r.layoutBox,e):this.constraints=!1,this.elastic=QV(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=GV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!us(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Z2(r,i.root,this.visualElement.getTransformPagePoint());let o=qV(i.layout.layoutBox,s);if(n){const a=n(Y2(o));this.hasMutatedConstraints=!!a,a&&(o=wT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=nn(h=>{if(!Pl(h,n,this.currentDirection))return;let f=u&&u[h]||{};o&&(f={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,C={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,C)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _f(this.visualElement,e),r.start(Am(e,r,0,n,this.visualElement,!1))}stopAnimation(){nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){nn(n=>{const{drag:r}=this.getProps();if(!Pl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Le(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!us(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();i[o]=KV({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nn(o=>{if(!Pl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(Le(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;YV.set(this.visualElement,this);const e=this.visualElement.current,n=Wo(e,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();us(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),De.read(r);const o=Ta(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(nn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=u[h].translate,f.set(f.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ef,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Pl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZV extends ri{constructor(e){super(e),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new XV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xv=t=>(e,n)=>{t&&De.postRender(()=>t(e,n))};class eD extends ri{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(e){this.session=new LT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xv(e),onStart:Xv(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&De.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Wo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Z.test(t))t=parseFloat(t);else return t;const n=Jv(t,e.target.x),r=Jv(t,e.target.y);return`${n}% ${r}%`}},tD={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Kr.parse(t);if(i.length>5)return r;const s=Kr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=Le(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let zh=!1;class nD extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;x2(rD),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),zh&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,zh=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||De.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;zh=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jT(t){const[e,n]=sT(),r=A.useContext(Kp);return g.jsx(nD,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(vT),isPresent:e,safeToRemove:n})}const rD={borderRadius:{...xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xo,borderTopRightRadius:xo,borderBottomLeftRadius:xo,borderBottomRightRadius:xo,boxShadow:tD};function iD(t,e,n){const r=xt(t)?t:ks(t);return r.start(Am("",r,e,n)),r.animation}const sD=(t,e)=>t.depth-e.depth;class oD{constructor(){this.children=[],this.isDirty=!1}add(e){Yp(this.children,e),this.isDirty=!0}remove(e){Xp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sD),this.isDirty=!1,this.children.forEach(e)}}function aD(t,e){const n=Ft.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(qr(r),t(s-e))};return De.setup(r,!0),()=>qr(r)}const FT=["TopLeft","TopRight","BottomLeft","BottomRight"],lD=FT.length,Zv=t=>typeof t=="string"?parseFloat(t):t,e0=t=>typeof t=="number"||Z.test(t);function uD(t,e,n,r,i,s){i?(t.opacity=Le(0,n.opacity??1,cD(r)),t.opacityExit=Le(e.opacity??1,0,hD(r))):s&&(t.opacity=Le(e.opacity??1,n.opacity??1,r));for(let o=0;o<lD;o++){const a=`border${FT[o]}Radius`;let u=t0(e,a),c=t0(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||e0(u)===e0(c)?(t[a]=Math.max(Le(Zv(u),Zv(c),r),0),(Ln.test(c)||Ln.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Le(e.rotate||0,n.rotate||0,r))}function t0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cD=UT(0,.5,CE),hD=UT(.5,.95,cn);function UT(t,e,n){return r=>r<t?0:r>e?1:n(ya(t,e,r))}function n0(t,e){t.min=e.min,t.max=e.max}function tn(t,e){n0(t.x,e.x),n0(t.y,e.y)}function r0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function i0(t,e,n,r,i){return t-=e,t=Ou(t,1/n,r),i!==void 0&&(t=Ou(t,1/i,r)),t}function dD(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ln.test(e)&&(e=parseFloat(e),e=Le(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Le(s.min,s.max,r);t===s&&(a-=e),t.min=i0(t.min,e,n,a,i),t.max=i0(t.max,e,n,a,i)}function s0(t,e,[n,r,i],s,o){dD(t,e[n],e[r],e[i],e.scale,s,o)}const fD=["x","scaleX","originX"],pD=["y","scaleY","originY"];function o0(t,e,n,r){s0(t.x,e,fD,n?n.x:void 0,r?r.x:void 0),s0(t.y,e,pD,n?n.y:void 0,r?r.y:void 0)}function a0(t){return t.translate===0&&t.scale===1}function BT(t){return a0(t.x)&&a0(t.y)}function l0(t,e){return t.min===e.min&&t.max===e.max}function mD(t,e){return l0(t.x,e.x)&&l0(t.y,e.y)}function u0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $T(t,e){return u0(t.x,e.x)&&u0(t.y,e.y)}function c0(t){return Rt(t.x)/Rt(t.y)}function h0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gD{constructor(){this.members=[]}add(e){Yp(this.members,e),e.scheduleRender()}remove(e){if(Xp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:y,skewY:C}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const Hh=["","X","Y","Z"],vD=1e3;let _D=0;function Wh(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=PT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",De,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zT(r)}function HT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=_D++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TD),this.nodes.forEach(AD),this.nodes.forEach(ID),this.nodes.forEach(SD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new oD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new em),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=iT(o)&&!u2(o),this.instance=o;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;De.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,h&&h(),h=aD(p,250),tu.hasAnimatedSinceResize&&(tu.hasAnimatedSinceResize=!1,this.nodes.forEach(p0)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||c.getDefaultTransition()||DD,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=c.getProps(),w=!this.targetLayout||!$T(this.targetLayout,y),v=!f&&p;if(this.options.layoutRoot||this.resumeFrom||v||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...fm(C,"layout"),onPlay:I,onComplete:R};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,v)}else f||p0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(f0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CD),this.nodes.forEach(wD),this.nodes.forEach(ED)):this.nodes.forEach(f0),this.clearAllSnapshots();const a=Ft.now();dt.delta=or(0,1e3/60,a-dt.timestamp),dt.timestamp=a,dt.isProcessing=!0,bh.update.process(dt),bh.preRender.process(dt),bh.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xD),this.sharedNodes.forEach(RD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,De.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){De.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!BT(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||mi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),bD(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ze();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(ND))){const{scroll:h}=this.root;h&&(cs(a.x,h.offset.x),cs(a.y,h.offset.y))}return a}removeElementScroll(o){var u;const a=ze();if(tn(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&tn(a,o),cs(a.x,f.offset.x),cs(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const u=ze();tn(u,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&hs(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),mi(h.latestValues)&&hs(u,h.latestValues)}return mi(this.latestValues)&&hs(u,this.latestValues),u}removeTransform(o){const a=ze();tn(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!mi(c.latestValues))continue;mf(c.latestValues)&&c.updateSnapshot();const h=ze(),f=c.measurePageBox();tn(h,f),o0(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return mi(this.latestValues)&&o0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ko(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),TT(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Ko(this.relativeTargetOrigin,this.target,y.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mf(this.parent.latestValues)||ET(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;tn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;J2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ze());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r0(this.prevProjectionDelta.x,this.projectionDelta.x),r0(this.prevProjectionDelta.y,this.projectionDelta.y)),qo(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!h0(this.projectionDelta.x,this.prevProjectionDelta.x)||!h0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ds(),this.projectionDelta=ds(),this.projectionDeltaWithTransform=ds()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},h={...this.latestValues},f=ds();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ze(),y=u?u.source:void 0,C=this.layout?this.layout.source:void 0,I=y!==C,R=this.getStack(),w=!R||R.members.length<=1,v=!!(I&&!w&&this.options.crossfade===!0&&!this.path.some(VD));this.animationProgress=0;let E;this.mixTargetDelta=D=>{const M=D/1e3;m0(f.x,o.x,M),m0(f.y,o.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ko(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kD(this.relativeTarget,this.relativeTargetOrigin,p,M),E&&mD(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=ze()),tn(E,this.relativeTarget)),I&&(this.animationValues=h,uD(h,c,this.latestValues,M,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=De.update(()=>{tu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ks(0)),this.currentAnimation=iD(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:h}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&WT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||ze();const f=Rt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const p=Rt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}tn(a,u),hs(a,h),qo(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new gD),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&Wh("z",o,c,this.animationValues);for(let h=0;h<Hh.length;h++)Wh(`rotate${Hh[h]}`,o,c,this.animationValues),Wh(`skew${Hh[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=eu(a==null?void 0:a.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=eu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!mi(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=yD(this.projectionDeltaWithTransform,this.treeScale,h);u&&(f=u(h,f)),o.transform=f;const{x:p,y}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const C in Ea){if(h[C]===void 0)continue;const{correct:I,applyTo:R,isCSSVariable:w}=Ea[C],v=f==="none"?h[C]:I(h[C],c);if(R){const E=R.length;for(let D=0;D<E;D++)o[R[D]]=v}else w?this.options.visualElement.renderState.vars[C]=v:o[C]=v}this.options.layoutId&&(o.pointerEvents=c===this?eu(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(d0),this.root.sharedNodes.clear()}}}function wD(t){t.updateLayout()}function ED(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?nn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Rt(p);p.min=r[f].min,p.max=p.min+y}):WT(s,e.layoutBox,r)&&nn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],y=Rt(r[f]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=ds();qo(a,r,e.layoutBox);const u=ds();o?qo(u,t.applyTransform(i,!0),e.measuredBox):qo(u,r,e.layoutBox);const c=!BT(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:y}=f;if(p&&y){const C=ze();Ko(C,e.layoutBox,p.layoutBox);const I=ze();Ko(I,r,y.layoutBox),$T(C,I)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=C,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function TD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xD(t){t.clearSnapshot()}function d0(t){t.clearMeasurements()}function f0(t){t.isLayoutDirty=!1}function CD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function p0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function AD(t){t.resolveTargetDelta()}function ID(t){t.calcProjection()}function PD(t){t.resetSkewAndRotation()}function RD(t){t.removeLeadSnapshot()}function m0(t,e,n){t.translate=Le(e.translate,0,n),t.scale=Le(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function g0(t,e,n,r){t.min=Le(e.min,n.min,r),t.max=Le(e.max,n.max,r)}function kD(t,e,n,r){g0(t.x,e.x,n.x,r),g0(t.y,e.y,n.y,r)}function VD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DD={duration:.45,ease:[.4,0,.1,1]},y0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),v0=y0("applewebkit/")&&!y0("chrome/")?Math.round:cn;function _0(t){t.min=v0(t.min),t.max=v0(t.max)}function bD(t){_0(t.x),_0(t.y)}function WT(t,e,n){return t==="position"||t==="preserve-aspect"&&!FV(c0(e),c0(n),.2)}function ND(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const MD=HT({attachResizeListener:(t,e)=>Ta(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qh={current:void 0},qT=HT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qh.current){const t=new MD({});t.mount(window),t.setOptions({layoutScroll:!0}),qh.current=t}return qh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LD={pan:{Feature:eD},drag:{Feature:ZV,ProjectionNode:qT,MeasureLayout:jT}};function w0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&De.postRender(()=>s(e,$a(e)))}class OD extends ri{mount(){const{current:e}=this.node;e&&(this.unmount=i2(e,(n,r)=>(w0(this.node,r,"Start"),i=>w0(this.node,i,"End"))))}unmount(){}}class jD extends ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fa(Ta(this.node.current,"focus",()=>this.onFocus()),Ta(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E0(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&De.postRender(()=>s(e,$a(e)))}class FD extends ri{mount(){const{current:e}=this.node;e&&(this.unmount=l2(e,(n,r)=>(E0(this.node,r,"Start"),(i,{success:s})=>E0(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tf=new WeakMap,Kh=new WeakMap,UD=t=>{const e=Tf.get(t.target);e&&e(t)},BD=t=>{t.forEach(UD)};function $D({root:t,...e}){const n=t||document;Kh.has(n)||Kh.set(n,{});const r=Kh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(BD,{root:t,...e})),r[i]}function zD(t,e,n){const r=$D(e);return Tf.set(t,n),r.observe(t),()=>{Tf.delete(t),r.unobserve(t)}}const HD={some:0,all:1};class WD extends ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:HD[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(u)};return zD(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qD(e,n))&&this.startObserver()}unmount(){}}function qD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KD={inView:{Feature:WD},tap:{Feature:FD},focus:{Feature:jD},hover:{Feature:OD}},GD={layout:{ProjectionNode:qT,MeasureLayout:jT}},QD={...bV,...KD,...LD,...GD},Dn=Q2(QD,lV);function KT(){const t=new Date().getFullYear();return g.jsx("footer",{style:{background:"linear-gradient(180deg, #fffaff 0%, #fff1f7 100%)",borderTop:"1px solid #eadfff",paddingTop:40,paddingBottom:32},children:g.jsxs("div",{className:"container",style:{textAlign:"center"},children:[g.jsx(Dn.h3,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},style:{fontWeight:800,fontSize:"1.45rem",color:"#6a3ba6",marginBottom:6},children:"Pastelera Nancy "}),g.jsx(Dn.p,{initial:{opacity:0},whileInView:{opacity:1},transition:{delay:.2,duration:.6},style:{color:"#a28cbf",fontSize:"0.95rem",marginBottom:18,fontWeight:500},children:"Hecho con amor en Miranda, Cauca "}),g.jsx(Dn.div,{initial:{width:0,opacity:0},whileInView:{width:100,opacity:1},transition:{duration:.8},style:{height:1,background:"#eadfff",margin:"0 auto 18px",borderRadius:2}}),g.jsxs("p",{style:{color:"#857b9a",fontSize:"0.9rem",margin:0,letterSpacing:.2},children:[" ",t," Pastelera Nancy  Todos los derechos reservados."]})]})})}function GT(){return A.useEffect(()=>{const t=document.querySelector(".header"),e=()=>{t&&t.classList.toggle("scrolled",window.scrollY>40)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),g.jsx("header",{className:"header",children:g.jsxs("nav",{className:"container nav",children:[g.jsxs("div",{className:"brand",children:[g.jsx("img",{src:"/logo.png",alt:"Logo Pastelera Nancy",className:"brand-logo"}),g.jsx("span",{className:"brand-text",children:"Pastelera Nancy"})]}),g.jsxs("div",{className:"actions",children:[g.jsx("a",{className:"btn secondary",href:"#sedes",children:"Sedes"}),g.jsx("a",{className:"btn",href:"#contacto",children:"Contactar"})]})]})})}function Sc({id:t,variant:e="default",center:n,children:r,className:i,style:s}){const o=A.useRef(null);return A.useEffect(()=>{const a=o.current;if(!a)return;const u=a.querySelectorAll("[data-reveal]"),c=new IntersectionObserver(h=>{h.forEach(f=>{f.isIntersecting&&f.target.classList.add("reveal-in")})},{threshold:.15});return u.forEach(h=>c.observe(h)),()=>c.disconnect()},[]),g.jsxs("section",{id:t,ref:o,className:`section ${e} ${n?"center":""} ${i??""}`,"aria-labelledby":t?`${t}-title`:void 0,style:s,children:[g.jsx("div",{className:"container",children:r}),g.jsx("div",{className:"divider","aria-hidden":"true"})]})}function YD(){return A.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>{i.forEach(s=>{if(s.isIntersecting){const o=s.target;o.classList.add("reveal-in"),n.unobserve(o)}})},{threshold:.2,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[]),g.jsxs(Sc,{center:!0,variant:"brand",id:"inicio","aria-label":"Portada pastelera",style:{paddingTop:0,marginTop:0},children:[g.jsx("span",{className:"orb orb--1","aria-hidden":"true"}),g.jsx("span",{className:"orb orb--2","aria-hidden":"true"}),g.jsx("span",{className:"orb orb--3","aria-hidden":"true"}),g.jsx("div",{className:"container hero-wrap",children:g.jsxs("div",{className:"split",children:[g.jsxs("div",{"data-reveal":!0,className:"hero-copy",children:[g.jsx("p",{className:"eyebrow",children:"Pastelera artesanal"}),g.jsx("h1",{className:"h1",children:"La excelencia en pastelera"}),g.jsx("p",{className:"lead",children:"Tortas elegantes, frescas y con el toque perfecto para tus momentos especiales."}),g.jsxs("div",{className:"btn-group",role:"group","aria-label":"Acciones principales",children:[g.jsx("a",{className:"btn btn-lg",href:"#sedes",children:"Ver sedes"}),g.jsx("a",{className:"btn secondary btn-lg",href:"#redes",children:"Sguenos"})]})]}),g.jsx("div",{"data-reveal":!0,className:"hero-media",children:g.jsxs("picture",{children:[g.jsx("source",{srcSet:"/hero-cake.png",type:"image/webp"}),g.jsx("img",{src:"/hero-cake.png",width:520,height:520,decoding:"async",fetchPriority:"high",alt:"Torta de cumpleaos con mariposas doradas",className:"hero-img floaty"})]})})]})}),g.jsx("div",{className:"divider","aria-hidden":"true"})]})}/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),T0=t=>{const e=JD(t);return e.charAt(0).toUpperCase()+e.slice(1)},QT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ZD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>A.createElement("svg",{ref:u,...eb,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QT("lucide",i),...!s&&!ZD(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,h])=>A.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(tb,{ref:s,iconNode:e,className:QT(`lucide-${XD(T0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=T0(t),n};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rb=Wn("clock",nb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],sb=Wn("folder-plus",ib);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ab=Wn("image-plus",ob);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],S0=Wn("loader-circle",lb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cb=Wn("map-pin",ub);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],db=Wn("message-circle",hb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],pb=Wn("navigation",fb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],gb=Wn("rocket",mb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],vb=Wn("tag",yb);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rl=Wn("upload",_b),wb=[{label:"LunSb",time:"8:00AM  6:00PM"},{label:"Dom",time:"8:30AM  2:00PM"},{label:"Festivos",time:"8:30AM  1:00PM"}],Eb=[{id:"miranda",name:"Sede Miranda",phone:"+57 315 5287225",whatsapp:"573155287225",address:"Calle 8 # 7 - 23",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+8+%23+7+-+23,+Miranda,+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-miranda.jpg"},{id:"florida",name:"Sede Florida",phone:"+57 315 0815246",whatsapp:"573150815246",address:"Calle 6 con Carrera 15, Esquina",mapsUrl:"https://www.google.com/maps/dir/?api=1&destination=Calle+6+con+Carrera+15,+Florida,+Valle+del+Cauca",openingHours:"LunSb 8:0018:00  Dom 8:3014:00  Festivos 8:3013:00",image:"/sede-florida.png"}];function Tb(t){return(t??"").replace(/\D+/g,"")}function Sb(t,e){const n=Tb(t);if(!n)return;const r=`?text=${encodeURIComponent(e)}`;return`https://wa.me/${n}${r}`}function xb(){A.useEffect(()=>{var r;const t=document.querySelectorAll("[data-reveal]");if(((r=window.matchMedia)==null?void 0:r.call(window,"(prefers-reduced-motion: reduce)").matches)||!("IntersectionObserver"in window)){t.forEach(i=>i.classList.add("reveal-in"));return}const n=new IntersectionObserver(i=>i.forEach(s=>{if(s.isIntersecting){const o=s.target;o.classList.add("reveal-in"),n.unobserve(o)}}),{threshold:.16,rootMargin:"40px 0px -20px 0px"});return t.forEach(i=>n.observe(i)),()=>n.disconnect()},[])}const Cb={hidden:{opacity:0,y:16,scale:.98},show:{opacity:1,y:0,scale:1,transition:{duration:.55}}};function Ab({b:t}){const e=Sb(t.whatsapp,"Hola! Quiero ms info ");return g.jsxs(Dn.article,{className:"branch card-out",variants:Cb,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},"aria-label":`Informacin de ${t.name}`,children:[g.jsxs("div",{className:"branch-head",children:[g.jsx("img",{src:t.image,alt:"",className:"branch-head__img",loading:"lazy",decoding:"async"}),g.jsx("div",{className:"branch-head__overlay"}),g.jsxs("div",{className:"branch-head__content",children:[g.jsx("h3",{className:"branch-head__title",children:t.name}),g.jsxs("p",{className:"branch-head__sub",children:[g.jsx(cb,{size:16,style:{marginRight:6,verticalAlign:"-2px"}}),t.address]})]})]}),g.jsxs("div",{className:"branch-body",children:[g.jsxs("div",{className:"hours-card hours-card--out",role:"group","aria-label":`Horarios de ${t.name}`,children:[g.jsxs("div",{className:"hours-card__header",children:[g.jsx(rb,{size:18,"aria-hidden":"true"}),g.jsx("span",{children:"Horarios"})]}),g.jsx("ul",{className:"hours-list",children:wb.map(({label:n,time:r})=>g.jsxs("li",{className:"hour-row",children:[g.jsx("span",{className:"hour-label",children:n}),g.jsx("span",{className:"hour-time",children:r})]},n))})]}),g.jsxs("div",{className:"banner-cta",role:"group","aria-label":`Acciones de ${t.name}`,children:[e&&g.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"btn",children:[g.jsx(db,{size:18,"aria-hidden":"true"})," WhatsApp"]}),t.mapsUrl&&g.jsxs("a",{href:t.mapsUrl,target:"_blank",rel:"noopener noreferrer",className:"btn secondary",children:[g.jsx(pb,{size:18,"aria-hidden":"true"})," Ver en Maps"]})]})]})]})}function Ib(){return xb(),g.jsx(Sc,{id:"sedes",variant:"alt",style:{background:"linear-gradient(180deg, #FFF1F7 0%, #F6F8FF 100%),radial-gradient(circle at top left, rgba(255, 182, 255, 0.25), transparent 60%),radial-gradient(circle at bottom right, rgba(180, 230, 255, 0.3), transparent 60%)",paddingBlock:"64px"},"aria-labelledby":"sedes-title",center:!0,children:g.jsxs("div",{className:"container",style:{textAlign:"center"},children:[g.jsxs("header",{"data-reveal":!0,style:{marginBottom:28},children:[g.jsx("h2",{id:"sedes-title",className:"h2",children:"Nuestras sedes"}),g.jsx("p",{className:"lead",children:"Elige tu sede y contctanos de una "})]}),g.jsx("div",{className:"branch-grid-2 branch-grid-2--center",children:g.jsx(oT,{children:Eb.map(t=>g.jsx(Ab,{b:t},t.id))})})]})})}const Pb=[{id:"instagram",label:"Instagram",href:"https://instagram.com/pasteleria.nancy",handle:"@pasteleria.nancy"},{id:"tiktok",label:"TikTok",href:"https://tiktok.com/@pasteleria_nancy",handle:"@pasteleria_nancy"},{id:"facebook",label:"Facebook",href:"https://www.facebook.com/p/Pasteleria-Nancy-100054205523535/",handle:"Pastelera Nancy"}],Rb="https://wa.me/573155287225?text="+encodeURIComponent("Hola!"),kb="https://wa.me/573150815246?text="+encodeURIComponent("Hola!"),kl={ig:()=>g.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"5",stroke:"currentColor",strokeWidth:"2"}),g.jsx("circle",{cx:"12",cy:"12",r:"3.5",stroke:"currentColor",strokeWidth:"2"}),g.jsx("circle",{cx:"17.5",cy:"6.5",r:"1.2",fill:"currentColor"})]}),tt:()=>g.jsxs("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[g.jsx("path",{d:"M14 3v6.5a4.5 4.5 0 1 1-4.5-4.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),g.jsx("path",{d:"M14 6c1.2 1.8 3.1 3 5 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),fb:()=>g.jsx("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:g.jsx("path",{d:"M14 9h3V6h-3a3 3 0 0 0-3 3v3H8v3h3v6h3v-6h3l1-3h-4V9a1 1 0 0 1 1-1z",fill:"currentColor"})}),wa:()=>g.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 32 32",fill:"none",children:[g.jsx("path",{d:"M16 3C9.37 3 4 8.37 4 15c0 2.1.54 4.1 1.49 5.83L4 29l8.4-1.46A11.9 11.9 0 0 0 16 27c6.63 0 12-5.37 12-12S22.63 3 16 3z",fill:"currentColor"}),g.jsx("path",{d:"M22.1 19.9c-.2.57-1.16 1.08-1.6 1.1-.43.03-.97.04-1.56-.1-.36-.09-.83-.27-1.43-.53-2.51-1.08-4.14-3.7-4.27-3.88-.13-.18-1.02-1.36-1.02-2.6 0-1.23.65-1.83.88-2.09s.5-.33.66-.33H14c.15 0 .35-.06.55.42.2.49.67 1.7.73 1.83.06.13.1.28.02.46a2 2 0 0 1-.72.89c-.12.12-.25.26-.11.51.14.26.62 1.02 1.34 1.66.92.82 1.68 1.07 1.94 1.19.26.12.42.1.58-.06.16-.16.67-.78.85-1.05.18-.26.36-.22.6-.13.24.09 1.49.7 1.75.83.26.13.43.19.49.3.06.11.06.63-.14 1.2z",fill:"#fff"})]})},x0={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},C0={hidden:{opacity:0,y:10,scale:.97},show:{opacity:1,y:0,scale:1,transition:{duration:.4}}};function Vb(){return g.jsxs(Sc,{id:"redes",variant:"surface",center:!0,style:{background:"linear-gradient(180deg,#fff7fe 0%,#f9faff 40%,#fff1f7 100%)"},children:[g.jsxs("header",{"data-reveal":!0,style:{textAlign:"center",marginBottom:24},children:[g.jsx("h2",{id:"redes-title",className:"h2",children:"Sguenos y antojate"}),g.jsx("p",{className:"lead",children:"Promos, nuevos sabores y un vistazo al detrs de nuestras creaciones."})]}),g.jsx(Dn.div,{className:"social-center",variants:x0,initial:"hidden",whileInView:"show",viewport:{once:!0,amount:.2},children:Pb.map(t=>g.jsxs(Dn.a,{href:t.href,target:"_blank",rel:"noreferrer",className:`social-card ${t.id}`,variants:C0,whileHover:{y:-4,boxShadow:"0 10px 24px rgba(183,108,253,0.25)",scale:1.03},style:{borderRadius:18,background:"#fff",border:"1px solid #eadfff",padding:"16px 18px",display:"flex",alignItems:"center",gap:14,transition:"all 0.2s ease"},children:[g.jsx("span",{className:"icon",style:{color:t.id==="instagram"?"#E4405F":t.id==="facebook"?"#1877F2":"#000"},children:t.id==="instagram"?g.jsx(kl.ig,{}):t.id==="tiktok"?g.jsx(kl.tt,{}):g.jsx(kl.fb,{})}),g.jsxs("div",{className:"text",style:{textAlign:"left"},children:[g.jsx("strong",{style:{fontSize:"16px",display:"block"},children:t.label}),g.jsx("span",{className:"handle",style:{color:"#857b9a"},children:t.handle})]})]},t.id))}),g.jsx(Dn.div,{className:"wa-wrap",variants:x0,initial:"hidden",whileInView:"show",viewport:{once:!0},style:{marginTop:36,gap:16,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:[{href:Rb,label:"Sede Miranda"},{href:kb,label:"Sede Florida"}].map((t,e)=>g.jsxs(Dn.a,{href:t.href,target:"_blank",rel:"noreferrer",variants:C0,whileHover:{scale:1.05,boxShadow:"0 8px 20px rgba(37,211,102,0.25)"},style:{display:"flex",alignItems:"center",gap:8,background:"linear-gradient(90deg,#25D366,#128C7E)",color:"#fff",borderRadius:999,padding:"12px 20px",fontWeight:700,boxShadow:"0 6px 14px rgba(37,211,102,0.3)",transition:"all 0.2s ease"},children:[g.jsx(kl.wa,{}),"WhatsApp ",t.label]},e))})]})}const Db=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bb=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},XT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new Nb;const p=s<<2|a>>4;if(r.push(p),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const C=c<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mb=function(t){const e=YT(t);return XT.encodeByteArray(e,!0)},ju=function(t){return Mb(t).replace(/\./g,"")},Lb=function(t){try{return XT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=()=>Ob().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof A0>"u")return;const t=A0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ub=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lb(t[1]);return e&&JSON.parse(e)},Im=()=>{try{return Db()||jb()||Fb()||Ub()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bb=t=>{var e,n;return(n=(e=Im())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JT=t=>{const e=Bb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZT=()=>{var t;return(t=Im())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ju(JSON.stringify(n)),ju(JSON.stringify(o)),""].join(".")}const Go={};function zb(){const t={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?t.emulator.push(e):t.prod.push(e);return t}function Hb(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let I0=!1;function nS(t,e){if(typeof window>"u"||typeof document>"u"||!xc(window.location.host)||Go[t]===e||Go[t]||I0)return;Go[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=zb().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{I0=!0,o()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=Hb(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;a(E),h(R,I);const D=c();u(v,w),E.append(v,C,R,D),document.body.appendChild(E)}s?(C.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){var e;const t=(e=Im())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gb(){try{return typeof indexedDB=="object"}catch{return!1}}function Qb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yb,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rS.prototype.create)}}class rS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Xb(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ji(i,a,r)}}function Xb(t,e){return t.replace(Jb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Jb=/\{\$([^}]+)}/g;function Fu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(P0(s)&&P0(o)){if(!Fu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(t){return t===gi?void 0:t}function tN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const rN={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},iN=ce.INFO,sN={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},oN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const aN=(t,e)=>e.some(n=>t instanceof n);let R0,k0;function lN(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,Sf=new WeakMap,oS=new WeakMap,Gh=new WeakMap,Pm=new WeakMap;function cN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function hN(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dN(t){xf=t(xf)}function fN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qh(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),jr(r)}:uN().includes(t)?function(...e){return t.apply(Qh(this),e),jr(sS.get(this))}:function(...e){return jr(t.apply(Qh(this),e))}}function pN(t){return typeof t=="function"?fN(t):(t instanceof IDBTransaction&&hN(t),aN(t,lN())?new Proxy(t,xf):t)}function jr(t){if(t instanceof IDBRequest)return cN(t);if(Gh.has(t))return Gh.get(t);const e=pN(t);return e!==t&&(Gh.set(t,e),Pm.set(e,t)),e}const Qh=t=>Pm.get(t);function mN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(jr(o.result),u.oldVersion,u.newVersion,jr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],Yh=new Map;function V0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gN.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Yh.set(e,s),s}dN(t=>({...t,get:(e,n,r)=>V0(e,n)||t.get(e,n,r),has:(e,n)=>!!V0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_N(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _N(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cf="@firebase/app",D0="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new iS("@firebase/app"),wN="@firebase/app-compat",EN="@firebase/analytics-compat",TN="@firebase/analytics",SN="@firebase/app-check-compat",xN="@firebase/app-check",CN="@firebase/auth",AN="@firebase/auth-compat",IN="@firebase/database",PN="@firebase/data-connect",RN="@firebase/database-compat",kN="@firebase/functions",VN="@firebase/functions-compat",DN="@firebase/installations",bN="@firebase/installations-compat",NN="@firebase/messaging",MN="@firebase/messaging-compat",LN="@firebase/performance",ON="@firebase/performance-compat",jN="@firebase/remote-config",FN="@firebase/remote-config-compat",UN="@firebase/storage",BN="@firebase/storage-compat",$N="@firebase/firestore",zN="@firebase/ai",HN="@firebase/firestore-compat",WN="firebase",qN="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",KN={[Cf]:"fire-core",[wN]:"fire-core-compat",[TN]:"fire-analytics",[EN]:"fire-analytics-compat",[xN]:"fire-app-check",[SN]:"fire-app-check-compat",[CN]:"fire-auth",[AN]:"fire-auth-compat",[IN]:"fire-rtdb",[PN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[kN]:"fire-fn",[VN]:"fire-fn-compat",[DN]:"fire-iid",[bN]:"fire-iid-compat",[NN]:"fire-fcm",[MN]:"fire-fcm-compat",[LN]:"fire-perf",[ON]:"fire-perf-compat",[jN]:"fire-rc",[FN]:"fire-rc-compat",[UN]:"fire-gcs",[BN]:"fire-gcs-compat",[$N]:"fire-fst",[HN]:"fire-fst-compat",[zN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Map,GN=new Map,If=new Map;function b0(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(If.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;If.set(e,t);for(const n of Uu.values())b0(n,t);for(const n of GN.values())b0(n,t);return!0}function aS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lS(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new rS("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=qN;function cS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Af,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=ZT()),!n)throw Fr.create("no-options");const s=Uu.get(i);if(s){if(Fu(n,s.options)&&Fu(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new nN(i);for(const u of If.values())o.addComponent(u);const a=new YN(n,r,o);return Uu.set(i,a),a}function hS(t=Af){const e=Uu.get(t);if(!e&&t===Af&&ZT())return cS();if(!e)throw Fr.create("no-app",{appName:t});return e}function Ur(t,e,n){let r=KN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(o.join(" "));return}Sa(new Ds(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",JN=1,xa="firebase-heartbeat-store";let Xh=null;function dS(){return Xh||(Xh=mN(XN,JN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Xh}async function ZN(t){try{const n=(await dS()).transaction(xa),r=await n.objectStore(xa).get(fS(t));return await n.done,r}catch(e){if(e instanceof ji)ur.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function N0(t,e){try{const r=(await dS()).transaction(xa,"readwrite");await r.objectStore(xa).put(e,fS(t)),await r.done}catch(n){if(n instanceof ji)ur.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function fS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1024,tM=30;class nM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=M0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>tM){const o=sM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M0(),{heartbeatsToSend:r,unsentEntries:i}=rM(this._heartbeatsCache.heartbeats),s=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ur.warn(n),""}}}function M0(){return new Date().toISOString().substring(0,10)}function rM(t,e=eM){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),L0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gb()?Qb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return N0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L0(t){return ju(JSON.stringify({version:2,heartbeats:t})).length}function sM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){Sa(new Ds("platform-logger",e=>new vN(e),"PRIVATE")),Sa(new Ds("heartbeat",e=>new nM(e),"PRIVATE")),Ur(Cf,D0,t),Ur(Cf,D0,"esm2020"),Ur("fire-js","")}oM("");var aM="firebase",lM="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(aM,lM,"app");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,pS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function x(){}x.prototype=_.prototype,S.F=_.prototype,S.prototype=new x,S.prototype.constructor=S,S.D=function(P,V,b){for(var k=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)k[Ee-2]=arguments[Ee];return _.prototype[V].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,x){x||(x=0);const P=Array(16);if(typeof _=="string")for(var V=0;V<16;++V)P[V]=_.charCodeAt(x++)|_.charCodeAt(x++)<<8|_.charCodeAt(x++)<<16|_.charCodeAt(x++)<<24;else for(V=0;V<16;++V)P[V]=_[x++]|_[x++]<<8|_[x++]<<16|_[x++]<<24;_=S.g[0],x=S.g[1],V=S.g[2];let b=S.g[3],k;k=_+(b^x&(V^b))+P[0]+3614090360&4294967295,_=x+(k<<7&4294967295|k>>>25),k=b+(V^_&(x^V))+P[1]+3905402710&4294967295,b=_+(k<<12&4294967295|k>>>20),k=V+(x^b&(_^x))+P[2]+606105819&4294967295,V=b+(k<<17&4294967295|k>>>15),k=x+(_^V&(b^_))+P[3]+3250441966&4294967295,x=V+(k<<22&4294967295|k>>>10),k=_+(b^x&(V^b))+P[4]+4118548399&4294967295,_=x+(k<<7&4294967295|k>>>25),k=b+(V^_&(x^V))+P[5]+1200080426&4294967295,b=_+(k<<12&4294967295|k>>>20),k=V+(x^b&(_^x))+P[6]+2821735955&4294967295,V=b+(k<<17&4294967295|k>>>15),k=x+(_^V&(b^_))+P[7]+4249261313&4294967295,x=V+(k<<22&4294967295|k>>>10),k=_+(b^x&(V^b))+P[8]+1770035416&4294967295,_=x+(k<<7&4294967295|k>>>25),k=b+(V^_&(x^V))+P[9]+2336552879&4294967295,b=_+(k<<12&4294967295|k>>>20),k=V+(x^b&(_^x))+P[10]+4294925233&4294967295,V=b+(k<<17&4294967295|k>>>15),k=x+(_^V&(b^_))+P[11]+2304563134&4294967295,x=V+(k<<22&4294967295|k>>>10),k=_+(b^x&(V^b))+P[12]+1804603682&4294967295,_=x+(k<<7&4294967295|k>>>25),k=b+(V^_&(x^V))+P[13]+4254626195&4294967295,b=_+(k<<12&4294967295|k>>>20),k=V+(x^b&(_^x))+P[14]+2792965006&4294967295,V=b+(k<<17&4294967295|k>>>15),k=x+(_^V&(b^_))+P[15]+1236535329&4294967295,x=V+(k<<22&4294967295|k>>>10),k=_+(V^b&(x^V))+P[1]+4129170786&4294967295,_=x+(k<<5&4294967295|k>>>27),k=b+(x^V&(_^x))+P[6]+3225465664&4294967295,b=_+(k<<9&4294967295|k>>>23),k=V+(_^x&(b^_))+P[11]+643717713&4294967295,V=b+(k<<14&4294967295|k>>>18),k=x+(b^_&(V^b))+P[0]+3921069994&4294967295,x=V+(k<<20&4294967295|k>>>12),k=_+(V^b&(x^V))+P[5]+3593408605&4294967295,_=x+(k<<5&4294967295|k>>>27),k=b+(x^V&(_^x))+P[10]+38016083&4294967295,b=_+(k<<9&4294967295|k>>>23),k=V+(_^x&(b^_))+P[15]+3634488961&4294967295,V=b+(k<<14&4294967295|k>>>18),k=x+(b^_&(V^b))+P[4]+3889429448&4294967295,x=V+(k<<20&4294967295|k>>>12),k=_+(V^b&(x^V))+P[9]+568446438&4294967295,_=x+(k<<5&4294967295|k>>>27),k=b+(x^V&(_^x))+P[14]+3275163606&4294967295,b=_+(k<<9&4294967295|k>>>23),k=V+(_^x&(b^_))+P[3]+4107603335&4294967295,V=b+(k<<14&4294967295|k>>>18),k=x+(b^_&(V^b))+P[8]+1163531501&4294967295,x=V+(k<<20&4294967295|k>>>12),k=_+(V^b&(x^V))+P[13]+2850285829&4294967295,_=x+(k<<5&4294967295|k>>>27),k=b+(x^V&(_^x))+P[2]+4243563512&4294967295,b=_+(k<<9&4294967295|k>>>23),k=V+(_^x&(b^_))+P[7]+1735328473&4294967295,V=b+(k<<14&4294967295|k>>>18),k=x+(b^_&(V^b))+P[12]+2368359562&4294967295,x=V+(k<<20&4294967295|k>>>12),k=_+(x^V^b)+P[5]+4294588738&4294967295,_=x+(k<<4&4294967295|k>>>28),k=b+(_^x^V)+P[8]+2272392833&4294967295,b=_+(k<<11&4294967295|k>>>21),k=V+(b^_^x)+P[11]+1839030562&4294967295,V=b+(k<<16&4294967295|k>>>16),k=x+(V^b^_)+P[14]+4259657740&4294967295,x=V+(k<<23&4294967295|k>>>9),k=_+(x^V^b)+P[1]+2763975236&4294967295,_=x+(k<<4&4294967295|k>>>28),k=b+(_^x^V)+P[4]+1272893353&4294967295,b=_+(k<<11&4294967295|k>>>21),k=V+(b^_^x)+P[7]+4139469664&4294967295,V=b+(k<<16&4294967295|k>>>16),k=x+(V^b^_)+P[10]+3200236656&4294967295,x=V+(k<<23&4294967295|k>>>9),k=_+(x^V^b)+P[13]+681279174&4294967295,_=x+(k<<4&4294967295|k>>>28),k=b+(_^x^V)+P[0]+3936430074&4294967295,b=_+(k<<11&4294967295|k>>>21),k=V+(b^_^x)+P[3]+3572445317&4294967295,V=b+(k<<16&4294967295|k>>>16),k=x+(V^b^_)+P[6]+76029189&4294967295,x=V+(k<<23&4294967295|k>>>9),k=_+(x^V^b)+P[9]+3654602809&4294967295,_=x+(k<<4&4294967295|k>>>28),k=b+(_^x^V)+P[12]+3873151461&4294967295,b=_+(k<<11&4294967295|k>>>21),k=V+(b^_^x)+P[15]+530742520&4294967295,V=b+(k<<16&4294967295|k>>>16),k=x+(V^b^_)+P[2]+3299628645&4294967295,x=V+(k<<23&4294967295|k>>>9),k=_+(V^(x|~b))+P[0]+4096336452&4294967295,_=x+(k<<6&4294967295|k>>>26),k=b+(x^(_|~V))+P[7]+1126891415&4294967295,b=_+(k<<10&4294967295|k>>>22),k=V+(_^(b|~x))+P[14]+2878612391&4294967295,V=b+(k<<15&4294967295|k>>>17),k=x+(b^(V|~_))+P[5]+4237533241&4294967295,x=V+(k<<21&4294967295|k>>>11),k=_+(V^(x|~b))+P[12]+1700485571&4294967295,_=x+(k<<6&4294967295|k>>>26),k=b+(x^(_|~V))+P[3]+2399980690&4294967295,b=_+(k<<10&4294967295|k>>>22),k=V+(_^(b|~x))+P[10]+4293915773&4294967295,V=b+(k<<15&4294967295|k>>>17),k=x+(b^(V|~_))+P[1]+2240044497&4294967295,x=V+(k<<21&4294967295|k>>>11),k=_+(V^(x|~b))+P[8]+1873313359&4294967295,_=x+(k<<6&4294967295|k>>>26),k=b+(x^(_|~V))+P[15]+4264355552&4294967295,b=_+(k<<10&4294967295|k>>>22),k=V+(_^(b|~x))+P[6]+2734768916&4294967295,V=b+(k<<15&4294967295|k>>>17),k=x+(b^(V|~_))+P[13]+1309151649&4294967295,x=V+(k<<21&4294967295|k>>>11),k=_+(V^(x|~b))+P[4]+4149444226&4294967295,_=x+(k<<6&4294967295|k>>>26),k=b+(x^(_|~V))+P[11]+3174756917&4294967295,b=_+(k<<10&4294967295|k>>>22),k=V+(_^(b|~x))+P[2]+718787259&4294967295,V=b+(k<<15&4294967295|k>>>17),k=x+(b^(V|~_))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+V&4294967295,S.g[3]=S.g[3]+b&4294967295}r.prototype.v=function(S,_){_===void 0&&(_=S.length);const x=_-this.blockSize,P=this.C;let V=this.h,b=0;for(;b<_;){if(V==0)for(;b<=x;)i(this,S,b),b+=this.blockSize;if(typeof S=="string"){for(;b<_;)if(P[V++]=S.charCodeAt(b++),V==this.blockSize){i(this,P),V=0;break}}else for(;b<_;)if(P[V++]=S[b++],V==this.blockSize){i(this,P),V=0;break}}this.h=V,this.o+=_},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;_=this.o*8;for(var x=S.length-8;x<S.length;++x)S[x]=_&255,_/=256;for(this.v(S),S=Array(16),_=0,x=0;x<4;++x)for(let P=0;P<32;P+=8)S[_++]=this.g[x]>>>P&255;return S};function s(S,_){var x=a;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=_(S)}function o(S,_){this.h=_;const x=[];let P=!0;for(let V=S.length-1;V>=0;V--){const b=S[V]|0;P&&b==_||(x[V]=b,P=!1)}this.g=x}var a={};function u(S){return-128<=S&&S<128?s(S,function(_){return new o([_|0],_<0?-1:0)}):new o([S|0],S<0?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return R(c(-S));const _=[];let x=1;for(let P=0;S>=x;P++)_[P]=S/x|0,x*=4294967296;return new o(_,0)}function h(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return R(h(S.substring(1),_));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(_,8));let P=f;for(let b=0;b<S.length;b+=8){var V=Math.min(8,S.length-b);const k=parseInt(S.substring(b,b+V),_);V<8?(V=c(Math.pow(_,V)),P=P.j(V).add(c(k))):(P=P.j(x),P=P.add(c(k)))}return P}var f=u(0),p=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-R(this).m();let S=0,_=1;for(let x=0;x<this.g.length;x++){const P=this.i(x);S+=(P>=0?P:4294967296+P)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(I(this))return"-"+R(this).toString(S);const _=c(Math.pow(S,6));var x=this;let P="";for(;;){const V=D(x,_).g;x=w(x,V.j(_));let b=((x.g.length>0?x.g[0]:x.h)>>>0).toString(S);if(x=V,C(x))return b+P;for(;b.length<6;)b="0"+b;P=b+P}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(let _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=w(this,S),I(S)?-1:C(S)?0:1};function R(S){const _=S.g.length,x=[];for(let P=0;P<_;P++)x[P]=~S.g[P];return new o(x,~S.h).add(p)}t.abs=function(){return I(this)?R(this):this},t.add=function(S){const _=Math.max(this.g.length,S.g.length),x=[];let P=0;for(let V=0;V<=_;V++){let b=P+(this.i(V)&65535)+(S.i(V)&65535),k=(b>>>16)+(this.i(V)>>>16)+(S.i(V)>>>16);P=k>>>16,b&=65535,k&=65535,x[V]=k<<16|b}return new o(x,x[x.length-1]&-2147483648?-1:0)};function w(S,_){return S.add(R(_))}t.j=function(S){if(C(this)||C(S))return f;if(I(this))return I(S)?R(this).j(R(S)):R(R(this).j(S));if(I(S))return R(this.j(R(S)));if(this.l(y)<0&&S.l(y)<0)return c(this.m()*S.m());const _=this.g.length+S.g.length,x=[];for(var P=0;P<2*_;P++)x[P]=0;for(P=0;P<this.g.length;P++)for(let V=0;V<S.g.length;V++){const b=this.i(P)>>>16,k=this.i(P)&65535,Ee=S.i(V)>>>16,Ye=S.i(V)&65535;x[2*P+2*V]+=k*Ye,v(x,2*P+2*V),x[2*P+2*V+1]+=b*Ye,v(x,2*P+2*V+1),x[2*P+2*V+1]+=k*Ee,v(x,2*P+2*V+1),x[2*P+2*V+2]+=b*Ee,v(x,2*P+2*V+2)}for(S=0;S<_;S++)x[S]=x[2*S+1]<<16|x[2*S];for(S=_;S<2*_;S++)x[S]=0;return new o(x,0)};function v(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function E(S,_){this.g=S,this.h=_}function D(S,_){if(C(_))throw Error("division by zero");if(C(S))return new E(f,f);if(I(S))return _=D(R(S),_),new E(R(_.g),R(_.h));if(I(_))return _=D(S,R(_)),new E(R(_.g),_.h);if(S.g.length>30){if(I(S)||I(_))throw Error("slowDivide_ only works with positive integers.");for(var x=p,P=_;P.l(S)<=0;)x=M(x),P=M(P);var V=O(x,1),b=O(P,1);for(P=O(P,2),x=O(x,2);!C(P);){var k=b.add(P);k.l(S)<=0&&(V=V.add(x),b=k),P=O(P,1),x=O(x,1)}return _=w(S,V.j(_)),new E(V,_)}for(V=f;S.l(_)>=0;){for(x=Math.max(1,Math.floor(S.m()/_.m())),P=Math.ceil(Math.log(x)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),b=c(x),k=b.j(_);I(k)||k.l(S)>0;)x-=P,b=c(x),k=b.j(_);C(b)&&(b=p),V=V.add(b),S=w(S,k)}return new E(V,S)}t.B=function(S){return D(this,S).h},t.and=function(S){const _=Math.max(this.g.length,S.g.length),x=[];for(let P=0;P<_;P++)x[P]=this.i(P)&S.i(P);return new o(x,this.h&S.h)},t.or=function(S){const _=Math.max(this.g.length,S.g.length),x=[];for(let P=0;P<_;P++)x[P]=this.i(P)|S.i(P);return new o(x,this.h|S.h)},t.xor=function(S){const _=Math.max(this.g.length,S.g.length),x=[];for(let P=0;P<_;P++)x[P]=this.i(P)^S.i(P);return new o(x,this.h^S.h)};function M(S){const _=S.g.length+1,x=[];for(let P=0;P<_;P++)x[P]=S.i(P)<<1|S.i(P-1)>>>31;return new o(x,S.h)}function O(S,_){const x=_>>5;_%=32;const P=S.g.length-x,V=[];for(let b=0;b<P;b++)V[b]=_>0?S.i(b+x)>>>_|S.i(b+x+1)<<32-_:S.i(b+x);return new o(V,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,pS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Br=o}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,Vo,gS,nu,Pf,yS,vS,_S;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vl=="object"&&Vl];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var N=l[T];if(!(N in m))break e;m=m[N]}l=l[l.length-1],T=m[l],d=d(T),d!=T&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var m=[],T;for(T in d)Object.prototype.hasOwnProperty.call(d,T)&&m.push([T,d[T]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,m){return l.call.apply(l.bind,arguments)}function c(l,d,m){return c=u,c.apply(null,arguments)}function h(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var T=m.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function f(l,d){function m(){}m.prototype=d.prototype,l.Z=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Ob=function(T,N,L){for(var H=Array(arguments.length-2),re=2;re<arguments.length;re++)H[re-2]=arguments[re];return d.prototype[N].apply(T,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const m=Array(d);for(let T=0;T<d;T++)m[T]=l[T];return m}return[]}function C(l,d){for(let T=1;T<arguments.length;T++){const N=arguments[T];var m=typeof N;if(m=m!="object"?m:N?Array.isArray(N)?"array":m:"null",m=="array"||m=="object"&&typeof N.length=="number"){m=l.length||0;const L=N.length||0;l.length=m+L;for(let H=0;H<L;H++)l[m+H]=N[H]}else l.push(N)}}class I{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(l){o.setTimeout(()=>{throw l},0)}function w(){var l=S;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class v{constructor(){this.h=this.g=null}add(d,m){const T=E.get();T.set(d,m),this.h?this.h.next=T:this.g=T,this.h=T}}var E=new I(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,S=new v,_=()=>{const l=Promise.resolve(void 0);M=()=>{l.then(x)}};function x(){for(var l;l=w();){try{l.h.call(l.g)}catch(m){R(m)}var d=E;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}O=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var b=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,d),o.removeEventListener("test",m,d)}catch{}return l}();function k(l){return/^[\s\xa0]*$/.test(l)}function Ee(l,d){V.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}f(Ee,V),Ee.prototype.init=function(l,d){const m=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),zt=0;function ye(l,d,m,T,N){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!T,this.ha=N,this.key=++zt,this.da=this.fa=!1}function z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,d,m){for(const T in l)d.call(m,l[T],T,l)}function Y(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function he(l){const d={};for(const m in l)d[m]=l[m];return d}const Ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(l,d){let m,T;for(let N=1;N<arguments.length;N++){T=arguments[N];for(m in T)l[m]=T[m];for(let L=0;L<Ce.length;L++)m=Ce[L],Object.prototype.hasOwnProperty.call(T,m)&&(l[m]=T[m])}}function ve(l){this.src=l,this.g={},this.h=0}ve.prototype.add=function(l,d,m,T,N){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const H=lt(l,d,T,N);return H>-1?(d=l[H],m||(d.fa=!1)):(d=new ye(d,this.src,L,!!T,N),d.fa=m,l.push(d)),d};function At(l,d){const m=d.type;if(m in l.g){var T=l.g[m],N=Array.prototype.indexOf.call(T,d,void 0),L;(L=N>=0)&&Array.prototype.splice.call(T,N,1),L&&(z(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function lt(l,d,m,T){for(let N=0;N<l.length;++N){const L=l[N];if(!L.da&&L.listener==d&&L.capture==!!m&&L.ha==T)return N}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Kn={};function oi(l,d,m,T,N){if(Array.isArray(d)){for(let L=0;L<d.length;L++)oi(l,d[L],m,T,N);return null}return m=ut(m),l&&l[Ye]?l.J(d,m,a(T)?!!T.capture:!1,N):Bi(l,d,m,!1,T,N)}function Bi(l,d,m,T,N,L){if(!d)throw Error("Invalid event type");const H=a(N)?!!N.capture:!!N;let re=ae(l);if(re||(l[Ht]=re=new ve(l)),m=re.add(d,m,T,H,L),m.proxy)return m;if(T=j(),m.proxy=T,T.src=l,T.listener=m,l.addEventListener)b||(N=H),N===void 0&&(N=!1),l.addEventListener(d.toString(),T,N);else if(l.attachEvent)l.attachEvent(pe(d.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return m}function j(){function l(m){return d.call(l.src,l.listener,m)}const d=Xe;return l}function X(l,d,m,T,N){if(Array.isArray(d))for(var L=0;L<d.length;L++)X(l,d[L],m,T,N);else T=a(T)?!!T.capture:!!T,m=ut(m),l&&l[Ye]?(l=l.i,L=String(d).toString(),L in l.g&&(d=l.g[L],m=lt(d,m,T,N),m>-1&&(z(d[m]),Array.prototype.splice.call(d,m,1),d.length==0&&(delete l.g[L],l.h--)))):l&&(l=ae(l))&&(d=l.g[d.toString()],l=-1,d&&(l=lt(d,m,T,N)),(m=l>-1?d[l]:null)&&Te(m))}function Te(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ye])At(d.i,l);else{var m=l.type,T=l.proxy;d.removeEventListener?d.removeEventListener(m,T,l.capture):d.detachEvent?d.detachEvent(pe(m),T):d.addListener&&d.removeListener&&d.removeListener(T),(m=ae(d))?(At(m,l),m.h==0&&(m.src=null,d[Ht]=null)):z(l)}}}function pe(l){return l in Kn?Kn[l]:Kn[l]="on"+l}function Xe(l,d){if(l.da)l=!0;else{d=new Ee(d,this);const m=l.listener,T=l.ha||l.src;l.fa&&Te(l),l=m.call(T,d)}return l}function ae(l){return l=l[Ht],l instanceof ve?l:null}var Wt="__closure_events_fn_"+(Math.random()*1e9>>>0);function ut(l){return typeof l=="function"?l:(l[Wt]||(l[Wt]=function(d){return l.handleEvent(d)}),l[Wt])}function de(){P.call(this),this.i=new ve(this),this.M=this,this.G=null}f(de,P),de.prototype[Ye]=!0,de.prototype.removeEventListener=function(l,d,m,T){X(this,l,d,m,T)};function Se(l,d){var m,T=l.G;if(T)for(m=[];T;T=T.G)m.push(T);if(l=l.M,T=d.type||d,typeof d=="string")d=new V(d,l);else if(d instanceof V)d.target=d.target||l;else{var N=d;d=new V(T,l),bt(d,N)}N=!0;let L,H;if(m)for(H=m.length-1;H>=0;H--)L=d.g=m[H],N=ct(L,T,!0,d)&&N;if(L=d.g=l,N=ct(L,T,!0,d)&&N,N=ct(L,T,!1,d)&&N,m)for(H=0;H<m.length;H++)L=d.g=m[H],N=ct(L,T,!1,d)&&N}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const m=l.g[d];for(let T=0;T<m.length;T++)z(m[T]);delete l.g[d],l.h--}}this.G=null},de.prototype.J=function(l,d,m,T){return this.i.add(String(l),d,!1,m,T)},de.prototype.K=function(l,d,m,T){return this.i.add(String(l),d,!0,m,T)};function ct(l,d,m,T){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let N=!0;for(let L=0;L<d.length;++L){const H=d[L];if(H&&!H.da&&H.capture==m){const re=H.listener,Je=H.ha||H.src;H.fa&&At(l.i,H),N=re.call(Je,T)!==!1&&N}}return N&&!T.defaultPrevented}function $(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(l,d||0)}function le(l){l.g=$(()=>{l.g=null,l.i&&(l.i=!1,le(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class me extends P{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(l){P.call(this),this.h=l,this.g={}}f(Ne,P);var en=[];function Cn(l){K(l.g,function(d,m){this.g.hasOwnProperty(m)&&Te(d)},l),l.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),Cn(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=o.JSON.stringify,ee=o.JSON.parse,zc=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Js(){}function Qa(){}var pr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zs(){V.call(this,"d")}f(Zs,V);function Hc(){V.call(this,"c")}f(Hc,V);var ai={},og=null;function Ya(){return og=og||new de}ai.Ia="serverreachability";function ag(l){V.call(this,ai.Ia,l)}f(ag,V);function eo(l){const d=Ya();Se(d,new ag(d))}ai.STAT_EVENT="statevent";function lg(l,d){V.call(this,ai.STAT_EVENT,l),this.stat=d}f(lg,V);function It(l){const d=Ya();Se(d,new lg(d,l))}ai.Ja="timingevent";function ug(l,d){V.call(this,ai.Ja,l),this.size=d}f(ug,V);function to(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},d)}function no(){this.g=!0}no.prototype.ua=function(){this.g=!1};function Xx(l,d,m,T,N,L){l.info(function(){if(l.g)if(L){var H="",re=L.split("&");for(let we=0;we<re.length;we++){var Je=re[we].split("=");if(Je.length>1){const rt=Je[0];Je=Je[1];const In=rt.split("_");H=In.length>=2&&In[1]=="type"?H+(rt+"="+Je+"&"):H+(rt+"=redacted&")}}}else H=null;else H=L;return"XMLHTTP REQ ("+T+") [attempt "+N+"]: "+d+`
`+m+`
`+H})}function Jx(l,d,m,T,N,L,H){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+N+"]: "+d+`
`+m+`
`+L+" "+H})}function $i(l,d,m,T){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+eC(l,m)+(T?" "+T:"")})}function Zx(l,d){l.info(function(){return"TIMEOUT: "+d})}no.prototype.info=function(){};function eC(l,d){if(!l.g)return d;if(!d)return null;try{const L=JSON.parse(d);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var m=L[l];if(!(m.length<2)){var T=m[1];if(Array.isArray(T)&&!(T.length<1)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(let H=1;H<T.length;H++)T[H]=""}}}}return Nt(L)}catch{return d}}var Xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hg;function Wc(){}f(Wc,Js),Wc.prototype.g=function(){return new XMLHttpRequest},hg=new Wc;function ro(l){return encodeURIComponent(String(l))}function tC(l){var d=1;l=l.split(":");const m=[];for(;d>0&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function mr(l,d,m,T){this.j=l,this.i=d,this.l=m,this.S=T||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dg}function dg(){this.i=null,this.g="",this.h=!1}var fg={},qc={};function Kc(l,d,m){l.M=1,l.A=Za(An(d)),l.u=m,l.R=!0,pg(l,null)}function pg(l,d){l.F=Date.now(),Ja(l),l.B=An(l.A);var m=l.B,T=l.S;Array.isArray(T)||(T=[String(T)]),Ig(m.i,"t",T),l.C=0,m=l.j.L,l.h=new dg,l.g=Wg(l.j,m?d:null,!l.u),l.P>0&&(l.O=new me(c(l.Y,l,l.g),l.P)),d=l.V,m=l.g,T=l.ba;var N="readystatechange";Array.isArray(N)||(N&&(en[0]=N.toString()),N=en);for(let L=0;L<N.length;L++){const H=oi(m,N[L],T||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=l.J?he(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),eo(),Xx(l.i,l.v,l.B,l.l,l.S,l.u)}mr.prototype.ba=function(l){l=l.target;const d=this.O;d&&vr(l)==3?d.j():this.Y(l)},mr.prototype.Y=function(l){try{if(l==this.g)e:{const re=vr(this.g),Je=this.g.ya(),we=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||Ng(this.g)))){this.K||re!=4||Je==7||(Je==8||we<=0?eo(3):eo(2)),Gc(this);var d=this.g.ca();this.X=d;var m=nC(this);if(this.o=d==200,Jx(this.i,this.v,this.B,this.l,this.S,re,d),this.o){if(this.U&&!this.L){t:{if(this.g){var T,N=this.g;if((T=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(T)){var L=T;break t}}L=null}if(l=L)$i(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qc(this,l);else{this.o=!1,this.m=3,It(12),li(this),io(this);break e}}if(this.R){l=!0;let rt;for(;!this.K&&this.C<m.length;)if(rt=rC(this,m),rt==qc){re==4&&(this.m=4,It(14),l=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==fg){this.m=4,It(15),$i(this.i,this.l,m,"[Invalid Chunk]"),l=!1;break}else $i(this.i,this.l,rt,null),Qc(this,rt);if(mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||m.length!=0||this.h.h||(this.m=1,It(16),l=!1),this.o=this.o&&l,!l)$i(this.i,this.l,m,"[Invalid Chunked Response]"),li(this),io(this);else if(m.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),rh(H),H.P=!0,It(11))}}else $i(this.i,this.l,m,null),Qc(this,m);re==4&&li(this),this.o&&!this.K&&(re==4?Bg(this.j,this):(this.o=!1,Ja(this)))}else yC(this.g),d==400&&m.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),li(this),io(this)}}}catch{}finally{}};function nC(l){if(!mg(l))return l.g.la();const d=Ng(l.g);if(d==="")return"";let m="";const T=d.length,N=vr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return li(l),io(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<T;L++)l.h.h=!0,m+=l.h.i.decode(d[L],{stream:!(N&&L==T-1)});return d.length=0,l.h.g+=m,l.C=0,l.h.g}function mg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function rC(l,d){var m=l.C,T=d.indexOf(`
`,m);return T==-1?qc:(m=Number(d.substring(m,T)),isNaN(m)?fg:(T+=1,T+m>d.length?qc:(d=d.slice(T,T+m),l.C=T+m,d)))}mr.prototype.cancel=function(){this.K=!0,li(this)};function Ja(l){l.T=Date.now()+l.H,gg(l,l.H)}function gg(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=to(c(l.aa,l),d)}function Gc(l){l.D&&(o.clearTimeout(l.D),l.D=null)}mr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Zx(this.i,this.B),this.M!=2&&(eo(),It(17)),li(this),this.m=2,io(this)):gg(this,this.T-l)};function io(l){l.j.I==0||l.K||Bg(l.j,l)}function li(l){Gc(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,Cn(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Qc(l,d){try{var m=l.j;if(m.I!=0&&(m.g==l||Yc(m.h,l))){if(!l.L&&Yc(m.h,l)&&m.I==3){try{var T=m.Ba.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var N=T;if(N[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<l.F)il(m),nl(m);else break e;nh(m),It(18)}}else m.xa=N[1],0<m.xa-m.K&&N[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=to(c(m.Va,m),6e3));_g(m.h)<=1&&m.ta&&(m.ta=void 0)}else ci(m,11)}else if((l.L||m.g==l)&&il(m),!k(d))for(N=m.Ba.g.parse(d),d=0;d<N.length;d++){let we=N[d];const rt=we[0];if(!(rt<=m.K))if(m.K=rt,we=we[1],m.I==2)if(we[0]=="c"){m.M=we[1],m.ba=we[2];const In=we[3];In!=null&&(m.ka=In,m.j.info("VER="+m.ka));const hi=we[4];hi!=null&&(m.za=hi,m.j.info("SVER="+m.za));const _r=we[5];_r!=null&&typeof _r=="number"&&_r>0&&(T=1.5*_r,m.O=T,m.j.info("backChannelRequestTimeoutMs_="+T)),T=m;const wr=l.g;if(wr){const ol=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ol){var L=T.h;L.g||ol.indexOf("spdy")==-1&&ol.indexOf("quic")==-1&&ol.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Xc(L,L.h),L.h=null))}if(T.G){const ih=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;ih&&(T.wa=ih,Ae(T.J,T.G,ih))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-l.F,m.j.info("Handshake RTT: "+m.T+"ms")),T=m;var H=l;if(T.na=Hg(T,T.L?T.ba:null,T.W),H.L){wg(T.h,H);var re=H,Je=T.O;Je&&(re.H=Je),re.D&&(Gc(re),Ja(re)),T.g=H}else Fg(T);m.i.length>0&&rl(m)}else we[0]!="stop"&&we[0]!="close"||ci(m,7);else m.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?ci(m,7):th(m):we[0]!="noop"&&m.l&&m.l.qa(we),m.A=0)}}eo(4)}catch{}}var iC=class{constructor(l,d){this.g=l,this.map=d}};function yg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _g(l){return l.h?1:l.g?l.g.size:0}function Yc(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Xc(l,d){l.g?l.g.add(d):l.h=d}function wg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}yg.prototype.cancel=function(){if(this.i=Eg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Eg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.G);return d}return y(l.i)}var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sC(l,d){if(l){l=l.split("&");for(let m=0;m<l.length;m++){const T=l[m].indexOf("=");let N,L=null;T>=0?(N=l[m].substring(0,T),L=l[m].substring(T+1)):N=l[m],d(N,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof gr?(this.l=l.l,so(this,l.j),this.o=l.o,this.g=l.g,oo(this,l.u),this.h=l.h,Jc(this,Pg(l.i)),this.m=l.m):l&&(d=String(l).match(Tg))?(this.l=!1,so(this,d[1]||"",!0),this.o=ao(d[2]||""),this.g=ao(d[3]||"",!0),oo(this,d[4]),this.h=ao(d[5]||"",!0),Jc(this,d[6]||"",!0),this.m=ao(d[7]||"")):(this.l=!1,this.i=new uo(null,this.l))}gr.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(lo(d,Sg,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(lo(d,Sg,!0),"@"),l.push(ro(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&l.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(lo(m,m.charAt(0)=="/"?lC:aC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",lo(m,cC)),l.join("")},gr.prototype.resolve=function(l){const d=An(this);let m=!!l.j;m?so(d,l.j):m=!!l.o,m?d.o=l.o:m=!!l.g,m?d.g=l.g:m=l.u!=null;var T=l.h;if(m)oo(d,l.u);else if(m=!!l.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var N=d.h.lastIndexOf("/");N!=-1&&(T=d.h.slice(0,N+1)+T)}if(N=T,N==".."||N==".")T="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){T=N.lastIndexOf("/",0)==0,N=N.split("/");const L=[];for(let H=0;H<N.length;){const re=N[H++];re=="."?T&&H==N.length&&L.push(""):re==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),T&&H==N.length&&L.push("")):(L.push(re),T=!0)}T=L.join("/")}else T=N}return m?d.h=T:m=l.i.toString()!=="",m?Jc(d,Pg(l.i)):m=!!l.m,m&&(d.m=l.m),d};function An(l){return new gr(l)}function so(l,d,m){l.j=m?ao(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function oo(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Jc(l,d,m){d instanceof uo?(l.i=d,hC(l.i,l.l)):(m||(d=lo(d,uC)),l.i=new uo(d,l.l))}function Ae(l,d,m){l.i.set(d,m)}function Za(l){return Ae(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ao(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function lo(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,oC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function oC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Sg=/[#\/\?@]/g,aC=/[#\?:]/g,lC=/[#\?]/g,uC=/[#\?@]/g,cC=/#/g;function uo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ui(l){l.g||(l.g=new Map,l.h=0,l.i&&sC(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=uo.prototype,t.add=function(l,d){ui(this),this.i=null,l=zi(this,l);let m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function xg(l,d){ui(l),d=zi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Cg(l,d){return ui(l),d=zi(l,d),l.g.has(d)}t.forEach=function(l,d){ui(this),this.g.forEach(function(m,T){m.forEach(function(N){l.call(d,N,T,this)},this)},this)};function Ag(l,d){ui(l);let m=[];if(typeof d=="string")Cg(l,d)&&(m=m.concat(l.g.get(zi(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)m=m.concat(l[d]);return m}t.set=function(l,d){return ui(this),this.i=null,l=zi(this,l),Cg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=Ag(this,l),l.length>0?String(l[0]):d):d};function Ig(l,d,m){xg(l,d),m.length>0&&(l.i=null,l.g.set(zi(l,d),y(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let T=0;T<d.length;T++){var m=d[T];const N=ro(m);m=Ag(this,m);for(let L=0;L<m.length;L++){let H=N;m[L]!==""&&(H+="="+ro(m[L])),l.push(H)}}return this.i=l.join("&")};function Pg(l){const d=new uo;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function zi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function hC(l,d){d&&!l.j&&(ui(l),l.i=null,l.g.forEach(function(m,T){const N=T.toLowerCase();T!=N&&(xg(this,T),Ig(this,N,m))},l)),l.j=d}function dC(l,d){const m=new no;if(o.Image){const T=new Image;T.onload=h(yr,m,"TestLoadImage: loaded",!0,d,T),T.onerror=h(yr,m,"TestLoadImage: error",!1,d,T),T.onabort=h(yr,m,"TestLoadImage: abort",!1,d,T),T.ontimeout=h(yr,m,"TestLoadImage: timeout",!1,d,T),o.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else d(!1)}function fC(l,d){const m=new no,T=new AbortController,N=setTimeout(()=>{T.abort(),yr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:T.signal}).then(L=>{clearTimeout(N),L.ok?yr(m,"TestPingServer: ok",!0,d):yr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(N),yr(m,"TestPingServer: error",!1,d)})}function yr(l,d,m,T,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),T(m)}catch{}}function pC(){this.g=new zc}function Zc(l){this.i=l.Sb||null,this.h=l.ab||!1}f(Zc,Js),Zc.prototype.g=function(){return new el(this.i,this.h)};function el(l,d){de.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(el,de),t=el.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,ho(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Rg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Rg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?co(this):ho(this),this.readyState==3&&Rg(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,co(this))},t.Na=function(l){this.g&&(this.response=l,co(this))},t.ga=function(){this.g&&co(this)};function co(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ho(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function ho(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(el.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function kg(l){let d="";return K(l,function(m,T){d+=T,d+=":",d+=m,d+=`\r
`}),d}function eh(l,d,m){e:{for(T in m){var T=!1;break e}T=!0}T||(m=kg(m),typeof l=="string"?m!=null&&ro(m):Ae(l,d,m))}function Ue(l){de.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ue,de);var mC=/^https?$/i,gC=["POST","PUT"];t=Ue.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,m,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hg.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){Vg(this,L);return}if(l=m||"",m=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var N in T)m.set(N,T[N]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())m.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),N=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(gC,d,void 0)>=0)||T||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of m)this.g.setRequestHeader(L,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Vg(this,L)}};function Vg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,Dg(l),tl(l)}function Dg(l){l.A||(l.A=!0,Se(l,"complete"),Se(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Se(this,"complete"),Se(this,"abort"),tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tl(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?bg(this):this.Xa())},t.Xa=function(){bg(this)};function bg(l){if(l.h&&typeof s<"u"){if(l.v&&vr(l)==4)setTimeout(l.Ca.bind(l),0);else if(Se(l,"readystatechange"),vr(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var T;if(T=L===0){let H=String(l.D).match(Tg)[1]||null;!H&&o.self&&o.self.location&&(H=o.self.location.protocol.slice(0,-1)),T=!mC.test(H?H.toLowerCase():"")}m=T}if(m)Se(l,"complete"),Se(l,"success");else{l.o=6;try{var N=vr(l)>2?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.ca()+"]",Dg(l)}}finally{tl(l)}}}}function tl(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const m=l.g;l.g=null,d||Se(l,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),ee(d)}};function Ng(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function yC(l){const d={};l=(l.g&&vr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(k(l[T]))continue;var m=tC(l[T]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=d[N]||[];d[N]=L,L.push(m)}Y(d,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function Mg(l){this.za=0,this.i=[],this.j=new no,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fo("baseRetryDelayMs",5e3,l),this.Za=fo("retryDelaySeedMs",1e4,l),this.Ta=fo("forwardChannelMaxRetries",2,l),this.va=fo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new yg(l&&l.concurrentRequestLimit),this.Ba=new pC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Mg.prototype,t.ka=8,t.I=1,t.connect=function(l,d,m,T){It(0),this.W=l,this.H=d||{},m&&T!==void 0&&(this.H.OSID=m,this.H.OAID=T),this.F=this.X,this.J=Hg(this,null,this.W),rl(this)};function th(l){if(Lg(l),l.I==3){var d=l.V++,m=An(l.J);if(Ae(m,"SID",l.M),Ae(m,"RID",d),Ae(m,"TYPE","terminate"),po(l,m),d=new mr(l,l.j,d),d.M=2,d.A=Za(An(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=d.A,m=!0),m||(d.g=Wg(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Ja(d)}zg(l)}function nl(l){l.g&&(rh(l),l.g.cancel(),l.g=null)}function Lg(l){nl(l),l.v&&(o.clearTimeout(l.v),l.v=null),il(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function rl(l){if(!vg(l.h)&&!l.m){l.m=!0;var d=l.Ea;M||_(),O||(M(),O=!0),S.add(d,l),l.D=0}}function vC(l,d){return _g(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=to(c(l.Ea,l,d),$g(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const N=new mr(this,this.j,l);let L=this.o;if(this.U&&(L?(L=he(L),bt(L,this.U)):L=this.U),this.u!==null||this.R||(N.J=L,L=null),this.S)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var T=this.i[m];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(d+=T,d>4096){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=jg(this,N,d),m=An(this.J),Ae(m,"RID",l),Ae(m,"CVER",22),this.G&&Ae(m,"X-HTTP-Session-Id",this.G),po(this,m),L&&(this.R?d="headers="+ro(kg(L))+"&"+d:this.u&&eh(m,this.u,L)),Xc(this.h,N),this.Ra&&Ae(m,"TYPE","init"),this.S?(Ae(m,"$req",d),Ae(m,"SID","null"),N.U=!0,Kc(N,m,null)):Kc(N,m,d),this.I=2}}else this.I==3&&(l?Og(this,l):this.i.length==0||vg(this.h)||Og(this))};function Og(l,d){var m;d?m=d.l:m=l.V++;const T=An(l.J);Ae(T,"SID",l.M),Ae(T,"RID",m),Ae(T,"AID",l.K),po(l,T),l.u&&l.o&&eh(T,l.u,l.o),m=new mr(l,l.j,m,l.D+1),l.u===null&&(m.J=l.o),d&&(l.i=d.G.concat(l.i)),d=jg(l,m,1e3),m.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Xc(l.h,m),Kc(m,T,d)}function po(l,d){l.H&&K(l.H,function(m,T){Ae(d,T,m)}),l.l&&K({},function(m,T){Ae(d,T,m)})}function jg(l,d,m){m=Math.min(l.i.length,m);const T=l.l?c(l.l.Ka,l.l,l):null;e:{var N=l.i;let re=-1;for(;;){const Je=["count="+m];re==-1?m>0?(re=N[0].g,Je.push("ofs="+re)):re=0:Je.push("ofs="+re);let we=!0;for(let rt=0;rt<m;rt++){var L=N[rt].g;const In=N[rt].map;if(L-=re,L<0)re=Math.max(0,N[rt].g-100),we=!1;else try{L="req"+L+"_"||"";try{var H=In instanceof Map?In:Object.entries(In);for(const[hi,_r]of H){let wr=_r;a(_r)&&(wr=Nt(_r)),Je.push(L+hi+"="+encodeURIComponent(wr))}}catch(hi){throw Je.push(L+"type="+encodeURIComponent("_badmap")),hi}}catch{T&&T(In)}}if(we){H=Je.join("&");break e}}H=void 0}return l=l.i.splice(0,m),d.G=l,H}function Fg(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;M||_(),O||(M(),O=!0),S.add(d,l),l.A=0}}function nh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=to(c(l.Da,l),$g(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,Ug(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=to(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),nl(this),Ug(this))};function rh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function Ug(l){l.g=new mr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=An(l.na);Ae(d,"RID","rpc"),Ae(d,"SID",l.M),Ae(d,"AID",l.K),Ae(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ae(d,"TO",l.ia),Ae(d,"TYPE","xmlhttp"),po(l,d),l.u&&l.o&&eh(d,l.u,l.o),l.O&&(l.g.H=l.O);var m=l.g;l=l.ba,m.M=1,m.A=Za(An(d)),m.u=null,m.R=!0,pg(m,l)}t.Va=function(){this.C!=null&&(this.C=null,nl(this),nh(this),It(19))};function il(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Bg(l,d){var m=null;if(l.g==d){il(l),rh(l),l.g=null;var T=2}else if(Yc(l.h,d))m=d.G,wg(l.h,d),T=1;else return;if(l.I!=0){if(d.o)if(T==1){m=d.u?d.u.length:0,d=Date.now()-d.F;var N=l.D;T=Ya(),Se(T,new ug(T,m)),rl(l)}else Fg(l);else if(N=d.m,N==3||N==0&&d.X>0||!(T==1&&vC(l,d)||T==2&&nh(l)))switch(m&&m.length>0&&(d=l.h,d.i=d.i.concat(m)),N){case 1:ci(l,5);break;case 4:ci(l,10);break;case 3:ci(l,6);break;default:ci(l,2)}}}function $g(l,d){let m=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(m*=2),m*d}function ci(l,d){if(l.j.info("Error code "+d),d==2){var m=c(l.bb,l),T=l.Ua;const N=!T;T=new gr(T||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||so(T,"https"),Za(T),N?dC(T.toString(),m):fC(T.toString(),m)}else It(2);l.I=0,l.l&&l.l.pa(d),zg(l),Lg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function zg(l){if(l.I=0,l.ja=[],l.l){const d=Eg(l.h);(d.length!=0||l.i.length!=0)&&(C(l.ja,d),C(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function Hg(l,d,m){var T=m instanceof gr?An(m):new gr(m);if(T.g!="")d&&(T.g=d+"."+T.g),oo(T,T.u);else{var N=o.location;T=N.protocol,d=d?d+"."+N.hostname:N.hostname,N=+N.port;const L=new gr(null);T&&so(L,T),d&&(L.g=d),N&&oo(L,N),m&&(L.h=m),T=L}return m=l.G,d=l.wa,m&&d&&Ae(T,m,d),Ae(T,"VER",l.ka),po(l,T),T}function Wg(l,d,m){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new Ue(new Zc({ab:m})):new Ue(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qg(){}t=qg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sl(){}sl.prototype.g=function(l,d){return new qt(l,d)};function qt(l,d){de.call(this),this.g=new Mg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!k(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!k(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Hi(this)}f(qt,de),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){th(this.g)},qt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.v&&(m={},m.__data__=Nt(l),l=m);d.i.push(new iC(d.Ya++,l)),d.I==3&&rl(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,qt.Z.N.call(this)};function Kg(l){Zs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}f(Kg,Zs);function Gg(){Hc.call(this),this.status=1}f(Gg,Hc);function Hi(l){this.g=l}f(Hi,qg),Hi.prototype.ra=function(){Se(this.g,"a")},Hi.prototype.qa=function(l){Se(this.g,new Kg(l))},Hi.prototype.pa=function(l){Se(this.g,new Gg)},Hi.prototype.oa=function(){Se(this.g,"b")},sl.prototype.createWebChannel=sl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,_S=function(){return new sl},vS=function(){return Ya()},yS=ai,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,nu=Xa,cg.COMPLETE="complete",gS=cg,Qa.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",de.prototype.listen=de.prototype.J,Vo=Qa,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,mS=Ue}).apply(typeof Vl<"u"?Vl:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore",F0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new iS("@firebase/firestore");function qi(){return bi.logLevel}function W(t,...e){if(bi.logLevel<=ce.DEBUG){const n=e.map(Rm);bi.debug(`Firestore (${Gs}): ${t}`,...n)}}function cr(t,...e){if(bi.logLevel<=ce.ERROR){const n=e.map(Rm);bi.error(`Firestore (${Gs}): ${t}`,...n)}}function bs(t,...e){if(bi.logLevel<=ce.WARN){const n=e.map(Rm);bi.warn(`Firestore (${Gs}): ${t}`,...n)}}function Rm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wS(t,r,n)}function wS(t,e,n){let r=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cr(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||wS(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class cM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hM{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new ES(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class dM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new U0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=mM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Rf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Jh(i)===Jh(s)?se(i,s):Jh(i)?1:-1}return se(t.length,e.length)}const gM=55296,yM=57343;function Jh(t){const e=t.charCodeAt(0);return e>=gM&&e<=yM}function Ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=kn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return se(e.length,n.length)}static compareSegments(e,n){const r=kn.isNumericId(e),i=kn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?kn.extractNumericId(e).compare(kn.extractNumericId(n)):Rf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class Pe extends kn{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends kn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return vM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new pt([B0])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Pe.fromString(e))}static fromName(e){return new Q(Pe.fromString(e).popFirst(5))}static empty(){return new Q(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e,n){if(!n)throw new G(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _M(t,e,n,r){if(e===!0&&r===!0)throw new G(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $0(t){if(!Q.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z0(t){if(Q.isDocumentKey(t))throw new G(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vm(t);throw new G(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function za(t,e){if(!SS(t))throw new G(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,W0=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*W0);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H0)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(za(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:Qe("string",Re._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Re(0,0))}static max(){return new te(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=-1;function wM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Gr(i,Q.empty(),e)}function EM(t){return new Gr(t.readTime,t.key,Ca)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(te.min(),Q.empty(),Ca)}static max(){return new Gr(te.max(),Q.empty(),Ca)}}function TM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==SM)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ys(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=-1;function Ac(t){return t==null}function Bu(t){return t===0&&1/t==-1/0}function AM(t){return typeof t=="number"&&Number.isInteger(t)&&!Bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="";function IM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q0(e)),e=PM(t.get(n),e);return q0(e)}function PM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case xS:n+="";break;default:n+=s}}return n}function q0(t){return t+xS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(e){return new G0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class G0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new nt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AS("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const RM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=RM.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="server_timestamp",PS="__type__",RS="__previous_value__",kS="__local_write_time__";function bm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PS])==null?void 0:r.stringValue)===IS}function Ic(t){const e=t.mapValue.fields[RS];return bm(e)?Ic(e):e}function Aa(t){const e=Qr(t.mapValue.fields[kS].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,i,s,o,a,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const $u="(default)";class Ia{constructor(e,n){this.projectId=e,this.database=n||$u}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database===$u}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="__type__",VM="__max__",bl={mapValue:{}},DS="__vector__",zu="value";function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bm(t)?4:bM(t)?9007199254740991:DM(t)?10:11:J(28295,{value:t})}function Bn(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Aa(t).isEqual(Aa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qr(i.timestampValue),a=Qr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Yr(i.bytesValue).isEqual(Yr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?Bu(o)===Bu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ns(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(K0(o)!==K0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Bn(o[u],a[u])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Pa(t,e){return(t.values||[]).find(n=>Bn(n,e))!==void 0}function Ms(t,e){if(t===e)return 0;const n=Xr(t),r=Xr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Q0(t.timestampValue,e.timestampValue);case 4:return Q0(Aa(t),Aa(e));case 5:return Rf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Yr(s),u=Yr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=se(a[c],u[c]);if(h!==0)return h}return se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=se(He(s.latitude),He(o.latitude));return a!==0?a:se(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,y,C,I;const a=s.fields||{},u=o.fields||{},c=(p=a[zu])==null?void 0:p.arrayValue,h=(y=u[zu])==null?void 0:y.arrayValue,f=se(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:Y0(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bl.mapValue&&o===bl.mapValue)return 0;if(s===bl.mapValue)return 1;if(o===bl.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=Rf(u[f],h[f]);if(p!==0)return p;const y=Ms(a[u[f]],c[h[f]]);if(y!==0)return y}return se(u.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function Q0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Qr(t),r=Qr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function Y0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ms(n[i],r[i]);if(s)return s}return se(n.length,r.length)}function Ls(t){return kf(t)}function kf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Yr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kf(n.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function ru(t){switch(Xr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ic(t);return e?16+ru(e):16;case 5:return 2*t.stringValue.length;case 6:return Yr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ru(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ii(r.fields,(s,o)=>{i+=s.length+ru(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function Vf(t){return!!t&&"integerValue"in t}function Nm(t){return!!t&&"arrayValue"in t}function X0(t){return!!t&&"nullValue"in t}function J0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function DM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[VS])==null?void 0:r.stringValue)===DS}function Qo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return{...t}}function bM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.value=e}static empty(){return new Ot({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Qo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];iu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ot(Qo(this.value))}}function bS(t){const e=[];return ii(t.fields,(n,r)=>{const i=new pt([n]);if(iu(r)){const s=bS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,te.min(),te.min(),te.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,te.min(),te.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,te.min(),te.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function Z0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Ms(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function NM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{}class et extends NS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LM(e,n,r):n==="array-contains"?new FM(e,r):n==="in"?new UM(e,r):n==="not-in"?new BM(e,r):n==="array-contains-any"?new $M(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OM(e,r):new jM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ms(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends NS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $n(e,n)}matches(e){return MS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MS(t){return t.op==="and"}function LS(t){return MM(t)&&MS(t)}function MM(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function Df(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Ls(t.value);if(LS(t))return t.filters.map(e=>Df(e)).join(",");{const e=t.filters.map(n=>Df(n)).join(",");return`${t.op}(${e})`}}function OS(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(t,e):t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OS(o,i.filters[a]),!0):!1}(t,e):void J(19439)}function jS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(jS).join(" ,")+"}"}(t):"Filter"}class LM extends et{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class OM extends et{constructor(e,n){super(e,"in",n),this.keys=FS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jM extends et{constructor(e,n){super(e,"not-in",n),this.keys=FS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class FM extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nm(n)&&Pa(n.arrayValue,this.value)}}class UM extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pa(this.value.arrayValue,n)}}class BM extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pa(this.value.arrayValue,n)}}class $M extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function t_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new zM(t,e,n,r,i,s,o)}function Mm(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ac(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ls(r)).join(",")),e.Te=n}return e.Te}function Lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e_(t.startAt,e.startAt)&&e_(t.endAt,e.endAt)}function bf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HM(t,e,n,r,i,s,o,a){return new Pc(t,e,n,r,i,s,o,a)}function US(t){return new Pc(t)}function n_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WM(t){return t.collectionGroup!==null}function Yo(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Wu(s,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Wu(pt.keyField(),r))}return e.Ie}function On(t){const e=ne(t);return e.Ee||(e.Ee=qM(e,Yo(t))),e.Ee}function qM(t,e){if(t.limitType==="F")return t_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return t_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nf(t,e,n){return new Pc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rc(t,e){return Lm(On(t),On(e))&&t.limitType===e.limitType}function BS(t){return`${Mm(On(t))}|lt:${t.limitType}`}function Ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jS(i)).join(", ")}]`),Ac(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ls(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ls(i)).join(",")),`Target(${r})`}(On(t))}; limitType=${t.limitType})`}function kc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Yo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=Z0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Yo(r),i)||r.endAt&&!function(o,a,u){const c=Z0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Yo(r),i))}(t,e)}function KM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $S(t){return(e,n)=>{let r=!1;for(const i of Yo(t)){const s=GM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function GM(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Ms(u,c):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Fe(Q.comparator);function hr(){return QM}const zS=new Fe(Q.comparator);function Do(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function HS(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return Xo()}function WS(){return Xo()}function Xo(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const YM=new Fe(Q.comparator),XM=new nt(Q.comparator);function oe(...t){let e=XM;for(const n of t)e=e.add(n);return e}const JM=new nt(se);function ZM(){return JM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function eL(t,e){return AM(e)?qS(e):Om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function tL(t,e,n){return t instanceof Ra?function(i,s){const o={fields:{[PS]:{stringValue:IS},[kS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&bm(s)&&(s=Ic(s)),s&&(o.fields[RS]=s),{mapValue:o}}(n,e):t instanceof ka?GS(t,e):t instanceof Va?QS(t,e):function(i,s){const o=KS(i,s),a=r_(o)+r_(i.Ae);return Vf(o)&&Vf(i.Ae)?qS(a):Om(i.serializer,a)}(t,e)}function nL(t,e,n){return t instanceof ka?GS(t,e):t instanceof Va?QS(t,e):n}function KS(t,e){return t instanceof qu?function(r){return Vf(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ra extends Vc{}class ka extends Vc{constructor(e){super(),this.elements=e}}function GS(t,e){const n=YS(e);for(const r of t.elements)n.some(i=>Bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Va extends Vc{constructor(e){super(),this.elements=e}}function QS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(i=>!Bn(i,r));return{arrayValue:{values:n}}}class qu extends Vc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r_(t){return He(t.integerValue||t.doubleValue)}function YS(t){return Nm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n){this.field=e,this.transform=n}}function iL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ka&&i instanceof ka||r instanceof Va&&i instanceof Va?Ns(r.elements,i.elements,Bn):r instanceof qu&&i instanceof qu?Bn(r.Ae,i.Ae):r instanceof Ra&&i instanceof Ra}(t.transform,e.transform)}class sL{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dc{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jm(t.key,En.none()):new Ha(t.key,t.data,En.none());{const n=t.data,r=Ot.empty();let i=new nt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new si(t.key,r,new Qt(i.toArray()),En.none())}}function oL(t,e,n){t instanceof Ha?function(i,s,o){const a=i.value.clone(),u=s_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof si?function(i,s,o){if(!su(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=s_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(JS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jo(t,e,n,r){return t instanceof Ha?function(s,o,a,u){if(!su(s.precondition,o))return a;const c=s.value.clone(),h=o_(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(s,o,a,u){if(!su(s.precondition,o))return a;const c=o_(s.fieldTransforms,u,o),h=o.data;return h.setAll(JS(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return su(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function aL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KS(r.transform,i||null);s!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,s))}return n||null}function i_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ns(r,i,(s,o)=>iL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ha extends Dc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends Dc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s_(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nL(o,a,n[i]))}return r}function o_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tL(s,o,e))}return r}class jm extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lL extends Dc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=XS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ns(this.mutations,e.mutations,(n,r)=>i_(n,r))&&Ns(this.baseMutations,e.baseMutations,(n,r)=>i_(n,r))}}class Fm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return YM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Fm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ue;function dL(t){switch(t){case U.OK:return J(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function ZS(t){if(t===void 0)return cr("GRPC error has no .code"),U.UNKNOWN;switch(t){case qe.OK:return U.OK;case qe.CANCELLED:return U.CANCELLED;case qe.UNKNOWN:return U.UNKNOWN;case qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case qe.INTERNAL:return U.INTERNAL;case qe.UNAVAILABLE:return U.UNAVAILABLE;case qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case qe.NOT_FOUND:return U.NOT_FOUND;case qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case qe.ABORTED:return U.ABORTED;case qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case qe.DATA_LOSS:return U.DATA_LOSS;default:return J(39323,{code:t})}}(ue=qe||(qe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Br([4294967295,4294967295],0);function a_(t){const e=fL().encode(t),n=new pS;return n.update(e),new Uint8Array(n.digest())}function l_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,s],0)]}class Um{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(pL)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a_(e),[r,i]=l_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Um(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=a_(e),[r,i]=l_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bc(te.min(),i,new Fe(se),hr(),oe())}}class Wa{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wa(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class ex{constructor(e,n){this.targetId=e,this.Ce=n}}class tx{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),r=oe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:s})}}),new Wa(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mL{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Nl(),this.He=Nl(),this.Ye=new Fe(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(bf(s))if(r===0){const o=new Q(s.path);this.et(n,o,St.newNoDocument(o,te.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Yr(r).toUint8Array()}catch(u){if(u instanceof AS)return bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Um(o,i,s)}catch(u){return bs(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&bf(a.target)){const u=new Q(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,St.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=oe();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new bc(e,n,this.Ye,this.je,r);return this.je=hr(),this.Je=Nl(),this.He=Nl(),this.Ye=new Fe(se),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new u_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nl(){return new Fe(Q.comparator)}function c_(){return new Fe(Q.comparator)}const gL={asc:"ASCENDING",desc:"DESCENDING"},yL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vL={and:"AND",or:"OR"};class _L{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mf(t,e){return t.useProto3Json||Ac(e)?e:{value:e}}function Ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wL(t,e){return Ku(t,e.toTimestamp())}function jn(t){return ge(!!t,49232),te.fromTimestamp(function(n){const r=Qr(n);return new Re(r.seconds,r.nanos)}(t))}function Bm(t,e){return Lf(t,e).canonicalString()}function Lf(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rx(t){const e=Pe.fromString(t);return ge(lx(e),10190,{key:e.toString()}),e}function Of(t,e){return Bm(t.databaseId,e.path)}function Zh(t,e){const n=rx(e);if(n.get(1)!==t.databaseId.projectId)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(sx(n))}function ix(t,e){return Bm(t.databaseId,e)}function EL(t){const e=rx(t);return e.length===4?Pe.emptyPath():sx(e)}function jf(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sx(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function h_(t,e,n){return{name:Of(t,e),fields:n.value.mapValue.fields}}function TL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(ge(h===void 0||typeof h=="string",58123),yt.fromBase64String(h||"")):(ge(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),yt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?U.UNKNOWN:ZS(c.code);return new G(h,c.message||"")}(o);n=new tx(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Zh(t,r.document.name),s=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):te.min(),a=new Ot({mapValue:{fields:r.document.fields}}),u=St.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ou(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Zh(t,r.document),s=r.readTime?jn(r.readTime):te.min(),o=St.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Zh(t,r.document),s=r.removedTargetIds||[];n=new ou([],s,i,null)}else{if(!("filter"in e))return J(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new hL(i,s),a=r.targetId;n=new ex(a,o)}}return n}function SL(t,e){let n;if(e instanceof Ha)n={update:h_(t,e.key,e.value)};else if(e instanceof jm)n={delete:Of(t,e.key)};else if(e instanceof si)n={update:h_(t,e.key,e.data),updateMask:DL(e.fieldMask)};else{if(!(e instanceof lL))return J(16599,{Vt:e.type});n={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ra)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ka)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Va)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)}(t,e.precondition)),n}function xL(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?jn(i.updateTime):jn(s);return o.isEqual(te.min())&&(o=jn(s)),new sL(o,i.transformResults||[])}(n,e))):[]}function CL(t,e){return{documents:[ix(t,e.path)]}}function AL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ix(t,i);const s=function(c){if(c.length!==0)return ax($n.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Gi(p.field),direction:RL(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function IL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=ox(f);return p instanceof $n&&LS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(C){return new Wu(Qi(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ac(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,y=f.values||[];return new Hu(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,y=f.values||[];return new Hu(y,p)}(n.endAt)),HM(e,i,o,s,a,"F",u,c)}function PL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ox(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qi(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qi(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qi(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qi(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Qi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>ox(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function RL(t){return gL[t]}function kL(t){return yL[t]}function VL(t){return vL[t]}function Gi(t){return{fieldPath:t.canonicalString()}}function Qi(t){return pt.fromServerFormat(t.fieldPath)}function ax(t){return t instanceof et?function(n){if(n.op==="=="){if(J0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:Gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(n.field),op:kL(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(i=>ax(i));return r.length===1?r[0]:{compositeFilter:{op:VL(n.op),filters:r}}}(t):J(54877,{filter:t})}function DL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.yt=e}}function NL(t){const e=IL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.Cn=new LL}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Gr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class LL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ux=41943040;class Mt{static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(ux,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Os(0)}static cr(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",OL=1048576;function p_([t,e],[n,r]){const i=se(t,n);return i===0?se(e,r):i}class jL{constructor(e){this.Ir=e,this.buffer=new nt(p_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(f_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ys(n)?W(f_,"Ignoring IndexedDB error during garbage collection: ",n):await Qs(n)}await this.Vr(3e5)})}}class UL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Cc.ce);const r=new jL(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(d_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),qi()<=ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function BL(t,e){return new UL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jo(r.mutation,i,Qt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Do();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=hr();const o=Xo(),a=function(){return Xo()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof si)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Jo(h.mutation,c,h.mutation.getFieldMask(),Re.now())):o.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new zL(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Xo();let i=new Fe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Qt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=WS();h.forEach(p=>{if(!s.has(p)){const y=XS(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Ti());let a=Ca,u=s;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(h=>({batchId:a,changes:HS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Do();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Do();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(f,p){return new Pc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,St.newInvalidDocument(h)))});let a=Do();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Jo(h.mutation,c,Qt.empty(),Re.now()),kc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:NL(i.bundledQuery),readTime:jn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.overlays=new Fe(Q.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ti();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Ti(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ti(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ti(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cL(n,r));let s=this.qr.get(n);s===void 0&&(s=oe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.Qr=new nt(it.$r),this.Ur=new nt(it.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new it(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Pe([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Pe([])),r=new it(n,e),i=new it(n,e+1);let s=oe();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(it.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new uL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Dm:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(se);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new it(new Q(s),0);let a=new nt(se);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new it(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.ri=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():St.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TM(EM(h),r)<=0||(i.has(h.key)||kc(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YL(this)}getSize(e){return F.resolve(this.size)}}class YL extends $L{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.persistence=e,this.si=new Fi(n=>Mm(n),Lm),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=Os.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Os(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cc(0),this.li=!1,this.li=!0,this.hi=new KL,this.referenceDelegate=e(this),this.Pi=new XL(this),this.indexManager=new ML,this.remoteDocumentCache=function(i){return new QL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new bL(n),this.Ii=new WL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new JL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JL extends xM{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new zm(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gu{constructor(e,n){this.persistence=e,this.pi=new Fi(r=>IM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BL(this,n)}static mi(e,n){return new Gu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ru(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Hm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Kb()?8:CM(Wb())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ZL;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(qi()<=ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(qi()<=ce.DEBUG&&W("QueryEngine","Query:",Ki(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(qi()<=ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(n))):F.resolve())}ys(e,n){if(n_(n))return F.resolve(null);let r=On(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=On(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,Nf(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return n_(n)||i.isEqual(te.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(qi()<=ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ki(n)),this.vs(e,o,n,wM(i,Ca)).next(a=>a))})}Ds(e,n){let r=new nt($S(e));return n.forEach((i,s)=>{kc(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return qi()<=ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ki(n)),this.ps.getDocumentsMatchingQuery(e,n,Gr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",t4=3e8;class n4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Fe(se),this.xs=new Fi(s=>Mm(s),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function r4(t,e,n,r){return new n4(t,e,n,r)}async function hx(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=oe();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function i4(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,p=f.keys();let y=F.resolve();return p.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(I=>{const R=c.docVersions.get(C);ge(R!==null,48541),I.version.compareTo(R)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dx(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function s4(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(yt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(f,y),function(I,R,w){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=t4?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,y,h)&&a.push(n.Pi.updateTargetData(s,y))});let u=hr(),c=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(o4(s,o,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function o4(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=hr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):W(Wm,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function a4(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l4(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ff(t,e,n){const r=ne(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ys(o))throw o;W(Wm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function m_(t,e,n){const r=ne(t);let i=te.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ne(u),p=f.xs.get(h);return p!==void 0?F.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,h)}(r,o,On(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:oe())).next(a=>(u4(r,KM(e),a),{documents:a,Qs:s})))}function u4(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class g_{constructor(){this.activeTargetIds=ZM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c4{constructor(){this.Mo=new g_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function Uf(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="RestConnection",d4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$u?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Uf(),a=this.zo(e,n.toUriEncodedString());W(ed,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(a),h=xc(c);return this.Jo(e,a,u,r,h).then(f=>(W(ed,`Received RPC '${e}' ${o}: `,f),f),f=>{throw bs(ed,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=d4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class m4 extends f4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Uf();return new Promise((a,u)=>{const c=new mS;c.setWithCredentials(!0),c.listenOnce(gS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case nu.NO_ERROR:const f=c.getResponseJson();W(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case nu.TIMEOUT:W(wt,`RPC '${e}' ${o} timed out`),u(new G(U.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const p=c.getStatus();if(W(wt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const I=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(C.status);u(new G(I,C.message))}else u(new G(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(U.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);W(wt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Uf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_S(),a=vS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");W(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);this.I_(f);let p=!1,y=!1;const C=new p4({Yo:R=>{y?W(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(W(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),W(wt,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Zo:()=>f.close()}),I=(R,w,v)=>{R.listen(w,E=>{try{v(E)}catch(D){setTimeout(()=>{throw D},0)}})};return I(f,Vo.EventType.OPEN,()=>{y||(W(wt,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),I(f,Vo.EventType.CLOSE,()=>{y||(y=!0,W(wt,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(f))}),I(f,Vo.EventType.ERROR,R=>{y||(y=!0,bs(wt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.a_(new G(U.UNAVAILABLE,"The operation could not be completed")))}),I(f,Vo.EventType.MESSAGE,R=>{var w;if(!y){const v=R.data[0];ge(!!v,16349);const E=v,D=(E==null?void 0:E.error)||((w=E[0])==null?void 0:w.error);if(D){W(wt,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let O=function(x){const P=qe[x];if(P!==void 0)return ZS(P)}(M),S=D.message;O===void 0&&(O=U.INTERNAL,S="Unknown error status: "+M+" with message "+D.message),y=!0,C.a_(new G(O,S)),f.close()}else W(wt,`RPC '${e}' stream ${i} received:`,v),C.u_(v)}}),I(a,yS.STAT_EVENT,R=>{R.stat===Pf.PROXY?W(wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pf.NOPROXY&&W(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return new _L(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class px{constructor(e,n,r,i,s,o,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g4 extends px{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TL(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?jn(o.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=jf(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=bf(u)?{documents:CL(s,u)}:{query:AL(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nx(s,o.resumeToken);const c=Mf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Ku(s,o.snapshotVersion.toTimestamp());const c=Mf(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=PL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=jf(this.serializer),n.removeTarget=e,this.q_(n)}}class y4 extends px{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xL(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jf(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{}class _4 extends v4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Lf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Lf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="RemoteStore";class E4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(W(Mi,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.Ea.add(4),await qa(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Mc(c)}(this))})}),this.Ra=new w4(r,i)}}async function Mc(t){if(Ui(t))for(const e of t.da)await e(!0)}async function qa(t){for(const e of t.da)await e(!1)}function mx(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qm(n)?Gm(n):Xs(n).O_()&&Km(n,e))}function qm(t,e){const n=ne(t),r=Xs(n);n.Ia.delete(e),r.O_()&&gx(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ui(n)&&n.Ra.set("Unknown"))}function Km(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xs(t).Y_(e)}function gx(t,e){t.Va.Ue(e),Xs(t).Z_(e)}function Gm(t){t.Va=new mL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xs(t).start(),t.Ra.ua()}function Qm(t){return Ui(t)&&!Xs(t).x_()&&t.Ia.size>0}function Ui(t){return ne(t).Ea.size===0}function yx(t){t.Va=void 0}async function T4(t){t.Ra.set("Online")}async function S4(t){t.Ia.forEach((e,n)=>{Km(t,e)})}async function x4(t,e){yx(t),Qm(t)?(t.Ra.ha(e),Gm(t)):t.Ra.set("Unknown")}async function C4(t,e,n){if(t.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){W(Mi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qu(t,r)}else if(e instanceof ou?t.Va.Ze(e):e instanceof ex?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await dx(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),gx(s,u);const f=new Rr(h.target,u,c,h.sequenceNumber);Km(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W(Mi,"Failed to raise snapshot:",r),await Qu(t,r)}}async function Qu(t,e,n){if(!Ys(e))throw e;t.Ea.add(1),await qa(t),t.Ra.set("Offline"),n||(n=()=>dx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Mi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mc(t)})}function vx(t,e){return e().catch(n=>Qu(t,n,e))}async function Lc(t){const e=ne(t),n=Jr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dm;for(;A4(e);)try{const i=await a4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,I4(e,i)}catch(i){await Qu(e,i)}_x(e)&&wx(e)}function A4(t){return Ui(t)&&t.Ta.length<10}function I4(t,e){t.Ta.push(e);const n=Jr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function _x(t){return Ui(t)&&!Jr(t).x_()&&t.Ta.length>0}function wx(t){Jr(t).start()}async function P4(t){Jr(t).ra()}async function R4(t){const e=Jr(t);for(const n of t.Ta)e.ea(n.mutations)}async function k4(t,e,n){const r=t.Ta.shift(),i=Fm.from(r,e,n);await vx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Lc(t)}async function V4(t,e){e&&Jr(t).X_&&await async function(r,i){if(function(o){return dL(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();Jr(r).B_(),await vx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lc(r)}}(t,e),_x(t)&&wx(t)}async function w_(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),W(Mi,"RemoteStore received new credentials");const r=Ui(n);n.Ea.add(3),await qa(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mc(n)}async function D4(t,e){const n=ne(t);e?(n.Ea.delete(2),await Mc(n)):e||(n.Ea.add(2),await qa(n),n.Ra.set("Unknown"))}function Xs(t){return t.ma||(t.ma=function(n,r,i){const s=ne(n);return s.sa(),new g4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:T4.bind(null,t),t_:S4.bind(null,t),r_:x4.bind(null,t),H_:C4.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Qm(t)?Gm(t):t.Ra.set("Unknown")):(await t.ma.stop(),yx(t))})),t.ma}function Jr(t){return t.fa||(t.fa=function(n,r,i){const s=ne(n);return s.sa(),new y4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:P4.bind(null,t),r_:V4.bind(null,t),ta:R4.bind(null,t),na:k4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Lc(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Mi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ym(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(t,e){if(cr("AsyncQueue",`${e}: ${t}`),Ys(t))return new G(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static emptySet(e){return new ws(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ws)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ws;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new Fe(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class js{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new js(e,n,ws.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class N4{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=T_(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new G(U.ABORTED,"Firestore shutting down"))}}function T_(){return new Fi(t=>BS(t),Rc)}async function M4(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new b4,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Xm(o,`Initialization of query '${Ki(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Jm(n)}async function L4(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function O4(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Jm(n)}function j4(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Jm(t){t.Ca.forEach(e=>{e.next()})}var Bf,S_;(S_=Bf||(Bf={})).Ma="default",S_.Cache="cache";class F4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.key=e}}class Tx{constructor(e){this.key=e}}class U4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=$S(e),this.tu=new ws(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const p=i.get(h),y=kc(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?C!==I&&(r.track({type:3,doc:y}),R=!0):this.su(p,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),R=!0):p&&!y&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(a=!0)),R&&(y?(o=o.add(y),s=I?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(y,C){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Rt:R})}};return I(y)-I(C)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new js(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=oe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new Tx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Ex(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return js.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class B4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $4{constructor(e){this.key=e,this.hu=!1}}class z4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fi(a=>BS(a),Rc),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(Q.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=Os.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H4(t,e,n=!0){const r=Px(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Sx(r,e,n,!0),i}async function W4(t,e){const n=Px(t);await Sx(n,e,!0,!1)}async function Sx(t,e,n,r){const i=await l4(t.localStore,On(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await q4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&mx(t.remoteStore,i),a}async function q4(t,e,n,r,i){t.pu=(f,p,y)=>async function(I,R,w,v){let E=R.view.ru(w);E.Cs&&(E=await m_(I.localStore,R.query,!1).then(({documents:S})=>R.view.ru(S,E)));const D=v&&v.targetChanges.get(R.targetId),M=v&&v.targetMismatches.get(R.targetId)!=null,O=R.view.applyChanges(E,I.isPrimaryClient,D,M);return C_(I,R.targetId,O.au),O.snapshot}(t,f,p,y);const s=await m_(t.localStore,e,!0),o=new U4(e,s.Qs),a=o.ru(s.documents),u=Wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);C_(t,n,c.au);const h=new B4(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function K4(t,e,n){const r=ne(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Rc(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ff(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qm(r.remoteStore,i.targetId),$f(r,i.targetId)}).catch(Qs)):($f(r,i.targetId),await Ff(r.localStore,i.targetId,!0))}async function G4(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qm(n.remoteStore,r.targetId))}async function Q4(t,e,n){const r=nO(t);try{const i=await function(o,a){const u=ne(o),c=Re.now(),h=a.reduce((y,C)=>y.add(C.key),oe());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=hr(),I=oe();return u.Ns.getEntries(y,h).next(R=>{C=R,C.forEach((w,v)=>{v.isValidDocument()||(I=I.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{f=R;const w=[];for(const v of a){const E=aL(v,f.get(v.key).overlayedDocument);E!=null&&w.push(new si(v.key,E,bS(E.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,w,a)}).next(R=>{p=R;const w=R.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(y,R.batchId,w)})}).then(()=>({batchId:p.batchId,changes:HS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Fe(se)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ka(r,i.changes),await Lc(r.remoteStore)}catch(i){const s=Xm(i,"Failed to persist write");n.reject(s)}}async function xx(t,e){const n=ne(t);try{const r=await s4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ge(o.hu,14607):i.removedDocuments.size>0&&(ge(o.hu,42227),o.hu=!1))}),await Ka(n,r,e)}catch(r){await Qs(r)}}function x_(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ne(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&Jm(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y4(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Fe(Q.comparator);o=o.insert(s,St.newNoDocument(s,te.min()));const a=oe().add(s),u=new bc(te.min(),new Map,new Fe(se),o,a);await xx(r,u),r.du=r.du.remove(s),r.Au.delete(e),eg(r)}else await Ff(r.localStore,e,!1).then(()=>$f(r,e,n)).catch(Qs)}async function X4(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await i4(n.localStore,e);Ax(n,r,null),Cx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ka(n,i)}catch(i){await Qs(i)}}async function J4(t,e,n){const r=ne(t);try{const i=await function(o,a){const u=ne(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(ge(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);Ax(r,e,n),Cx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ka(r,i)}catch(i){await Qs(i)}}function Cx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ax(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function $f(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Ix(t,r)})}function Ix(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qm(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),eg(t))}function C_(t,e,n){for(const r of n)r instanceof Ex?(t.Ru.addReference(r.key,e),Z4(t,r)):r instanceof Tx?(W(Zm,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Ix(t,r.key)):J(19791,{wu:r})}function Z4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(Zm,"New document in limbo: "+n),t.Eu.add(r),eg(t))}function eg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new $4(n)),t.du=t.du.insert(n,r),mx(t.remoteStore,new Rr(On(US(n.path)),r,"TargetPurposeLimboResolution",Cc.ce))}}async function Ka(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Hm.As(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,p=>F.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>F.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Ys(f))throw f;W(Wm,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),C=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(p,I)}}}(r.localStore,s))}async function eO(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){W(Zm,"User change. New user:",e.toKey());const r=await hx(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new G(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ka(n,r.Ls)}}function tO(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return oe().add(r.key);{let i=oe();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function Px(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y4.bind(null,e),e.Pu.H_=O4.bind(null,e.eventManager),e.Pu.yu=j4.bind(null,e.eventManager),e}function nO(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J4.bind(null,e),e}class Yu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return r4(this.persistence,new e4,e.initialUser,this.serializer)}Cu(e){return new cx(zm.mi,this.serializer)}Du(e){return new c4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yu.provider={build:()=>new Yu};class rO extends Yu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof Gu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new cx(r=>Gu.mi(r,n),this.serializer)}}class zf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await D4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N4}()}createDatastore(e){const n=Nc(e.databaseInfo.databaseId),r=function(s){return new m4(s)}(e.databaseInfo);return function(s,o,a,u){return new _4(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new E4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x_(this.syncEngine,n,0),function(){return v_.v()?new v_:new h4}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new z4(i,s,o,a,u,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);W(Mi,"RemoteStore shutting down."),s.Ea.add(5),await qa(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zf.provider={build:()=>new zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class sO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{W(Zr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Zr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nd(t,e){t.asyncQueue.verifyOperationInProgress(),W(Zr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await oO(t);W(Zr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w_(e.remoteStore,i)),t._onlineComponents=e}async function oO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Zr,"Using user provided OfflineComponentProvider");try{await nd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await nd(t,new Yu)}}else W(Zr,"Using default OfflineComponentProvider"),await nd(t,new rO(void 0));return t._offlineComponents}async function Rx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Zr,"Using user provided OnlineComponentProvider"),await A_(t,t._uninitializedComponentsProvider._online)):(W(Zr,"Using default OnlineComponentProvider"),await A_(t,new zf))),t._onlineComponents}function aO(t){return Rx(t).then(e=>e.syncEngine)}async function lO(t){const e=await Rx(t),n=e.eventManager;return n.onListen=H4.bind(null,e.syncEngine),n.onUnlisten=K4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G4.bind(null,e.syncEngine),n}function uO(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new iO({next:p=>{h.Nu(),o.enqueueAndForget(()=>L4(s,f)),p.fromCache&&u.source==="server"?c.reject(new G(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new F4(a,h,{includeMetadataChanges:!0,qa:!0});return M4(s,f)}(await lO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firestore.googleapis.com",P_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vx,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OL)throw new G(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_M("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kx(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uM;switch(r.type){case"firstParty":return new fM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=I_.get(n);r&&(W("ComponentProvider","Removing Datastore"),I_.delete(n),r.terminate())}(this),Promise.resolve()}}function cO(t,e,n,r={}){var c;t=Ni(t,Oc);const i=xc(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(eS(`https://${a}`),nS("Firestore",!0)),s.host!==Vx&&s.host!==a&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!Fu(u,o)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Et.MOCK_USER;else{h=tS(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Et(p)}t._authCredentials=new cM(new ES(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class ot{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(za(n,ot._jsonSchema))return new ot(e,r||null,new Q(Pe.fromString(n.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:Qe("string",ot._jsonSchemaVersion),referencePath:Qe("string")};class zr extends jc{constructor(e,n,r){super(e,n,US(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new Q(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function Si(t,e,...n){if(t=lr(t),TS("collection","path",e),t instanceof Oc){const r=Pe.fromString(e,...n);return z0(r),new zr(t,null,r)}{if(!(t instanceof ot||t instanceof zr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return z0(r),new zr(t.firestore,null,r)}}function Hf(t,e,...n){if(t=lr(t),arguments.length===1&&(e=km.newId()),TS("doc","path",e),t instanceof Oc){const r=Pe.fromString(e,...n);return $0(r),new ot(t,null,new Q(r))}{if(!(t instanceof ot||t instanceof zr))throw new G(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return $0(r),new ot(t.firestore,t instanceof zr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fx(this,"async_queue_retry"),this._c=()=>{const r=td();r&&W(k_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=td();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=td();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ys(e))throw e;W(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",D_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Ym.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function D_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ga extends Oc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new V_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function hO(t,e){const n=typeof t=="object"?t:hS(),r=typeof t=="string"?t:$u,i=aS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=JT("firestore");s&&cO(i,...s)}return i}function Dx(t){if(t._terminated)throw new G(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dO(t),t._firestoreClient}function dO(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,c,h){return new kM(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,kx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this._byteString=e}static fromBase64String(e){try{return new on(yt.fromBase64String(e))}catch(n){throw new G(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new on(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:on._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(za(e,on._jsonSchema))return on.fromBase64String(e.bytes)}}on._jsonSchemaVersion="firestore/bytes/1.0",on._jsonSchema={type:Qe("string",on._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(za(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:Qe("string",Fn._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Un._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(za(e,Un._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Un(e.vectorValues);throw new G(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Un._jsonSchemaVersion="firestore/vectorValue/1.0",Un._jsonSchema={type:Qe("string",Un._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^__.*__$/;class pO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ha(e,this.data,n,this.fieldTransforms)}}class bx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class tg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nx(this.Ac)&&fO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nc(e)}Cc(e,n,r,i=!1){return new tg({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mx(t){const e=t._freezeSettings(),n=Nc(t._databaseId);return new mO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gO(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);rg("Data must be an object, but it was:",o,r);const a=Lx(r,o);let u,c;if(s.merge)u=new Qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=Wf(e,f,n);if(!o.contains(p))throw new G(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jx(h,p)||h.push(p)}u=new Qt(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new pO(new Ot(a),u,c)}class Bc extends Uc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bc}}class ng extends Uc{_toFieldTransform(e){return new rL(e.path,new Ra)}isEqual(e){return e instanceof ng}}function yO(t,e,n,r){const i=t.Cc(1,e,n);rg("Data must be an object, but it was:",i,r);const s=[],o=Ot.empty();ii(r,(u,c)=>{const h=ig(e,u,n);c=lr(c);const f=i.yc(h);if(c instanceof Bc)s.push(h);else{const p=$c(c,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new Qt(s);return new bx(o,a,i.fieldTransforms)}function vO(t,e,n,r,i,s){const o=t.Cc(1,e,n),a=[Wf(e,r,n)],u=[i];if(s.length%2!=0)throw new G(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Wf(e,s[p])),u.push(s[p+1]);const c=[],h=Ot.empty();for(let p=a.length-1;p>=0;--p)if(!jx(c,a[p])){const y=a[p];let C=u[p];C=lr(C);const I=o.yc(y);if(C instanceof Bc)c.push(y);else{const R=$c(C,I);R!=null&&(c.push(y),h.set(y,R))}}const f=new Qt(c);return new bx(h,f,o.fieldTransforms)}function $c(t,e){if(Ox(t=lr(t)))return rg("Unsupported field value:",e,t),Lx(t,e);if(t instanceof Uc)return function(r,i){if(!Nx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=$c(a,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Re.fromDate(r);return{timestampValue:Ku(i.serializer,s)}}if(r instanceof Re){const s=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,s)}}if(r instanceof Fn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof on)return{bytesValue:nx(i.serializer,r._byteString)};if(r instanceof ot){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Un)return function(o,a){return{mapValue:{fields:{[VS]:{stringValue:DS},[zu]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return Om(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Vm(r)}`)}(t,e)}function Lx(t,e){const n={};return CS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const s=$c(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ox(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof Fn||t instanceof on||t instanceof ot||t instanceof Uc||t instanceof Un)}function rg(t,e,n){if(!Ox(n)||!SS(n)){const r=Vm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Wf(t,e,n){if((e=lr(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return ig(t,e);throw Xu("Field path arguments must be of type string or ",t,!1,void 0,n)}const _O=new RegExp("[~\\*/\\[\\]]");function ig(t,e,n){if(e.search(_O)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fc(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(U.INVALID_ARGUMENT,a+t+u)}function jx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ux("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wO extends Fx{data(){return super.data()}}function Ux(t,e){return typeof e=="string"?ig(t,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class TO{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ii(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[zu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>He(o.doubleValue));return new Un(n)}convertGeoPoint(e){return new Fn(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ic(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Aa(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);ge(lx(r),9688,{name:e});const i=new Ia(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends Fx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ux("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Es._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:Qe("string",Es._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class au extends Es{data(e={}){return super.data(e)}}class Ts{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new au(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xO(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:Qe("string",Ts._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class CO extends TO{constructor(e){super(),this.firestore=e}convertBytes(e){return new on(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,n)}}function Ju(t){t=Ni(t,jc);const e=Ni(t.firestore,Ga),n=Dx(e),r=new CO(e);return EO(t._query),uO(n,t._query).then(i=>new Ts(e,r,t,i))}function AO(t,e,n,...r){t=Ni(t,ot);const i=Ni(t.firestore,Ga),s=Mx(i);let o;return o=typeof(e=lr(e))=="string"||e instanceof Fc?vO(s,"updateDoc",t._key,e,n,r):yO(s,"updateDoc",t._key,e),sg(i,[o.toMutation(t._key,En.exists(!0))])}function IO(t){return sg(Ni(t.firestore,Ga),[new jm(t._key,En.none())])}function rd(t,e){const n=Ni(t.firestore,Ga),r=Hf(t),i=SO(t.converter,e);return sg(n,[gO(Mx(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,En.exists(!1))]).then(()=>r)}function sg(t,e){return function(r,i){const s=new $r;return r.asyncQueue.enqueueAndForget(async()=>Q4(await aO(r),i,s)),s.promise}(Dx(t),e)}function b_(){return new ng("serverTimestamp")}(function(e,n=!0){(function(i){Gs=i})(uS),Sa(new Ds("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ga(new hM(r.getProvider("auth-internal")),new pM(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(j0,F0,e),Ur(j0,F0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firebasestorage.googleapis.com",PO="storageBucket",RO=2*60*1e3,kO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends ji{constructor(e,n,r=0){super(id(e),`Firebase Storage: ${n} (${id(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return id(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zn||(zn={}));function id(t){return"storage/"+t}function VO(){const t="An unknown error occurred, please check the error payload for server response.";return new qn(zn.UNKNOWN,t)}function DO(){return new qn(zn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bO(){return new qn(zn.CANCELED,"User canceled the upload/download.")}function NO(t){return new qn(zn.INVALID_URL,"Invalid URL '"+t+"'.")}function MO(t){return new qn(zn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function N_(t){return new qn(zn.INVALID_ARGUMENT,t)}function $x(){return new qn(zn.APP_DELETED,"The Firebase app was deleted.")}function LO(t){return new qn(zn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vn.makeFromUrl(e,n)}catch{return new vn(e,"")}if(r.path==="")return r;throw MO(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${i}/o${p}`,"i"),C={bucket:1,path:3},I=n===Bx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",w=new RegExp(`^https?://${I}/${i}/${R}`,"i"),E=[{regex:a,indices:u,postModify:s},{regex:y,indices:C,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<E.length;D++){const M=E[D],O=M.regex.exec(e);if(O){const S=O[M.indices.bucket];let _=O[M.indices.path];_||(_=""),r=new vn(S,_),M.postModify(r);break}}if(r==null)throw NO(e);return r}}class OO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,t(y,u())},R)}function p(){s&&clearTimeout(s)}function y(R,...w){if(c){p();return}if(R){p(),h.call(null,R,...w);return}if(u()||o){p(),h.call(null,R,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let C=!1;function I(R){C||(C=!0,p(),!c&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,I(!0)},n),I}function FO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){return t!==void 0}function M_(t,e,n,r){if(r<e)throw N_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw N_(`Invalid value for '${t}'. Expected ${n} or less.`)}function BO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zu||(Zu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,i,s,o,a,u,c,h,f,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,I)=>{this.resolve_=C,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ol(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Zu.NO_ERROR,u=s.getStatus();if(!a||$O(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Zu.ABORT;r(!1,new Ol(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Ol(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());UO(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=VO();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?$x():bO();o(u)}else{const u=DO();o(u)}};this.canceled_?n(!1,new Ol(!1,null,!0)):this.backoffId_=jO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ol{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GO(t,e,n,r,i,s,o=!0,a=!1){const u=BO(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return qO(h,e),HO(h,n),WO(h,s),KO(h,r),new zO(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this._service=e,n instanceof vn?this._location=n:this._location=vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ec(e,n)}get root(){const e=new vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YO(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const n=new vn(this._location.bucket,e);return new ec(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LO(e)}}function L_(t,e){const n=e==null?void 0:e[PO];return n==null?null:vn.makeFromBucketSpec(n,t)}function XO(t,e,n,r={}){t.host=`${e}:${n}`;const i=xc(e);i&&(eS(`https://${t.host}/b`),nS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:tS(s,t.app.options.projectId))}class JO{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=Bx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RO,this._maxUploadRetryTime=kO,this._requests=new Set,i!=null?this._bucket=vn.makeFromBucketSpec(i,this._host):this._bucket=L_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,e):this._bucket=L_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(lS(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ec(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new OO($x());{const o=GO(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const O_="@firebase/storage",j_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="storage";function ZO(t=hS(),e){t=lr(t);const r=aS(t,zx).getImmediate({identifier:e}),i=JT("storage");return i&&e3(r,...i),r}function e3(t,e,n,r={}){XO(t,e,n,r)}function t3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new JO(n,r,i,e,uS)}function n3(){Sa(new Ds(zx,t3,"PUBLIC").setMultipleInstances(!0)),Ur(O_,j_,""),Ur(O_,j_,"esm2020")}n3();const r3={apiKey:"AIzaSyCoKmYtoTLJooWDGxRoAHECkH_7obFwcl0",authDomain:"pasteleria-landing.firebaseapp.com",projectId:"pasteleria-landing",storageBucket:"pasteleria-landing.firebasestorage.app",messagingSenderId:"880216670695",appId:"1:880216670695:web:d41b7c4305cd27b972bd42",measurementId:"G-WMM1JB5T6T"},Hx=cS(r3),Jn=hO(Hx);ZO(Hx);const Wx=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},qx=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",Kx=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},i3=(t,e)=>{let n=Kx();!n&&t&&(n=Wx(t));const r="f_auto,q_auto,dpr_auto";return n&&e?`${qx(n)}/${r},w_960,c_limit/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${r},w_960,c_limit/`):t},s3=(t,e)=>{let n=Kx();!n&&t&&(n=Wx(t));const r=[320,480,640,800,960,1200],i="f_auto,q_auto,dpr_auto,c_limit";if(n&&e)return r.map(s=>`${qx(n)}/${i},w_${s}/${e} ${s}w`).join(", ");if(t!=null&&t.includes("/image/upload/"))return r.map(s=>t.replace("/upload/",`/upload/${i},w_${s}/`)+` ${s}w`).join(", ")};function o3({items:t,sizes:e="(max-width:560px) 86vw, (max-width:900px) 78vw, 540px",ariaLabel:n="Carrusel",maxItems:r=12}){const i=A.useRef(null),s=A.useMemo(()=>t.slice(0,r),[t,r]),o=A.useCallback(u=>{const c=i.current;c&&c.scrollBy({left:u*Math.round(c.clientWidth*.95),behavior:"smooth"})},[]),a=u=>{u.key==="ArrowRight"&&o(1),u.key==="ArrowLeft"&&o(-1)};return s.length===0?null:g.jsxs("div",{className:"carousel",children:[g.jsx("button",{className:"car-btn car-btn--prev",onClick:()=>o(-1),"aria-label":"Anterior",children:""}),g.jsx("div",{ref:i,className:"car-track",tabIndex:0,"aria-roledescription":"Carrusel","aria-label":n,onKeyDown:a,children:s.map(u=>{const c=i3(u.imageUrl,u.publicId),h=s3(u.imageUrl,u.publicId);return g.jsx("div",{className:"car-slide",children:g.jsx("div",{className:"car-frame",children:g.jsx("img",{src:c,srcSet:h,sizes:e,alt:"Trabajo reciente",loading:"lazy",decoding:"async",width:960,height:720})})},u.id)})}),g.jsx("button",{className:"car-btn car-btn--next",onClick:()=>o(1),"aria-label":"Siguiente",children:""})]})}const a3=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},l3=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",u3=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},c3=(t,e,n=480)=>{let r=u3();!r&&t&&(r=a3(t));const i="f_auto,q_auto,dpr_auto,c_limit";return r&&e?`${l3(r)}/${i},w_${n}/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${i},w_${n}/`):t};function h3({items:t,maxItems:e=8,onSelect:n}){const r=A.useMemo(()=>t.slice(0,e),[t,e]);return r.length?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"gallery-grid","aria-label":"Vista rpida de trabajos",children:r.map((i,s)=>{const o=c3(i.imageUrl,i.publicId,480);return g.jsx("article",{className:"photo-tile photo-tile--plain",children:g.jsx("button",{className:"thumb-wrap",onClick:()=>n==null?void 0:n(s),"aria-label":"Ver grande",children:g.jsx("img",{src:o,alt:"Trabajo reciente",loading:"lazy",decoding:"async",width:480,height:480,style:{aspectRatio:"1 / 1",objectFit:"contain"}})})},i.id)})}),g.jsx("div",{className:"load-wrap narrow-560",children:g.jsx("a",{className:"btn",href:"/galeria",children:"Ver galera completa"})})]}):null}function d3(t){const[e,n]=A.useState(!1);return A.useEffect(()=>{var s;const r=window.matchMedia(t),i=()=>n(r.matches);return i(),(s=r.addEventListener)==null||s.call(r,"change",i),()=>{var o;return(o=r.removeEventListener)==null?void 0:o.call(r,"change",i)}},[t]),e}const f3=t=>{if(!t)return;const e=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);return e==null?void 0:e[1]},p3=t=>t?`https://res.cloudinary.com/${t}/image/upload`:"",m3=()=>{var n;const t=import.meta,e=(n=t==null?void 0:t.env)==null?void 0:n.VITE_CLOUDINARY_CLOUD_NAME;return typeof e=="string"?e:void 0},g3=(t,e,n=1600)=>{let r=m3();!r&&t&&(r=f3(t));const i="f_auto,q_auto,dpr_auto,c_limit";return r&&e?`${p3(r)}/${i},w_${n}/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/${i},w_${n}/`):t};function y3({items:t,index:e,onClose:n,onPrev:r,onNext:i}){const s=A.useRef(null);A.useEffect(()=>{const u=c=>{c.key==="Escape"&&n(),c.key==="ArrowLeft"&&r(),c.key==="ArrowRight"&&i()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[n,r,i]);const o=t[e],a=g3(o.imageUrl,o.publicId);return g.jsx("div",{className:"lb-overlay",role:"dialog","aria-modal":"true","aria-label":"Foto ampliada",onClick:n,children:g.jsxs("div",{className:"lb-content",onClick:u=>u.stopPropagation(),children:[g.jsx("button",{className:"lb-close","aria-label":"Cerrar",onClick:n,children:""}),g.jsx("button",{className:"lb-nav lb-prev","aria-label":"Anterior",onClick:r,children:""}),g.jsxs("figure",{className:"lb-figure",children:[g.jsx("img",{src:a,alt:"Trabajo ampliado",loading:"eager",decoding:"async",onTouchStart:u=>{s.current=u.touches[0].clientX},onTouchMove:u=>{if(s.current==null)return;const c=u.touches[0].clientX-s.current;Math.abs(c)>50&&(c>0?r():i(),s.current=null)},onTouchEnd:()=>{s.current=null}}),g.jsxs("figcaption",{className:"lb-cap",children:[e+1," / ",t.length]})]}),g.jsx("button",{className:"lb-nav lb-next","aria-label":"Siguiente",onClick:i,children:""})]})})}const v3=t=>{const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e};function _3(){const[t,e]=A.useState([]),[n,r]=A.useState(!0),i=d3("(min-width: 900px)"),[s,o]=A.useState(!1),[a,u]=A.useState(0),c=i?12:8,h=A.useMemo(()=>t.slice(0,c),[t,c]);A.useEffect(()=>{(async()=>{r(!0);try{const v=(await Ju(Si(Jn,"gallery"))).docs.map(E=>{var O;const D=E.data(),M=typeof(D==null?void 0:D.createdAt)=="number"&&D.createdAt||typeof(D==null?void 0:D.createdAt)=="object"&&((O=D.createdAt)==null?void 0:O.toMillis)&&D.createdAt.toMillis()||0;return{id:E.id,imageUrl:(D==null?void 0:D.imageUrl)??"",publicId:D==null?void 0:D.publicId,createdAt:M}});e(v3(v))}finally{r(!1)}})()},[]);const f=A.useCallback(R=>{u(R),o(!0)},[]),p=A.useCallback(()=>o(!1),[]),y=A.useCallback(()=>u(R=>(R-1+h.length)%h.length),[h.length]),C=A.useCallback(()=>u(R=>(R+1)%h.length),[h.length]),I=A.useMemo(()=>t.length>0,[t]);return g.jsxs(Sc,{id:"trabajos",variant:"surface","aria-label":"Algunos de nuestros trabajos",children:[g.jsxs("div",{className:"container",children:[g.jsxs("header",{className:"gal-header","data-reveal":!0,children:[g.jsxs("div",{children:[g.jsx("h2",{className:"h2",children:"Algunos de nuestros trabajos"}),g.jsx("p",{className:"lead",children:"Un vistazo rpido a lo que hacemos con amor "})]}),i&&g.jsx("div",{className:"btn-group",children:g.jsx("a",{className:"btn",href:"/galeria","aria-label":"Ver ms trabajos",children:"Ver ms"})})]}),n&&g.jsx("div",{className:"empty","data-reveal":!0,"aria-live":"polite",children:g.jsx("p",{children:"Cargando"})}),!n&&I&&g.jsx(g.Fragment,{children:i?g.jsx(o3,{items:t,maxItems:12,ariaLabel:"Trabajos recientes"}):g.jsx(h3,{items:t,maxItems:8,onSelect:f})}),!n&&!I&&g.jsx("div",{className:"empty","data-reveal":!0,children:g.jsx("p",{children:"An no hay elementos para mostrar."})})]}),g.jsx("div",{className:"divider","aria-hidden":"true"}),s&&g.jsx(y3,{items:h,index:a,onClose:p,onPrev:y,onNext:C})]})}const w3=1600,E3=.82,T3=8;function S3(){const[t,e]=A.useState([]),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[u,c]=A.useState(""),[h,f]=A.useState([]),[p,y]=A.useState(!1),[C,I]=A.useState(!1),R=A.useRef(null),w=A.useRef(null),[v,E]=A.useState([]),[D,M]=A.useState(!1),[O,S]=A.useState(!1),_=A.useRef(null),x=A.useRef(null),[P,V]=A.useState({done:0,total:0});A.useEffect(()=>{(async()=>{const Te=(await Ju(Si(Jn,"categories"))).docs.map(pe=>{const Xe=pe.data(),ae=(Xe==null?void 0:Xe.name)??"";return ae?{id:pe.id,name:ae}:null}).filter(pe=>pe!==null);e(Te)})()},[]),A.useEffect(()=>()=>h.forEach(j=>URL.revokeObjectURL(j.preview)),[h]),A.useEffect(()=>()=>v.forEach(j=>URL.revokeObjectURL(j.preview)),[v]);const b=async j=>{j.preventDefault(),n.trim()&&(await rd(Si(Jn,"categories"),{name:n}),r(""),alert("Categora creada "))},k=async j=>{const X=j.type.startsWith("image/"),Te=/heic/i.test(j.type)||/\.heic$/i.test(j.name);if(!X||Te||j.size<=3*1024*1024)return j;const pe=await createImageBitmap(j),Xe=pe.width/pe.height,ae=Math.min(w3,pe.width),Wt=Math.round(ae/Xe),ut=document.createElement("canvas");ut.width=ae,ut.height=Wt,ut.getContext("2d").drawImage(pe,0,0,ae,Wt);const Se=j.type==="image/png"?"image/png":"image/jpeg",ct=await new Promise(le=>ut.toBlob(me=>le(me),Se,E3)),$=j.name.replace(/\.\w+$/,"")+(Se==="image/png"?".png":".jpg");return new File([ct],$,{type:Se})},Ee=j=>Array.from(j).filter(Te=>Te.type.startsWith("image/")).map(Te=>({file:Te,preview:URL.createObjectURL(Te)})),Ye=j=>{const X=Ee(j);f(Te=>{const pe=new Set(Te.map(ae=>`${ae.file.name}-${ae.file.size}`)),Xe=X.filter(ae=>!pe.has(`${ae.file.name}-${ae.file.size}`));return[...Te,...Xe]})},zt=j=>{const X=Ee(j);E(Te=>{const pe=new Set(Te.map(ae=>`${ae.file.name}-${ae.file.size}`)),Xe=X.filter(ae=>!pe.has(`${ae.file.name}-${ae.file.size}`));return[...Te,...Xe]})},ye=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),I(!0),j.dataTransfer.dropEffect="copy"},[]),z=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),I(!0)},[]),K=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),w.current&&!w.current.contains(j.relatedTarget)&&I(!1)},[]),Y=A.useCallback(j=>{var X;j.preventDefault(),j.stopPropagation(),I(!1),(X=j.dataTransfer.files)!=null&&X.length&&(Ye(j.dataTransfer.files),j.dataTransfer.clearData())},[]),he=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),S(!0),j.dataTransfer.dropEffect="copy"},[]),Ce=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),S(!0)},[]),bt=A.useCallback(j=>{j.preventDefault(),j.stopPropagation(),x.current&&!x.current.contains(j.relatedTarget)&&S(!1)},[]),ve=A.useCallback(j=>{var X;j.preventDefault(),j.stopPropagation(),S(!1),(X=j.dataTransfer.files)!=null&&X.length&&(zt(j.dataTransfer.files),j.dataTransfer.clearData())},[]);A.useEffect(()=>{const j=X=>{var pe;const Te=Array.from(((pe=X.clipboardData)==null?void 0:pe.files)||[]);Te.length&&zt(Te)};return window.addEventListener("paste",j),()=>window.removeEventListener("paste",j)},[]);const At=()=>{var j;return(j=_.current)==null?void 0:j.click()},lt=async j=>{if(j.preventDefault(),!h.length||!i)return alert("Selecciona categora y al menos 1 archivo");y(!0);try{throw new Error("Faltan VITE_CLOUDINARY_* en .env")}catch(X){console.error(X),alert("Error al subir imgenes ")}finally{y(!1)}},Ht=(j,X)=>Array.from({length:Math.ceil(j.length/X)},(Te,pe)=>j.slice(pe*X,pe*X+X)),Kn=async j=>{if(j.preventDefault(),!v.length)return alert("Agrega al menos 1 imagen");M(!0),V({done:0,total:v.length});try{throw new Error("Faltan VITE_CLOUDINARY_* en .env")}catch(X){console.error(X),alert("Error en carga masiva ")}finally{M(!1)}},oi=A.useMemo(()=>h.reduce((j,X)=>j+X.file.size,0),[h]),Bi=A.useMemo(()=>v.reduce((j,X)=>j+X.file.size,0),[v]);return g.jsxs("section",{className:"section admin-gallery",children:[g.jsxs("div",{className:"container",children:[g.jsx(Dn.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"h2",children:"Panel de Galera"}),g.jsx("p",{className:"lead",children:"Agrega categoras y sube fotos de pedidos"}),g.jsxs("form",{onSubmit:b,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(sb,{size:18})," Nueva categora"]}),g.jsxs("div",{className:"input-group",children:[g.jsx("input",{type:"text",placeholder:"Ej: Tortas Infantiles",value:n,onChange:j=>r(j.target.value)}),g.jsx("button",{type:"submit",className:"btn",children:"Crear"})]})]}),g.jsxs("form",{onSubmit:lt,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(ab,{size:18})," Subir imgenes"]}),g.jsxs("div",{className:"grid cols-2",children:[g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Ttulo base (opcional)"}),g.jsx("input",{type:"text",placeholder:"Ej: Torta de unicornio",value:u,onChange:j=>c(j.target.value)}),g.jsx("small",{className:"muted",children:"Si lo dejas vaco, se usar el nombre del archivo."})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Categora"}),g.jsxs("select",{value:i,onChange:j=>s(j.target.value),children:[g.jsx("option",{value:"",children:"Selecciona categora"}),t.map(j=>g.jsx("option",{value:j.name,children:j.name},j.id))]})]})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsxs("label",{children:[g.jsx(vb,{size:14})," Etiquetas (separadas por coma)"]}),g.jsx("input",{type:"text",placeholder:"Ej: chocolate, fondant, cumpleaos",value:o,onChange:j=>a(j.target.value)})]}),g.jsxs("div",{ref:w,className:`upload-zone ${C?"drag":""}`,onDragOver:ye,onDragEnter:z,onDragLeave:K,onDrop:Y,onClick:()=>{var j;return(j=R.current)==null?void 0:j.click()},role:"button",tabIndex:0,onKeyDown:j=>{var X;return(j.key==="Enter"||j.key===" ")&&((X=R.current)==null?void 0:X.click())},"aria-label":"Soltar o seleccionar imgenes",children:[g.jsx("input",{ref:R,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:j=>{const X=Array.from(j.target.files||[]);X.length&&Ye(X),R.current&&(R.current.value="")}}),g.jsxs("div",{className:"drop-inner",children:[g.jsx(Rl,{}),g.jsx("p",{className:"drop-title",children:"Arrastra y suelta tus imgenes aqu"}),g.jsx("p",{className:"muted",children:"o haz clic para seleccionarlas"})]}),h.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"preview-grid",children:h.map((j,X)=>g.jsxs("div",{className:"thumb",title:j.file.name,children:[g.jsx("img",{src:j.preview,alt:`Preview ${X+1}`}),g.jsxs("small",{children:[(j.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${j.file.name}-${X}`))}),g.jsxs("div",{className:"muted total",children:["Total seleccionado: ",(oi/(1024*1024)).toFixed(2)," ","MB"]})]})]}),g.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:p||!h.length,children:[p?g.jsx(S0,{className:"spin"}):g.jsx(Rl,{})," Subir"," ",h.length?`(${h.length})`:""]})]}),g.jsxs("form",{onSubmit:Kn,className:"admin-card",children:[g.jsxs("h3",{children:[g.jsx(gb,{size:18})," Carga masiva (sin ttulo, sin categora, sin tags)"]}),g.jsxs("p",{className:"muted",style:{marginTop:-6},children:["Sube todas tus imgenes tal cual. Se guardan vacas y se organizan en Cloudinary en ",g.jsx("code",{children:"pasteleria/gallery/bulk"}),"."]}),g.jsxs("div",{ref:x,className:`upload-zone ${O?"drag":""}`,onDragOver:he,onDragEnter:Ce,onDragLeave:bt,onDrop:ve,onClick:At,role:"button",tabIndex:0,onKeyDown:j=>(j.key==="Enter"||j.key===" ")&&At(),"aria-label":"Soltar o seleccionar imgenes (carga masiva)",children:[g.jsx("input",{ref:_,type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:j=>{const X=Array.from(j.target.files||[]);X.length&&zt(X),_.current&&(_.current.value="")}}),g.jsxs("div",{className:"drop-inner",children:[g.jsx(Rl,{}),g.jsx("p",{className:"drop-title",children:"Suelta aqu (o haz clic) para carga masiva"}),g.jsx("p",{className:"muted",children:"Se suben directamente sin metadatos"})]}),v.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"preview-grid",children:v.map((j,X)=>g.jsxs("div",{className:"thumb",title:j.file.name,children:[g.jsx("img",{src:j.preview,alt:`Bulk ${X+1}`}),g.jsxs("small",{children:[(j.file.size/(1024*1024)).toFixed(2)," MB"]})]},`${j.file.name}-${X}`))}),g.jsxs("div",{className:"muted total",children:["Total seleccionado:"," ",(Bi/(1024*1024)).toFixed(2)," MB"]})]})]}),D&&g.jsxs("div",{className:"muted",style:{margin:"8px 0"},children:["Subiendo... ",P.done,"/",P.total,g.jsx("div",{style:{height:8,background:"#eee",borderRadius:6,overflow:"hidden",marginTop:6},children:g.jsx("div",{style:{height:"100%",width:`${P.total?P.done/P.total*100:0}%`,background:"#6366f1",transition:"width .2s ease"}})})]}),g.jsxs("button",{type:"submit",className:"btn upload-btn",disabled:D||!v.length,children:[D?g.jsx(S0,{className:"spin"}):g.jsx(Rl,{})," Subir masivo ",v.length?`(${v.length})`:""]})]})]}),g.jsx("style",{children:`
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          margin-top: 1.5rem;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
        }
        h3 {
          display: flex;
          align-items: center;
          gap: 6px;
          font-weight: 700;
          margin-bottom: 0.75rem;
        }
        .input-group { display: flex; gap: 0.5rem; }
        .input-group input {
          flex: 1; padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .input-wrap { margin-bottom: 0.8rem; display: flex; flex-direction: column; }
        .input-wrap input, .input-wrap select {
          padding: 0.6rem 0.8rem; border-radius: 8px; border: 1px solid #ddd;
        }
        .upload-zone {
          margin: 1rem 0; border: 2px dashed #ccc; border-radius: 12px; padding: 1rem; text-align: center;
          transition: all .15s ease-in-out; cursor: pointer; outline: none;
        }
        .upload-zone:hover, .upload-zone:focus { border-color: #aaa; }
        .upload-zone.drag { border-color: #6366f1; background: #f8f9ff; }
        .drop-inner { display: grid; place-items: center; gap: 6px; color: #374151; }
        .drop-title { margin: 0; font-weight: 600; }
        .preview-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin-top: 12px; }
        .thumb {
          background: #fafafa; border: 1px solid #eee; border-radius: 10px; padding: 6px;
          display: flex; flex-direction: column; gap: 6px; align-items: center; justify-content: center;
        }
        .thumb img { width: 100%; height: 90px; object-fit: cover; border-radius: 6px; }
        .muted { color: #6b7280; font-size: 12px; }
        .total { margin-top: 6px; }
        .upload-btn { display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .spin { animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
      `})]})}const x3=(t,e=350)=>{const[n,r]=A.useState(t);return A.useEffect(()=>{const i=setTimeout(()=>r(t),e);return()=>clearTimeout(i)},[t,e]),n},C3=t=>(t||"sin-cat").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),Gx=(t,e,n=1200)=>{let r;if(!r&&t){const u=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);u!=null&&u[1]&&(r=u[1])}const i=r?`https://res.cloudinary.com/${r}/image/upload`:"",s=`f_auto,q_auto,dpr_auto,c_limit,w_${n}`;if(r&&e)return`${i}/${s}/${e}`;const a=t.split("?")[0].replace(/\/upload\/([^/]*,)?fl_attachment[^/]*\//i,"/upload/").replace(/\/upload\/([^/]*,)?attachment[^/]*\//i,"/upload/");return a.includes("/image/upload/")?a.replace("/upload/",`/upload/${s}/`):a},Qx=(t,e,n=420)=>{let r;if(!r&&t){const i=t.match(/res\.cloudinary\.com\/([^/]+)\/image\/upload\//i);i!=null&&i[1]&&(r=i[1])}return r&&e?`https://res.cloudinary.com/${r}/image/upload/f_auto,q_auto,h_${n},c_limit/${e}`:t!=null&&t.includes("/image/upload/")?t.replace("/upload/",`/upload/f_auto,q_auto,h_${n},c_limit/`):t},A3=(t,e)=>Qx(t,e,1600),I3=(t,e,n)=>{const r=Gx(n,e.publicId),i=`https://wa.me/${t}`,s=`Hola, deseo ms info de esta torta:
${r}`;return`${i}?text=${encodeURIComponent(s)}`};function Yx({id:t="galeria",title:e="Galera",pageSize:n=12,admin:r,branches:i}){const s=fr(),o=A.useMemo(()=>typeof r=="boolean"?r:s.pathname.startsWith("/dashboard"),[r,s.pathname]),a=[{id:"mir",name:"Sede Miranda",phone:"573155287225"},{id:"flo",name:"Sede Florida",phone:"573150815246"}],u=i!=null&&i.length?i:a,[c,h]=A.useState(!0),[f,p]=A.useState(null),[y,C]=A.useState([]),[I,R]=A.useState([]),[w,v]=A.useState([]),[E,D]=A.useState(""),[M,O]=A.useState("todas"),[S,_]=A.useState([]),[x,P]=A.useState("reciente"),[V,b]=A.useState(n),k=x3(E,300),[Ee,Ye]=A.useState(null),[zt,ye]=A.useState(null),[z,K]=A.useState(""),[Y,he]=A.useState(!1),[Ce,bt]=A.useState(!1),[ve,At]=A.useState(null),[lt,Ht]=A.useState(""),[Kn,oi]=A.useState(""),[Bi,j]=A.useState("");A.useEffect(()=>{(async()=>{try{h(!0),p(null);const me=(await Ju(Si(Jn,"categories"))).docs.map(Nt=>{var ee;return(ee=Nt.data())==null?void 0:ee.name}).filter(Nt=>!!Nt);R(me);const en=(await Ju(Si(Jn,"gallery"))).docs.map(Nt=>{var pr;const ee=Nt.data(),zc=typeof(ee==null?void 0:ee.createdAt)=="object"&&typeof((pr=ee.createdAt)==null?void 0:pr.toMillis)=="function"&&ee.createdAt.toMillis()||typeof(ee==null?void 0:ee.createdAt)=="number"&&ee.createdAt||typeof(ee==null?void 0:ee.createdAt)=="string"&&Date.parse(ee.createdAt)||0,Js=ee==null?void 0:ee.tags,Qa=Array.isArray(Js)?Js.filter(Zs=>typeof Zs=="string"):[];return{id:Nt.id,title:(ee==null?void 0:ee.title)||"",imageUrl:(ee==null?void 0:ee.imageUrl)??"",publicId:ee==null?void 0:ee.publicId,deleteToken:ee==null?void 0:ee.deleteToken,category:(ee==null?void 0:ee.category)||"",tags:Qa,createdAt:zc,description:ee==null?void 0:ee.description,author:ee==null?void 0:ee.author}});C(en);const Cn=new Set;en.forEach(Nt=>Nt.tags.forEach(ee=>ee&&Cn.add(ee))),v(Array.from(Cn).sort((Nt,ee)=>Nt.localeCompare(ee)))}catch(le){console.error(le),p("No se pudieron cargar los datos")}finally{h(!1)}})()},[]);const X=A.useMemo(()=>{let $=y;M!=="todas"&&($=$.filter(me=>me.category===M)),S.length&&($=$.filter(me=>S.every(Ne=>me.tags.includes(Ne))));const le=k.trim().toLowerCase();return le&&($=$.filter(me=>{const Ne=(me.title||"").toLowerCase().includes(le),en=me.tags.some(Cn=>Cn.toLowerCase().includes(le));return Ne||en})),$=[...$].sort((me,Ne)=>{if(x==="titulo")return(me.title||"").localeCompare(Ne.title||"");const en=new Date(me.createdAt||0).getTime(),Cn=new Date(Ne.createdAt||0).getTime();return x==="reciente"?Cn-en:en-Cn}),$},[y,M,S,k,x]);A.useEffect(()=>b(n),[k,M,S,x,n]);const Te=$=>_(le=>le.includes($)?le.filter(me=>me!==$):[...le,$]),pe=V<X.length,Xe=X.slice(0,V),ae=$=>{At($),Ht($.title||""),oi($.category||""),j($.tags.join(", ")),he(!0)},Wt=async()=>{if(!ve)return;const $=Hf(Jn,"gallery",ve.id),le=Bi.split(",").map(me=>me.trim()).filter(Boolean);await AO($,{title:lt,category:Kn,tags:le}),C(me=>me.map(Ne=>Ne.id===ve.id?{...Ne,title:lt,category:Kn,tags:le}:Ne)),he(!1),At(null)},ut=$=>{At($),bt(!0)},de=async $=>{const me=new FormData;return me.append("token",$),(await fetch("https://api.cloudinary.com/v1_1/undefined/delete_by_token",{method:"POST",body:me})).ok},Se=async $=>!1,ct=async()=>{if(ve)try{ve.deleteToken?await de(ve.deleteToken):ve.publicId&&await Se(ve.publicId),await IO(Hf(Jn,"gallery",ve.id)),C($=>$.filter(le=>le.id!==ve.id))}catch($){console.error($),alert("No se pudo eliminar (revisa consola).")}finally{bt(!1),At(null)}};return g.jsxs("section",{id:t,className:"section alt","aria-labelledby":`${t}-title`,children:[g.jsxs("div",{className:"container",children:[g.jsxs("header",{className:"gal-header",children:[g.jsxs("div",{children:[g.jsx("h2",{id:`${t}-title`,className:"h2",children:e}),g.jsx("p",{className:"lead",children:"Filtra por ttulo, etiquetas u ordena por fecha/ttulo."})]}),g.jsxs("div",{className:"gal-controls",children:[g.jsx("div",{className:"input-wrap",children:g.jsx("input",{type:"search",placeholder:"Buscar por ttulo o etiqueta",value:E,onChange:$=>D($.target.value),"aria-label":"Buscar en galer\\u00eda"})}),g.jsx("div",{className:"select-wrap",children:g.jsxs("select",{value:M,onChange:$=>O($.target.value),"aria-label":"Filtrar por categor\\u00eda",children:[g.jsx("option",{value:"todas",children:"Todas las categoras"}),I.map($=>g.jsx("option",{value:$,children:$},$))]})}),g.jsx("div",{className:"select-wrap",children:g.jsxs("select",{value:x,onChange:$=>P($.currentTarget.value),"aria-label":"Ordenar resultados",children:[g.jsx("option",{value:"reciente",children:"Ms recientes"}),g.jsx("option",{value:"antiguo",children:"Ms antiguos"}),g.jsx("option",{value:"titulo",children:"Por ttulo (A-Z)"})]})})]}),w.length>0&&g.jsxs("div",{className:"chips",role:"group","aria-label":"Filtrar por etiquetas",children:[w.map($=>{const le=S.includes($);return g.jsx("button",{className:`chip ${le?"active":""}`,onClick:()=>Te($),"aria-pressed":le,type:"button",children:$},$)}),S.length>0&&g.jsx("button",{className:"chip clear",onClick:()=>_([]),type:"button",children:"Limpiar etiquetas"})]})]}),c&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:"Cargando galera"})}),f&&!c&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:f})}),!c&&!f&&g.jsx(oT,{mode:"popLayout",children:g.jsxs("div",{className:"gallery-grid",children:[Xe.map($=>{const le=C3($.category),me=Qx($.imageUrl,$.publicId),Ne=Gx(A3($.imageUrl,$.publicId),$.publicId);return g.jsxs(Dn.figure,{className:"photo-tile photo-tile--plain",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.28},children:[g.jsxs("div",{className:"thumb-wrap thumb-wrap--frame clickable",onClick:()=>Ye(Ne),role:"button",tabIndex:0,children:[g.jsxs("span",{className:`ribbon ${le||"sin-cat"}`,children:[g.jsx("i",{"aria-hidden":!0,children:""})," ",$.category||"Sin categora"]}),g.jsx("img",{src:me,alt:$.title||"Pedido",loading:"lazy",decoding:"async"})]}),g.jsx("figcaption",{className:"tile-caption",children:o?g.jsxs("div",{className:"tile-actions",children:[g.jsx("button",{type:"button",className:"btn sm",onClick:()=>ae($),children:"Editar"}),g.jsx("button",{type:"button",className:"btn sm danger",onClick:()=>ut($),children:"Eliminar"})]}):g.jsx("div",{className:"tile-actions",children:g.jsx("button",{type:"button",className:"btn sm secondary",onClick:()=>{ye($),K(Ne)},children:"Ms info"})})})]},$.id)}),Xe.length===0&&g.jsx("div",{className:"empty",children:g.jsx("p",{children:"Sin resultados con los filtros actuales."})})]})}),!c&&!f&&pe&&g.jsx("div",{className:"load-wrap",children:g.jsx("button",{className:"btn",onClick:()=>b($=>$+n),type:"button",children:"Cargar ms"})})]}),Ee&&g.jsxs("div",{className:"image-viewer-backdrop",onClick:()=>Ye(null),role:"button",tabIndex:0,children:[g.jsx("img",{src:Ee,alt:"Vista ampliada",className:"image-viewer-img",onClick:$=>$.stopPropagation()}),g.jsx("button",{className:"image-viewer-close",onClick:()=>Ye(null),"aria-label":"Cerrar vista",type:"button",children:""})]}),zt&&g.jsx("div",{className:"modal-backdrop",onClick:()=>{ye(null),K("")},children:g.jsxs("div",{className:"modal",onClick:$=>$.stopPropagation(),children:[g.jsx("h3",{children:"A qu sede quieres escribir?"}),g.jsx("p",{className:"muted",style:{marginTop:0},children:"Enviaremos el link directo de esta imagen por WhatsApp."}),g.jsx("div",{className:"grid",children:u.map($=>{const le=I3($.phone,zt,z);return g.jsxs("a",{className:"btn",href:le,target:"_blank",rel:"noopener noreferrer",children:["WhatsApp ",$.name]},$.id)})}),g.jsx("div",{className:"modal-actions",children:g.jsx("button",{className:"btn secondary",onClick:()=>{ye(null),K("")},type:"button",children:"Cancelar"})})]})}),Y&&ve&&g.jsxs(F_,{onClose:()=>he(!1),title:"Editar imagen",children:[g.jsxs("div",{className:"grid cols-2",children:[g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Ttulo"}),g.jsx("input",{type:"text",value:lt,onChange:$=>Ht($.target.value)})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Categora"}),g.jsxs("select",{value:Kn,onChange:$=>oi($.target.value),children:[g.jsx("option",{value:"",children:"(sin categora)"}),I.map($=>g.jsx("option",{value:$,children:$},$))]})]})]}),g.jsxs("div",{className:"input-wrap",children:[g.jsx("label",{children:"Etiquetas (coma separadas)"}),g.jsx("input",{type:"text",value:Bi,onChange:$=>j($.target.value),placeholder:"chocolate, fondant, baby shower"})]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn",onClick:Wt,type:"button",children:"Guardar cambios"}),g.jsx("button",{className:"btn secondary",onClick:()=>he(!1),type:"button",children:"Cancelar"})]})]}),Ce&&ve&&g.jsxs(F_,{onClose:()=>bt(!1),title:"Eliminar imagen",children:[g.jsxs("p",{children:["Seguro que quieres eliminar esta imagen?",g.jsx("br",{}),g.jsx("strong",{children:ve.title||ve.publicId})]}),g.jsxs("small",{className:"muted",children:["Se borrar el documento en Firestore y se intentar borrar el asset en Cloudinary (si hay ",g.jsx("code",{children:"deleteToken"})," o endpoint backend)."]}),g.jsxs("div",{className:"modal-actions",children:[g.jsx("button",{className:"btn danger",onClick:ct,type:"button",children:"S, eliminar"}),g.jsx("button",{className:"btn secondary",onClick:()=>bt(!1),type:"button",children:"Cancelar"})]})]}),g.jsx("style",{children:`
        .photo-tile {
          position: relative;
          background:#fff; border:1px solid var(--ring); border-radius:16px; overflow:hidden;
          box-shadow:0 8px 20px var(--shadow);
          display:grid; grid-template-rows:auto auto;
          transition:transform .18s ease, box-shadow .18s ease;
        }
        .photo-tile:hover { transform: translateY(-3px); box-shadow: 0 14px 30px rgba(183,108,253,.22); }

        .thumb-wrap.thumb-wrap--frame {
          position: relative;
          max-height: 420px;
          background: linear-gradient(180deg,#faf7ff,#f7fffe);
          display:grid; place-items:center;
        }
        @media (max-width: 900px){ .thumb-wrap.thumb-wrap--frame { max-height: 360px; } }
        @media (max-width: 560px){ .thumb-wrap.thumb-wrap--frame { max-height: 300px; } }
        .thumb-wrap.thumb-wrap--frame img {
          height: 100%; width: auto; object-fit: contain; display:block;
          transition: transform .25s ease, filter .25s ease;
        }
        .thumb-wrap.clickable { cursor: zoom-in; }
        .photo-tile:hover .thumb-wrap--frame img { transform: scale(1.015); filter: contrast(1.02); }

        .tile-caption { padding: 10px 12px 12px; }
        .tile-actions { display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; justify-content:center; }
        .btn.sm { padding:8px 12px; border-radius:12px; font-size:.9rem; }
        .btn.danger { background:#ef4444; } .btn.danger:hover { background:#f87171; }

        /* Ribbon */
        .ribbon {
          position: absolute; top: 10px; left: 10px; z-index: 2;
          display: inline-flex; align-items: center; gap: 6px;
          padding: 8px 12px; font-weight: 800; font-size: 12px; color: #fff;
          background: linear-gradient(135deg, var(--brand), var(--accent));
          border-radius: 999px; box-shadow: 0 6px 16px rgba(183,108,253,.28);
          backdrop-filter: blur(4px);
        }
        .ribbon i { font-style: normal; opacity: .95; }

        .ribbon.cumple { background: linear-gradient(135deg, #8aa7ff, #b76cfd); }
        .ribbon.baby-shower { background: linear-gradient(135deg, #f8aee3, #6be4dc); color:#3a2e4e; }
        .ribbon.chocolate { background: linear-gradient(135deg, #a77979, #e0b9a8); }

        /* Viewer */
        .image-viewer-backdrop {
          position: fixed; inset: 0; background: rgba(0,0,0,0.8);
          display: grid; place-items: center; z-index: 2000; cursor: zoom-out; animation: fadeIn .25s ease;
        }
        .image-viewer-img {
          max-width: 95vw; max-height: 90vh; border-radius: 16px;
          box-shadow: 0 20px 60px rgba(0,0,0,0.5); cursor: default;
        }
        .image-viewer-close {
          position: absolute; top: 24px; right: 24px;
          background: rgba(255,255,255,0.9); color:#111; border:none;
          border-radius:999px; width:42px; height:42px; font-size:22px; font-weight:700;
          display:grid; place-items:center; cursor:pointer;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Modal genrico */
        .modal-backdrop {
          position:fixed; inset:0; background:rgba(0,0,0,.35);
          display:grid; place-items:center; z-index:9999;
        }
        .modal {
          width:min(560px,92vw); background:#fff; border-radius:16px; border:1px solid #eee;
          box-shadow:0 20px 60px rgba(0,0,0,.2); padding:18px;
        }
        .modal h3 { margin:0 0 6px; font-size:1.22rem; }
        .modal-actions { display:flex; gap:10px; justify-content:flex-end; margin-top:14px; }
        .grid { display:grid; gap:12px; }
        @media (min-width:768px){ .grid.cols-2 { grid-template-columns:1fr 1fr; } }
        .input-wrap { display:flex; flex-direction:column; gap:6px; }
        .input-wrap input, .input-wrap select { padding:10px 12px; border-radius:12px; border:1px solid #e5e7eb; }

        .gallery-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
          gap: 18px;
        }
      `})]})}function F_({title:t,children:e,onClose:n}){return A.useEffect(()=>{const r=i=>i.key==="Escape"&&n();return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[n]),g.jsx("div",{className:"modal-backdrop",onClick:n,role:"dialog","aria-modal":"true",children:g.jsxs("div",{className:"modal",onClick:r=>r.stopPropagation(),children:[g.jsx("h3",{children:t}),e]})})}const P3="1987",sd="dash_auth_ok";function R3(){const[t,e]=A.useState(()=>localStorage.getItem(sd)==="1"),[n,r]=A.useState(""),[i,s]=A.useState("upload");A.useEffect(()=>{document.title="Dashboard"},[]);const o=u=>{u.preventDefault(),n===P3?(localStorage.setItem(sd,"1"),e(!0)):alert("PIN incorrecto")},a=()=>{localStorage.removeItem(sd),e(!1),r("")};return t?g.jsxs("section",{className:"section",children:[g.jsx("div",{className:"container",children:g.jsxs("div",{className:"dash-layout",children:[g.jsxs("aside",{className:"dash-sidebar","aria-label":"Men del dashboard",children:[g.jsxs("div",{className:"dash-brand",children:[g.jsx("strong",{children:"Dashboard"}),g.jsx("small",{className:"muted",children:"oculto"})]}),g.jsxs("nav",{className:"dash-nav",children:[g.jsx("button",{className:`dash-link ${i==="upload"?"active":""}`,onClick:()=>s("upload"),children:" Subir imgenes"}),g.jsx("button",{className:`dash-link ${i==="gallery"?"active":""}`,onClick:()=>s("gallery"),children:" Galera"}),g.jsx("button",{className:`dash-link ${i==="settings"?"active":""}`,onClick:()=>s("settings"),children:" Ajustes"})]}),g.jsx("div",{className:"dash-footer",children:g.jsx("button",{className:"btn btn-ghost",onClick:a,children:"Salir"})})]}),g.jsxs("main",{className:"dash-content",children:[i==="upload"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Subida de imgenes"}),g.jsx("p",{className:"lead",children:"Usa el cargador para subir con datos o la seccin de carga masiva (sin metadatos)."}),g.jsx(S3,{})]}),i==="gallery"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Galera"}),g.jsx("p",{className:"lead",children:"Explora lo que ya subiste, con filtros y bsqueda."}),g.jsx(Yx,{})]}),i==="settings"&&g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"h2",children:"Ajustes"}),g.jsx("div",{className:"admin-card",children:g.jsx("p",{className:"muted",children:"Aqu puedes agregar opciones como cambiar el PIN, revisar variables de entorno, o mostrar info de tu cuenta de Cloudinary / Firestore."})})]})]})]})}),g.jsx("style",{children:`
        .dash-layout {
          display: grid;
          grid-template-columns: 240px 1fr;
          gap: 16px;
          min-height: 70vh;
        }
        @media (max-width: 960px) {
          .dash-layout {
            grid-template-columns: 1fr;
          }
          .dash-sidebar {
            position: sticky;
            top: 10px;
            z-index: 2;
          }
        }
        .dash-sidebar {
          background: #fff;
          border: 1px solid #eee;
          border-radius: 14px;
          padding: 14px;
          display: flex;
          flex-direction: column;
          gap: 12px;
          height: fit-content;
        }
        .dash-brand {
          display: flex;
          align-items: baseline;
          gap: 6px;
          font-size: 18px;
        }
        .muted { color: #6b7280; font-size: 12px; }
        .dash-nav {
          display: grid;
          gap: 6px;
          margin-top: 8px;
        }
        .dash-link {
          text-align: left;
          border: 1px solid #eee;
          background: #fafafa;
          border-radius: 10px;
          padding: 10px 12px;
          cursor: pointer;
          transition: background .15s ease, border-color .15s ease, transform .05s ease;
        }
        .dash-link:hover { background: #f6f6f6; border-color: #e7e7e7; }
        .dash-link.active {
          background: #f0f2ff;
          border-color: #dfe3ff;
        }
        .dash-footer {
          margin-top: auto;
          display: flex;
          justify-content: flex-start;
        }
        .btn-ghost {
          background: transparent;
          border: 1px solid #eee;
          color: #374151;
        }
        .dash-content {
          display: grid;
          gap: 16px;
        }
        .admin-card {
          background: #fff;
          padding: 1.5rem;
          border-radius: 16px;
          box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
          border: 1px solid #eee;
        }
      `})]}):g.jsx("section",{className:"section",children:g.jsxs("div",{className:"container",style:{maxWidth:420},children:[g.jsx("h2",{className:"h2",children:"Acceso"}),g.jsx("p",{className:"lead",children:"Ingresa el PIN para continuar"}),g.jsxs("form",{onSubmit:o,className:"admin-card",children:[g.jsx("input",{type:"password",placeholder:"PIN",value:n,onChange:u=>r(u.target.value),style:{width:"100%",padding:"0.75rem",borderRadius:8,border:"1px solid #ddd"}}),g.jsx("button",{className:"btn",style:{marginTop:12},type:"submit",children:"Entrar"})]})]})})}function k3(){return A.useEffect(()=>{document.title="Galera"},[]),g.jsxs(g.Fragment,{children:[g.jsx(GT,{}),g.jsx("main",{children:g.jsx(Yx,{id:"galeria",title:"Galera",pageSize:24})}),g.jsx(KT,{})]})}function V3(){return g.jsxs(g.Fragment,{children:[g.jsx(GT,{}),g.jsxs("main",{children:[g.jsx(YD,{}),g.jsx(_3,{}),g.jsx(Ib,{}),g.jsx(Vb,{})]}),g.jsx(KT,{})]})}function D3(){return g.jsxs(OP,{children:[g.jsx(Ro,{path:"/",element:g.jsx(V3,{})}),g.jsx(Ro,{path:"/galeria",element:g.jsx(k3,{})})," ",g.jsx(Ro,{path:"/dashboard",element:g.jsx(R3,{})}),g.jsx(Ro,{path:"*",element:g.jsx(MP,{to:"/"})})]})}od.createRoot(document.getElementById("root")).render(g.jsx(MC.StrictMode,{children:g.jsx(oR,{children:g.jsx(D3,{})})}));
